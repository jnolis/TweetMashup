(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Json=b.Json||{};d=c.Provider=c.Provider||{};e=b.Web=b.Web||{};f=e.Control=e.Control||{};g=e.FSharpInlineControl=e.FSharpInlineControl||{};h=e.InlineControl=e.InlineControl||{};i=a.IntelliFactory;j=i&&i.Runtime;k=b&&b.Collections;l=k&&k.LinkedList;m=b&&b.Arrays;n=k&&k.Dictionary;o=k&&k.FSharpMap;p=b&&b.Operators;q=b&&b.Unchecked;r=k&&k.FSharpSet;s=k&&k.BalancedTree;t=b&&b.List;u=b&&b.Enumerator;v=k&&k.Map;w=b&&b.Seq;d.DecodeLinkedList=j.Curried3(function(x,y,z){var A,B,C,D;A=new l.New();B=x();for(C=0,D=z.length-1;C<=D;C++)A.AddLast(B(m.get(z,C)));return A;});d.DecodeStringDictionary=j.Curried3(function(x,y,z){var A,B,C;A=new n.New$5();B=x();for(var D in z)if(function(E){A.Add(E,B(z[E]));return false;}(D))break;return A;});d.DecodeStringMap=j.Curried3(function(x,y,z){var A,B,C;A=[new o.New([])];B=x();for(var D in z)if(function(E){var F;A[0]=(F=B(z[E]),A[0].Add(E,F));return false;}(D))break;return A[0];});d.DecodeArray=function(x){return d.EncodeArray(x);};d.DecodeUnion=function(x,y,z){return function(){return function(A){var B,C,F,G,H;function D(I,J){return I===C;}function E(I,J,K,L){var M;if(I===null){M=(K(null))(A);J?delete M[y]:void 0;F.$0=M;}else if(L===0)F[I]=(K(null))(A[J]);else if(L===1)F[I]=A.hasOwnProperty(J)?{$:1,$0:(K(null))(A[J])}:null;else p.FailWith("Invalid field option kind");}if(typeof A==="object"&&A!=null){F=x===void 0?{}:new x();if(q.Equals(typeof y,"string"))B=(C=A[y],m.findIndex(function(I){return D(I[0],I[1]);},z));else{G=[void 0];for(var I in y)if(function(J){return A.hasOwnProperty(J)&&(G[0]=y[J],true);}(I))break;B=G[0];}F.$=B;m.iter(function(J){return E(J[0],J[1],J[2],J[3]);},(m.get(z,B))[1]);return F;}else return A;};};};d.DecodeRecord=function(x,y){return function(){return function(z){var A;function B(C,D,E){if(E===0){if(z.hasOwnProperty(C))A[C]=(D(null))(z[C]);else p.FailWith("Missing mandatory field: "+C);}else if(E===1)A[C]=z.hasOwnProperty(C)?{$:1,$0:(D(null))(z[C])}:null;else if(E===2){if(z.hasOwnProperty(C))A[C]=(D(null))(z[C]);}else p.FailWith("Invalid field option kind");}A=x===void 0?{}:new x();m.iter(function(C){return B(C[0],C[1],C[2]);},y);return A;};};};d.DecodeSet=j.Curried3(function(x,y,z){return new r.New$1(s.OfSeq(m.map(x(),z)));});d.DecodeList=j.Curried3(function(x,y,z){var A;A=x();return t.init(m.length(z),function(B){return A(m.get(z,B));});});d.DecodeDateTime=j.Curried3(function(x,y,z){return(new a.Date(z)).getTime();});d.DecodeTuple=function(x){return d.EncodeTuple(x);};d.EncodeLinkedList=j.Curried3(function(x,y,z){var A,B,C;A=[];B=x();C=u.Get(z);try{while(C.MoveNext())A.push(B(C.Current()));}finally{if("Dispose"in C)C.Dispose();}return A;});d.EncodeStringDictionary=j.Curried3(function(x,y,z){var A,B,C,D;A={};B=x();C=u.Get(z);try{while(C.MoveNext()){D=p.KeyValue(C.Current());A[D[0]]=B(D[1]);}}finally{if("Dispose"in C)C.Dispose();}return A;});d.EncodeStringMap=j.Curried3(function(x,y,z){var A,B;A={};B=x();v.Iterate(function(C,D){A[C]=B(D);},z);return A;});d.EncodeSet=j.Curried3(function(x,y,z){var A,B;A=[];B=x();w.iter(function(C){A.push(B(C));},z);return A;});d.EncodeArray=j.Curried3(function(x,y,z){return m.map(x(),z);});d.EncodeUnion=function(x,y,z){return function(){return function(A){var B,C;function D(E,F,G,H){var I,J,K;if(E===null){I=(G(null))(A.$0);for(var L in I)if(function(M){B[M]=I[M];return false;}(L))break;}else if(H===0)B[F]=(G(null))(A[E]);else if(H===1){K=A[E];K==null?void 0:B[F]=(G(null))(K.$0);}else p.FailWith("Invalid field option kind");}return typeof A==="object"&&A!=null?(B={},(C=m.get(z,A.$),(q.Equals(typeof y,"string")?B[y]=C[0]:void 0,m.iter(function(E){return D(E[0],E[1],E[2],E[3]);},C[1]),B))):A;};};};d.EncodeRecord=function(x,y){return function(){return function(z){var A;function B(C,D,E){var F;if(E===0)A[C]=(D(null))(z[C]);else if(E===1){F=z[C];F==null?void 0:A[C]=(D(null))(F.$0);}else if(E===2){if(z.hasOwnProperty(C))A[C]=(D(null))(z[C]);}else p.FailWith("Invalid field option kind");}A={};m.iter(function(C){return B(C[0],C[1],C[2]);},y);return A;};};};d.EncodeList=j.Curried3(function(x,y,z){var A,B;A=[];B=x();t.iter(function(C){A.push(B(C));},z);return A;});d.EncodeDateTime=j.Curried3(function(x,y,z){return(new a.Date(z)).toISOString();});d.EncodeTuple=j.Curried3(function(x,y,z){return m.map2(function(A,B){return(A(null))(B);},x,z);});d.Id=j.Curried3(function(x,y,z){return z;});f=e.Control=j.Class({Body:function(){return this.get_Body();}},null,f);g=e.FSharpInlineControl=j.Class({get_Body:function(){return m.fold(function(x,y){return x[y];},a,this.funcName).apply(null,this.args);}},f,g);h=e.InlineControl=j.Class({get_Body:function(){return m.fold(function(x,y){return x[y];},a,this.funcName).apply(null,this.args);}},f,h);}());

(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Json=b.Json||{};d=c.Provider=c.Provider||{};e=b.Web=b.Web||{};f=e.Control=e.Control||{};g=e.FSharpInlineControl=e.FSharpInlineControl||{};h=e.InlineControl=e.InlineControl||{};i=a.IntelliFactory;j=i&&i.Runtime;k=b&&b.Collections;l=k&&k.Dictionary;m=k&&k.FSharpMap;n=b&&b.Operators;o=b&&b.Unchecked;p=b&&b.Arrays;q=k&&k.FSharpSet;r=k&&k.BalancedTree;s=b&&b.List;t=b&&b.Enumerator;u=k&&k.Map;v=b&&b.Seq;d.DecodeStringDictionary=j.Curried3(function(w,x,y){var z,A,B;z=new l.New$5();A=w();for(var C in y)if(function(D){z.Add(D,A(y[D]));return false;}(C))break;return z;});d.DecodeStringMap=j.Curried3(function(w,x,y){var z,A,B;z=[new m.New([])];A=w();for(var C in y)if(function(D){var E;z[0]=(E=A(y[D]),z[0].Add(D,E));return false;}(C))break;return z[0];});d.DecodeArray=function(w){return d.EncodeArray(w);};d.DecodeUnion=function(w,x,y){return function(){return function(z){var A,B,E,F,G;function C(H,I){return H===B;}function D(H,I,J,K){var L;if(H===null){L=(J(null))(z);I?delete L[x]:void 0;E.$0=L;}else if(K===0)E[H]=(J(null))(z[I]);else if(K===1)E[H]=z.hasOwnProperty(I)?{$:1,$0:(J(null))(z[I])}:null;else n.FailWith("Invalid field option kind");}if(typeof z==="object"&&z!=null){E=w===void 0?{}:new w();if(o.Equals(typeof x,"string"))A=(B=z[x],p.findIndex(function(H){return C(H[0],H[1]);},y));else{F=[void 0];for(var H in x)if(function(I){return z.hasOwnProperty(I)&&(F[0]=x[I],true);}(H))break;A=F[0];}E.$=A;p.iter(function(I){return D(I[0],I[1],I[2],I[3]);},(p.get(y,A))[1]);return E;}else return z;};};};d.DecodeRecord=function(w,x){return function(){return function(y){var z;function A(B,C,D){if(D===0){if(y.hasOwnProperty(B))z[B]=(C(null))(y[B]);else n.FailWith("Missing mandatory field: "+B);}else if(D===1)z[B]=y.hasOwnProperty(B)?{$:1,$0:(C(null))(y[B])}:null;else if(D===2){if(y.hasOwnProperty(B))z[B]=(C(null))(y[B]);}else n.FailWith("Invalid field option kind");}z=w===void 0?{}:new w();p.iter(function(B){return A(B[0],B[1],B[2]);},x);return z;};};};d.DecodeSet=j.Curried3(function(w,x,y){return new q.New$1(r.OfSeq(p.map(w(),y)));});d.DecodeList=j.Curried3(function(w,x,y){var z;z=w();return s.init(p.length(y),function(A){return z(p.get(y,A));});});d.DecodeDateTime=j.Curried3(function(w,x,y){return(new a.Date(y)).getTime();});d.DecodeTuple=function(w){return d.EncodeTuple(w);};d.EncodeStringDictionary=j.Curried3(function(w,x,y){var z,A,B,C;z={};A=w();B=t.Get(y);try{while(B.MoveNext()){C=n.KeyValue(B.Current());z[C[0]]=A(C[1]);}}finally{if("Dispose"in B)B.Dispose();}return z;});d.EncodeStringMap=j.Curried3(function(w,x,y){var z,A;z={};A=w();u.Iterate(function(B,C){z[B]=A(C);},y);return z;});d.EncodeSet=j.Curried3(function(w,x,y){var z,A;z=[];A=w();v.iter(function(B){z.push(A(B));},y);return z;});d.EncodeArray=j.Curried3(function(w,x,y){return p.map(w(),y);});d.EncodeUnion=function(w,x,y){return function(){return function(z){var A,B;function C(D,E,F,G){var H,I,J;if(D===null){H=(F(null))(z.$0);for(var K in H)if(function(L){A[L]=H[L];return false;}(K))break;}else if(G===0)A[E]=(F(null))(z[D]);else if(G===1){J=z[D];J==null?void 0:A[E]=(F(null))(J.$0);}else n.FailWith("Invalid field option kind");}return typeof z==="object"&&z!=null?(A={},(B=p.get(y,z.$),(o.Equals(typeof x,"string")?A[x]=B[0]:void 0,p.iter(function(D){return C(D[0],D[1],D[2],D[3]);},B[1]),A))):z;};};};d.EncodeRecord=function(w,x){return function(){return function(y){var z;function A(B,C,D){var E;if(D===0)z[B]=(C(null))(y[B]);else if(D===1){E=y[B];E==null?void 0:z[B]=(C(null))(E.$0);}else if(D===2){if(y.hasOwnProperty(B))z[B]=(C(null))(y[B]);}else n.FailWith("Invalid field option kind");}z={};p.iter(function(B){return A(B[0],B[1],B[2]);},x);return z;};};};d.EncodeList=j.Curried3(function(w,x,y){var z,A;z=[];A=w();s.iter(function(B){z.push(A(B));},y);return z;});d.EncodeDateTime=j.Curried3(function(w,x,y){return(new a.Date(y)).toISOString();});d.EncodeTuple=j.Curried3(function(w,x,y){return p.map2(function(z,A){return(z(null))(A);},w,y);});d.Id=j.Curried3(function(w,x,y){return y;});f=e.Control=j.Class({Body:function(){return this.get_Body();}},null,f);g=e.FSharpInlineControl=j.Class({get_Body:function(){return p.fold(function(w,x){return w[x];},a,this.funcName).apply(null,this.args);}},f,g);h=e.InlineControl=j.Class({get_Body:function(){return p.fold(function(w,x){return w[x];},a,this.funcName).apply(null,this.args);}},f,h);}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu;$.Define($$,{WebSharper:{UI:{Next:{Abbrev:{Async:{Schedule:function(bv){var bw;bw=a.Delay(function(){return a.Return(bv(null));});return a.Start(bw,{$:0});},StartTo:function(bx,by){return a.StartWithContinuations(bx,by,function(){},function(){},{$:0});}},Dict:{ToKeyArray:function(bB){var bC,bD;bC=b(bB.count);bD=function(bE){return function(bF){return c.set(bC,bE,bF.K);};};d.iteri(bD,bB);return bC;},ToValueArray:function(bG){var bH,bI;bH=b(bG.count);bI=function(bJ){return function(bK){return c.set(bH,bJ,bK.V);};};d.iteri(bI,bG);return bH;}},Fresh:{Id:function(){var bL;bL=h.counter()+1;h.counter=function(){return bL;};return"uid"+$$.String(h.counter());},Int:function(){var bM;bM=h.counter()+1;h.counter=function(){return bM;};return h.counter();},counter:$.Field(function(){return 0;})},HashSet:{Except:function(bN,bO){var bP;bP=j.New(k.ToArray(bO));bP.ExceptWith(k.ToArray(bN));return bP;},Filter:function(bQ,bR){var bS;bS=k.ToArray(bR);return j.New(c.filter(bQ,bS));},Intersect:function(bT,bU){var bV;bV=j.New(k.ToArray(bT));bV.IntersectWith(k.ToArray(bU));return bV;},ToArray:function(bW){var bX;bX=b(bW.get_Count());bW.CopyTo(bX);return bX;}},JQueue:{Add:function($x,$q){var $0=this,$this=this;return $q.push($x);},Count:function(bY){return bY.length;},Dequeue:function($q){var $0=this,$this=this;return $q.shift();},Iter:function(bZ,b0){return c.iter(bZ,l.ToArray(b0));},ToArray:function(b1){return b1.slice();}},Mailbox:{StartProcessor:function(b2){var b3,b4,b5,ca,cd;b3=[];b4=[false];b5=a.Delay(function(){return a.Combine(a.While(function(){return l.Count(b3)>0;},a.Delay(function(){var b9;b9=l.Dequeue(b3);return a.Bind(b2(b9),function(){return a.Return(null);});})),a.Delay(function(){return a.Return(void(b4[0]=false));}));});ca=function(){var cc;if(!b4[0]){b4[0]=true;cc=a.Start(b5,{$:0});}else{cc=null;}return cc;};cd=function(ce){l.Add(ce,b3);return ca(null);};return cd;}},Slot1:$.Class({Equals:function(cf){return m.Equals(this.key.call(null,this.value),this.key.call(null,cf.get_Value()));},GetHashCode:function(){return m.Hash(this.key.call(null,this.value));},get_Value:function(){return this.value;}},{Create:function(cg,ch){return n.New(cg,ch);},New:function(ci,cj){var ck;ck=$.New(this,{});ck.key=ci;ck.value=cj;return ck;}}),U:function(){return;}},An:$.Class({},{Append:function(cl,cm){var cn,co;cn=cl.$0;co=cm.$0;return $.New(o,{$:0,$0:p.Append(cn,co)});},Concat:function(cp){var cq,cs;cq=d.map(function(cr){return q.List(cr);},cp);cs=p.Concat(cq);return $.New(o,{$:0,$0:cs});},Const:function(ct){return q.Const(ct);},Delayed:function(cu,cv,cw,cx,cy,cz){var cA;cA=cw+cx;return{Compute:function(cB){var cC,cD;if(cB<=cx){cC=cy;}else{cD=cv.TransformTime.call(null,(cB-cx)/cw);cC=cu.Interpolate(cD,cy,cz);}return cC;},Duration:cA};},Map:function(cE,cF){var cG;cG=cF.Compute;return q.Def(cF.Duration,function(cH){return cE(cG(cH));});},Pack:function(cI){return $.New(o,{$:0,$0:p.Single({$:1,$0:cI})});},Play:function(cJ){return a.Delay(function(){var cL,cN;cL=function(){};cN=q.Actions(cJ);return a.Bind(o.Run(cL,cN),function(){return a.Return(q.Finalize(cJ));});});},Run:function(cP,cQ){var cR,cS;cR=cQ.Duration;cS=function(cT){var cU,cV,cW,cX,c4;cU=cT[0];cV=cT[1];cW=cT[2];cX=function(cY,cZ){var c0,c1,c2;c0=cZ-cY;cP(cQ.Compute.call(null,c0));if(c0<=cR){c2=r(function(c3){return cX(cY,c3);});c1=void c2;}else{c1=cU(null);}return c1;};c4=r(function(c5){return cX(c5,c5);});return;};return a.FromContinuations(cS);},Simple:function(c6,c7,c8,c9,c_){return{Compute:function(c$){var da;da=c7.TransformTime.call(null,c$/c8);return c6.Interpolate(da,c9,c_);},Duration:c8};},WhenDone:function(db,dc){var dd;dd=$.New(o,{$:0,$0:p.Single({$:0,$0:db})});return o.Append(dd,dc);},get_Empty:function(){return $.New(o,{$:0,$0:p.Empty()});}}),AnimatedAttrNode:$.Class({GetChangeAnim:function(de){var df,dg,di=this,dj,dk,dl,dm,dn,_do,dp,dq,ds,dt;df=[this.visible,this.logical];dg=function(){return di.sync(de);};if(df[0].$==1){if(df[1].$==1){df[0].$0;df[1].$0;if(di.dirty){dn=df[1].$0;_do=df[0].$0;dp=di.tr;dq=function(dr){return di.pushVisible(de,dr);};ds=s.AnimateChange(dp,_do,dn);dt=o.Map(dq,ds);dm=o.Pack(dt);}else{dm=o.get_Empty();}dl=dm;}else{dl=o.get_Empty();}dk=dl;}else{dk=o.get_Empty();}dj=dk;return o.WhenDone(dg,dj);},GetEnterAnim:function(du){var dv,dw,dy=this,dz,dA,dB,dC,dD,dE,dF,dG,dI,dJ,dK,dL,dM,dN,dO,dQ,dR,dS,dT,dU,dV,dW,dY,dZ,d0,d1,d2,d3,d4,d6,d7;dv=[this.visible,this.logical];dw=function(){return dy.sync(du);};if(dv[0].$==1){if(dv[1].$==1){dv[0].$0;dv[1].$0;if(dy.dirty){dD=dv[1].$0;dE=dv[0].$0;dF=dy.tr;dG=function(dH){return dy.pushVisible(du,dH);};dI=s.AnimateChange(dF,dE,dD);dJ=o.Map(dG,dI);dC=o.Pack(dJ);}else{if(dv[0].$==0){if(dv[1].$==1){dM=dv[1].$0;dN=dy.tr;dO=function(dP){return dy.pushVisible(du,dP);};dQ=s.AnimateEnter(dN,dM);dR=o.Map(dO,dQ);dL=o.Pack(dR);}else{dL=o.get_Empty();}dK=dL;}else{dK=o.get_Empty();}dC=dK;}dB=dC;}else{if(dv[0].$==0){if(dv[1].$==1){dU=dv[1].$0;dV=dy.tr;dW=function(dX){return dy.pushVisible(du,dX);};dY=s.AnimateEnter(dV,dU);dZ=o.Map(dW,dY);dT=o.Pack(dZ);}else{dT=o.get_Empty();}dS=dT;}else{dS=o.get_Empty();}dB=dS;}dA=dB;}else{if(dv[0].$==0){if(dv[1].$==1){d2=dv[1].$0;d3=dy.tr;d4=function(d5){return dy.pushVisible(du,d5);};d6=s.AnimateEnter(d3,d2);d7=o.Map(d4,d6);d1=o.Pack(d7);}else{d1=o.get_Empty();}d0=d1;}else{d0=o.get_Empty();}dA=d0;}dz=dA;return o.WhenDone(dw,dz);},GetExitAnim:function(d8){var d9,d_,ea=this,eb,ec,ed,ee,ef,eh,ei;d9=this.visible;d_=function(){ea.dirty=true;ea.visible={$:0};return;};if(d9.$==1){ed=d9.$0;ee=ea.tr;ef=function(eg){return ea.pushVisible(d8,eg);};eh=s.AnimateExit(ee,ed);ei=o.Map(ef,eh);ec=o.Pack(ei);}else{ec=o.get_Empty();}eb=ec;return o.WhenDone(d_,eb);},Init:function(){return null;},Sync:function(){return null;},get_Changed:function(){return this.updates;},pushVisible:function(el,em){this.visible={$:1,$0:em};this.dirty=true;return(this.push.call(null,el))(em);},sync:function(en){var eo;if(this.dirty){t.iter(this.push.call(null,en),this.logical);this.visible=this.logical;eo=void(this.dirty=false);}else{eo=null;}return eo;}},{New:function(ep,eq,er){var es,et;es=$.New(this,{});es.tr=ep;es.push=er;es.logical={$:0};es.visible={$:0};es.dirty=true;et=function(eu){es.logical={$:1,$0:eu};es.dirty=true;return;};es.updates=u.Map(et,eq);return es;}}),Anims:{Actions:function(ev){var ew,ex,eB,eC;ew=ev.$0;ex=function(ey){var ez,eA;if(ey.$==1){eA=ey.$0;ez={$:1,$0:eA};}else{ez={$:0};}return ez;};eB=p.ToArray(ew);eC=c.choose(ex,eB);return q.ConcatActions(eC);},ConcatActions:function(eD){var eE,eF,eG,eH,eJ,eK,eL;eE=d.toArray(eD);eF=c.length(eE);if(eF===0){eG=q.Const(null);}else{if(eF===1){eG=c.get(eE,0);}else{eH=function(eI){return eI.Duration;};eJ=d.map(eH,eE);eK=d.max(eJ);eL=c.map(function(eM){return q.Prolong(eK,eM);},eE);eG=q.Def(eK,function(eN){return c.iter(function(eO){return eO.Compute.call(null,eN);},eL);});}}return eG;},Const:function(eP){return q.Def(0,function(){return eP;});},Def:function(eR,eS){return{Compute:eS,Duration:eR};},Finalize:function(eT){var eU,eV,eZ;eU=eT.$0;eV=function(eW){var eX,eY;if(eW.$==0){eY=eW.$0;eX=eY(null);}else{eX=null;}return eX;};eZ=p.ToArray(eU);return c.iter(eV,eZ);},List:function(e0){var e1;e1=e0.$0;return e1;},Prolong:function(e2,e3){var e4,e5,e6,e8;e4=e3.Compute;e5=e3.Duration;e6=v.Create(function(){return e3.Compute.call(null,e3.Duration);});e8=function(e9){return e9>=e5?e6.eval():e4(e9);};return{Compute:e8,Duration:e2};}},AppendList1:{Append:function(e_,e$){var fa,fb,fc,fd,fe;fa=[e_,e$];if(fa[0].$==0){fc=fa[1];fb=fc;}else{if(fa[1].$==0){fe=fa[0];fd=fe;}else{fd={$:2,$0:e_,$1:e$};}fb=fd;}return fb;},Concat:function(ff){var fg,fh,fj,fk;fg=d.toArray(ff);fh=function(fi){return fi;};fj=p.Empty();fk=function(fl){return function(fm){return p.Append(fl,fm);};};return w.MapReduce(fh,fj,fk,fg);},Empty:function(){return{$:0};},FromArray:function(fn){var fo;fo=fn.length;return fo===0?{$:0}:fo===1?{$:1,$0:c.get(fn,0)}:{$:3,$0:fn.slice()};},Single:function(fp){return{$:1,$0:fp};},ToArray:function(fq){var fr,fs;fr=[];fs=function(ft){var fu,fv,fw,fx,fy;if(ft.$==1){fv=ft.$0;fu=l.Add(fv,fr);}else{if(ft.$==2){fw=ft.$1;fx=ft.$0;fs(fx);fu=fs(fw);}else{if(ft.$==3){fy=ft.$0;fu=c.iter(function(fz){return l.Add(fz,fr);},fy);}else{fu=null;}}}return fu;};fs(fq);return l.ToArray(fr);}},Array:{MapReduce:function(fA,fB,fC,fD){var fE;fE=function(fF,fG){var fH,fI,fJ,fK,fL,fM,fN,fO,fP;if(fG<=0){fH=fB;}else{if(fG===1){if(fF>=0?fF<c.length(fD):false){fJ=fA(c.get(fD,fF));}else{fK=fG/2>>0;fL=fE(fF,fK);fM=fE(fF+fK,fG-fK);fJ=(fC(fL))(fM);}fI=fJ;}else{fN=fG/2>>0;fO=fE(fF,fN);fP=fE(fF+fN,fG-fN);fI=(fC(fO))(fP);}fH=fI;}return fH;};return fE(0,c.length(fD));}},AttrModule:{Animated:function(fQ,fR,fS,fT){return x.Animated(fR,fS,function(fU){return function(fV){return y.SetAttr(fU,fQ,fT(fV));};});},AnimatedStyle:function(fW,fX,fY,fZ){return x.Animated(fX,fY,function(f0){return function(f1){return y.SetStyle(f0,fW,fZ(f1));};});},Class:function(f2){return x.Static(function(f3){return y.AddClass(f3,f2);});},ContentEditableHtml:function(f4){var f5,f9;f5=z.CustomVar(f4,function(f6){return function(f7){f6.innerHTML=f7;};},function(f8){return{$:1,$0:f8.innerHTML};});f9=A.Create("contenteditable","true");return A.Append(f9,f5);},ContentEditableText:function(f_){var f$,gd;f$=z.CustomVar(f_,function(ga){return function(gb){ga.textContent=gb;};},function(gc){return{$:1,$0:gc.textContent};});gd=A.Create("contenteditable","true");return A.Append(gd,f$);},CustomValue:function(ge,gf,gg){return z.CustomVar(ge,function(gh){return function(gi){gh.value=gf(gi);};},function(gj){return gg(gj.value);});},CustomVar:function(gk,gl,gm){var gn,gv;gn=function(go){return function(){return gk.UpdateMaybe(function(gq){var gr,gs,gt,gu;gr=gm(go);if(gr.$==1){gt=gr.$0;if(!m.Equals(gt,gq)){gr.$0;gu=gr;}else{gu={$:0};}gs=gu;}else{gs={$:0};}return gs;});};};gv=function(gw){return function(gx){var gy,gz,gA,gB;gy=gm(gw);if(gy.$==1){gA=gy.$0;if(m.Equals(gA,gx)){gy.$0;gB=null;}else{gB=(gl(gw))(gx);}gz=gB;}else{gz=(gl(gw))(gx);}return gz;};};return A.Concat(B.ofArray([z.Handler("change",gn),z.Handler("input",gn),z.Handler("keypress",gn),z.DynamicCustom(gv,gk.get_View())]));},Dynamic:function(gC,gD){return x.Dynamic(gD,function(){},function(gF){return function(gG){return y.SetAttr(gF,gC,gG);};});},DynamicClass:function(gH,gI,gJ){return x.Dynamic(gI,function(){},function(gL){return function(gM){return gJ(gM)?y.AddClass(gL,gH):y.RemoveClass(gL,gH);};});},DynamicCustom:function(gN,gO){return x.Dynamic(gO,function(){},gN);},DynamicPred:function(gQ,gR,gS){var gT,gY,g1;gT=function(gU){return function(gV){var gW,gX;gW=gV[0];gX=gV[1];return gW?y.SetAttr(gU,gQ,gX):y.RemoveAttr(gU,gQ);};};gY=function(gZ){return function(g0){return[gZ,g0];};};g1=u.Map2(gY,gR,gS);return x.Dynamic(g1,function(){},gT);},DynamicProp:function(g3,g4){return x.Dynamic(g4,function(){},function(g6){return function(g7){g6[g3]=g7;};});},DynamicStyle:function(g8,g9){return x.Dynamic(g9,function(){},function(g$){return function(ha){return y.SetStyle(g$,g8,ha);};});},Handler:function(hb,hc){return x.Static(function(hd){return hd.addEventListener(hb,hc(hd),false);});},HandlerView:function(he,hf,hg){var hh,hi,hm;hh=h.Id();hi=function(hj){var hk;hk=hg(hj);return hj.addEventListener(he,function(hl){return(hk(hl))(hj[hh]);},false);};hm=function(hn){return function(ho){hn[hh]=ho;};};return x.Dynamic(hf,hi,hm);},OnAfterRender:function(hp){return x.Mk(0,{$:4,$0:hp});},Style:function(hq,hr){return x.Static(function(hs){return y.SetStyle(hs,hq,hr);});},ValidateForm:$.Field(function(){return z.OnAfterRender(function(ht){return $$.H5F?$$.H5F.setup(ht):undefined;});}),Value:function(hu){return z.CustomValue(hu,function(hv){return hv;},function(hw){return{$:1,$0:hw};});}},AttrProxy:$.Class({},{Append:function(hx,hy){return x.Mk(hx.Flags|hy.Flags,x.AppendTree(hx.Tree,hy.Tree));},Concat:function(hz){var hA,hB,hD,hE;hA=d.toArray(hz);hB=function(hC){return hC;};hD=A.get_Empty();hE=function(hF){return function(hG){return A.Append(hF,hG);};};return w.MapReduce(hB,hD,hE,hA);},Create:function(hH,hI){return x.Static(function(hJ){return y.SetAttr(hJ,hH,hI);});},Handler:function(hK,hL){return x.Static(function(hM){return hM.addEventListener(hK,hL(hM),false);});},get_Empty:function(){return x.EmptyAttr();}}),Attrs:{Animated:function(hN,hO,hP){var hQ,hR;hQ=C.New(hN,hO,hP);hR=4;s.CanAnimateEnter(hN)?hR=hR|1:null;s.CanAnimateExit(hN)?hR=hR|2:null;return x.Mk(hR,{$:1,$0:hQ});},AppendTree:function(hS,hT){var hU,hV,hW,hX,hY;hU=[hS,hT];if(hU[0].$==0){hW=hU[1];hV=hW;}else{if(hU[1].$==0){hY=hU[0];hX=hY;}else{hX={$:2,$0:hS,$1:hT};}hV=hX;}return hV;},Dynamic:function(hZ,h0,h1){var h2;h2={$:1,$0:D.New(hZ,h0,h1)};return x.Mk(0,h2);},EmptyAttr:$.Field(function(){return x.Mk(0,{$:0});}),GetAnim:function(h3,h4){var h5,h7,h8;h5=function(h6){return(h4(h6))(h3.DynElem);};h7=h3.DynNodes;h8=c.map(h5,h7);return o.Concat(h8);},GetChangeAnim:function(h9){return x.GetAnim(h9,function(h_){return function(h$){return h_.GetChangeAnim(h$);};});},GetEnterAnim:function(ia){return x.GetAnim(ia,function(ib){return function(ic){return ib.GetEnterAnim(ic);};});},GetExitAnim:function(id){return x.GetAnim(id,function(ie){return function(_if){return ie.GetExitAnim(_if);};});},HasChangeAnim:function(ig){return(ig.DynFlags&4)!==0;},HasEnterAnim:function(ih){return(ih.DynFlags&1)!==0;},HasExitAnim:function(ii){return(ii.DynFlags&2)!==0;},Insert:function(ij,ik){var il,im,_in,iv;il=[];im=[];_in=function(io){var ip,iq,ir,is,it,iu;if(io.$==1){iq=io.$0;iq.Init(ij);ip=l.Add(iq,il);}else{if(io.$==2){ir=io.$1;is=io.$0;_in(is);ip=_in(ir);}else{if(io.$==3){it=io.$0;ip=it(ij);}else{if(io.$==4){iu=io.$0;ip=l.Add(iu,im);}else{ip=null;}}}}return ip;};_in(ik.Tree);iv=l.ToArray(il);return $.DeleteEmptyFields({DynElem:ij,DynFlags:ik.Flags,DynNodes:iv,OnAfterRender:(l.Count(im)===0?{$:0}:{$:1,$0:function(iw){return l.Iter(function(ix){return ix(iw);},im);}}).$0},["OnAfterRender"]);},Mk:function(iy,iz){return $.New(A,{Flags:iy,Tree:iz});},Static:function(iA){return x.Mk(0,{$:3,$0:iA});},Sync:function(iB,iC){var iD,iF;iD=function(iE){return iE.Sync(iB);};iF=iC.DynNodes;return c.iter(iD,iF);},Updates:function(iG){var iH,iN,iO,iQ;iH=function(iI){return function(iJ){var iK;iK=function(){return function(){return null;};};return u.Map2(iK,iI,iJ);};};iN=iG.DynNodes;iO=function(iP){return iP.get_Changed();};iQ=E.Const(null);return w.MapReduce(iO,iQ,iH,iN);}},CheckedInput:$.Class({get_Input:function(){var iR,iS,iT,iU;if(this.$==1){iS=this.$0;iR=iS;}else{if(this.$==2){iT=this.$0;iR=iT;}else{iU=this.$1;iR=iU;}}return iR;}}),Doc:$.Class({ReplaceInDom:function(iV){var iW,iX;iW=F.createTextNode("");iX=iV.parentNode.replaceChild(iW,iV);return G.RunBefore(iW,this);},get_DocNode:function(){return this.docNode;},get_Updates:function(){return this.updates;}},{Append:function(iY,iZ){var i0,i3,i4,i5,i6;i0=function(){return function(){return null;};};i3=iY.get_Updates();i4=iZ.get_Updates();i5=u.Map2(i0,i3,i4);i6={$:0,$0:iY.get_DocNode(),$1:iZ.get_DocNode()};return G.Mk(i6,i5);},Async:function(i7){var i8,i_,i$;i8=function(i9){return i9;};i_=E.Const(i7);i$=u.MapAsync(i8,i_);return G.EmbedView(i$);},BindView:function(ja,jb){return G.EmbedView(u.Map(ja,jb));},Button:function(jc,jd,je){var jf,jg,jh;jf=A.Concat(jd);jg=G.Clickable("button",je);jh=G.TextNode(jc);return H.New(jg,jf,jh);},ButtonView:function(ji,jj,jk,jl){var jm,jp,jq,jr;jm=z.HandlerView("click",jk,function(){return function(){return jl;};});jp=A.Concat(d.append([jm],jj));jq=y.CreateElement("button");jr=G.TextNode(ji);return H.New(jq,jp,jr);},CheckBox:function(js,jt){var ju,jv,jx,jB;ju=y.CreateElement("input");jv=function(){return jt.Set(ju.checked);};ju.addEventListener("click",jv,false);jx=A.Concat(d.toList(d.delay(function(){return d.append(js,d.delay(function(){return d.append([A.Create("type","checkbox")],d.delay(function(){return[z.DynamicProp("checked",jt.get_View())];}));}));})));jB=G.get_Empty();return H.New(ju,jx,jB);},CheckBoxGroup:function(jC,jD,jE){var jF,jG,jM,jO,jQ,jR,jS,jT,jU,jV,jW,jZ;jF=jE.get_View();jG=function(jH){return jE.Update(function(jI){var jJ,jL;jJ=jH?B.append(jI,B.ofArray([jD])):B.filter(function(jK){return!m.Equals(jK,jD);},jI);jL=I.distinct(jJ);return d.toList(jL);});};jM=function(jN){return m.Equals(jN,jD);};jO=function(jP){return d.exists(jM,jP);};jQ=u.Map(jO,jF);jS=jE.get_Id();jT=h.Id();jR=B.append(B.ofArray([A.Create("type","checkbox"),A.Create("name",jS),A.Create("value",jT),z.DynamicProp("checked",jQ)]),B.ofSeq(jC));jU=A.Concat(jR);jV=y.CreateElement("input");jW=function(){var jY;jY=jV.checked;return jG(jY);};jV.addEventListener("click",jW,false);jZ=G.get_Empty();return H.New(jV,jU,jZ);},Clickable:function(j0,j1){var j2;j2=y.CreateElement(j0);j2.addEventListener("click",function(j3){j3.preventDefault();return j1(null);},false);return j2;},Concat:function(j4){var j5,j6,j8,j9;j5=d.toArray(j4);j6=function(j7){return j7;};j8=G.get_Empty();j9=function(j_){return function(j$){return G.Append(j_,j$);};};return w.MapReduce(j6,j8,j9,j5);},Convert:function(ka,kb){var kc;kc=u.MapSeqCached(ka,kb);return G.Flatten(kc);},ConvertBy:function(kd,ke,kf){var kg;kg=u.MapSeqCachedBy(kd,ke,kf);return G.Flatten(kg);},ConvertSeq:function(kh,ki){var kj;kj=u.MapSeqCachedView(kh,ki);return G.Flatten(kj);},ConvertSeqBy:function(kk,kl,km){var kn;kn=u.MapSeqCachedViewBy(kk,kl,km);return G.Flatten(kn);},Element:function(ko,kp,kq){var kr,ks,kt;kr=A.Concat(kp);ks=G.Concat(kq);kt=y.CreateElement(ko);return H.New(kt,kr,ks);},EmbedView:function(ku){var kv,kw,ky,kA,kB,kC;kv=J.CreateEmbedNode();kw=function(kx){J.UpdateEmbedNode(kv,kx.get_DocNode());return kx.get_Updates();};ky=function(){};kA=E.Bind(kw,ku);kB=u.Map(ky,kA);kC={$:2,$0:kv};return G.Mk(kC,kB);},Flatten:function(kD){var kE,kG;kE=function(kF){return G.Concat(kF);};kG=u.Map(kE,kD);return G.EmbedView(kG);},FloatInput:function(kH,kI){var kJ,kP;kJ=function(kK){return function(kL){var kM,kN,kO;if(K.isBlank(kL)){kN=(kK.checkValidity?kK.checkValidity():true)?$.New(L,{$:2,$0:kL}):$.New(L,{$:1,$0:kL});}else{kO=+kL;kN=$$.isNaN(kO)?$.New(L,{$:1,$0:kL}):$.New(L,{$:0,$0:kO,$1:kL});}kM=kN;return{$:1,$0:kM};};};kP=function(kQ){return d.append(kH,[z.CustomValue(kI,function(kR){return kR.get_Input();},kJ(kQ)),A.Create("type","number")]);};return G.InputInternal("input",kP);},FloatInputUnchecked:function(kS,kT){var kU,kY;kU=function(kV){var kW,kX;if(K.isBlank(kV)){kW={$:1,$0:0};}else{kX=+kV;kW=$$.isNaN(kX)?{$:0}:{$:1,$0:kX};}return kW;};kY=function(){return d.append(kS,[kT.Get()===0?A.Create("value","0"):A.get_Empty(),z.CustomValue(kT,function(k0){return $$.String(k0);},kU),A.Create("type","number")]);};return G.InputInternal("input",kY);},Input:function(k1,k2){var k3;k3=function(){return d.append(k1,[z.Value(k2)]);};return G.InputInternal("input",k3);},InputArea:function(k5,k6){var k7;k7=function(){return d.append(k5,[z.Value(k6)]);};return G.InputInternal("textarea",k7);},InputInternal:function(k9,k_){var k$,la,lb;k$=y.CreateElement(k9);la=A.Concat(k_(k$));lb=G.get_Empty();return H.New(k$,la,lb);},IntInput:function(lc,ld){var le,lk;le=function(lf){return function(lg){var lh,li,lj;if(K.isBlank(lg)){li=(lf.checkValidity?lf.checkValidity():true)?$.New(L,{$:2,$0:lg}):$.New(L,{$:1,$0:lg});}else{lj=+lg;li=$$.isNaN(lj)?$.New(L,{$:1,$0:lg}):$.New(L,{$:0,$0:lj,$1:lg});}lh=li;return{$:1,$0:lh};};};lk=function(ll){return d.append(lc,[z.CustomValue(ld,function(lm){return lm.get_Input();},le(ll)),A.Create("type","number"),A.Create("step","1")]);};return G.InputInternal("input",lk);},IntInputUnchecked:function(ln,lo){var lp,lt;lp=function(lq){var lr,ls;if(K.isBlank(lq)){lr={$:1,$0:0};}else{ls=+lq;lr=ls!==ls>>0?{$:0}:{$:1,$0:ls};}return lr;};lt=function(){return d.append(ln,[lo.Get()===0?A.Create("value","0"):A.get_Empty(),z.CustomValue(lo,function(lv){return $$.String(lv);},lp),A.Create("type","number"),A.Create("step","1")]);};return G.InputInternal("input",lt);},Link:function(lw,lx,ly){var lz,lA,lB,lC,lD;lz=A.Concat(lx);lA=A.Create("href","#");lB=A.Append(lA,lz);lC=G.Clickable("a",ly);lD=G.TextNode(lw);return H.New(lC,lB,lD);},LinkView:function(lE,lF,lG,lH){var lI,lL,lM,lN;lI=z.HandlerView("click",lG,function(){return function(){return lH;};});lL=A.Concat(d.append([lI,A.Create("href","#")],lF));lM=y.CreateElement("a");lN=G.TextNode(lE);return H.New(lM,lL,lN);},Mk:function(lO,lP){return G.New(lO,lP);},New:function(lQ,lR){var lS;lS=$.New(this,{});lS.docNode=lQ;lS.updates=lR;return lS;},PasswordBox:function(lT,lU){var lV;lV=function(){return d.append(lT,[z.Value(lU),A.Create("type","password")]);};return G.InputInternal("input",lV);},Radio:function(lX,lY,lZ){var l0,l2,l4,l5,l6,l7,l_,l$,ma;l0=y.CreateElement("input");l0.addEventListener("click",function(){return lZ.Set(lY);},false);l2=function(l3){return m.Equals(l3,lY);};l4=lZ.get_View();l5=u.Map(l2,l4);l6=z.DynamicProp("checked",l5);l7=function(l8,l9){return A.Create(l8,l9);};l_=B.append(B.ofArray([l7("type","radio"),l7("name",lZ.get_Id()),l6]),B.ofSeq(lX));l$=A.Concat(l_);ma=G.get_Empty();return H.New(l0,l$,ma);},Run:function(mb,mc){var md,me,mf,mh;md=mc.get_DocNode();J.LinkElement(mb,md);me=J.CreateRunState(mb,md);mf=M.StartProcessor(function(){return J.PerformAnimatedUpdate(me,md);});mh=mc.get_Updates();return E.Sink(mf,mh);},RunAfter:function(mi,mj){var mk,ml;mk=F.createTextNode("");ml=mi.parentNode.insertBefore(mk,mi.nextSibling);return G.RunBetween(mi,mk,mj);},RunAfterById:function(mm,mn){var mo;mo=y.Doc().getElementById(mm);return m.Equals(mo,null)?N.FailWith("invalid id: "+mm):G.RunAfter(mo,mn);},RunAppend:function(mp,mq){var mr,ms;mr=F.createTextNode("");ms=mp.appendChild(mr);return G.RunBefore(mr,mq);},RunAppendById:function(mt,mu){var mv;mv=y.Doc().getElementById(mt);return m.Equals(mv,null)?N.FailWith("invalid id: "+mt):G.RunAppend(mv,mu);},RunBefore:function(mw,mx){var my,mz;my=F.createTextNode("");mz=mw.parentNode.insertBefore(my,mw);return G.RunBetween(my,mw,mx);},RunBeforeById:function(mA,mB){var mC;mC=y.Doc().getElementById(mA);return m.Equals(mC,null)?N.FailWith("invalid id: "+mA):G.RunBefore(mC,mB);},RunBetween:function(mD,mE,mF){var mG,mH,mJ;J.LinkPrevElement(mE,mF.get_DocNode());mG=J.CreateDelimitedRunState(mD,mE,mF.get_DocNode());mH=M.StartProcessor(function(){return J.PerformAnimatedUpdate(mG,mF.get_DocNode());});mJ=mF.get_Updates();return E.Sink(mH,mJ);},RunById:function(mK,mL){var mM;mM=y.Doc().getElementById(mK);return m.Equals(mM,null)?N.FailWith("invalid id: "+mK):G.Run(mM,mL);},RunPrepend:function(mN,mO){var mP,mQ;mP=F.createTextNode("");mQ=mN.insertBefore(mP,mN.firstChild);return G.RunBefore(mP,mO);},RunPrependById:function(mR,mS){var mT;mT=y.Doc().getElementById(mR);return m.Equals(mT,null)?N.FailWith("invalid id: "+mR):G.RunPrepend(mT,mS);},Select:function(mU,mV,mW,mX){var mY;mY=E.Const(mW);return G.SelectDyn(mU,mV,mY,mX);},SelectDyn:function(mZ,m0,m1,m2){var m3,m4,m6,m9,na,ne,nf,ng,nh,nl,nq,nr,nz,nA,nB,nC,nE;m3=[$.New(O,{$:0})];m4=function(m5){return m5.selectedIndex;};m6=function(m7){var m8;m8=m4(m7);return m3[0].get_Item(m8);};m9=function(m_){return d.findIndex(function(m$){return m.Equals(m_,m$);},m3[0]);};na=function(nb){return function(nc){var nd;nd=m9(nc);nb.selectedIndex=nd;return;};};ne=y.CreateElement("select");nf=m2.get_View();ng=z.DynamicCustom(na,nf);nh=function(){return m2.UpdateMaybe(function(nj){var nk;nk=m6(ne);return m.Equals(nj,nk)?{$:0}:{$:1,$0:nk};});};ne.addEventListener("change",nh,false);nl=function(nm){var nn;m3[0]=nm;nn=function(no){return function(np){return[no,np];};};return d.mapi(nn,nm);};nq=u.Map(nl,m1);nr=function(ns){var nt,nu,nv,nw,nx,ny;nt=ns[0];nu=ns[1];nv=G.TextNode(m0(nu));nx=$$.String(nt);nw=B.ofArray([A.Create("value",nx)]);ny=B.ofArray([nv]);return G.Element("option",nw,ny);};nz=G.Convert(nr,nq);nA=A.Concat(mZ);nB=A.Append(ng,nA);nC=z.OnAfterRender(function(nD){return(na(nD))(m2.Get());});nE=A.Append(nC,nB);return H.New(ne,nE,nz);},SelectDynOptional:function(nF,nG,nH,nI,nJ){var nK,nO,nR;nK=function(nL){var nM,nN;if(nL.$==1){nN=nL.$0;nM=nH(nN);}else{nM=nG;}return nM;};nO=function(nP){return $.New(O,{$:1,$0:{$:0},$1:B.map(function(nQ){return{$:1,$0:nQ};},nP)});};nR=u.Map(nO,nI);return G.SelectDyn(nF,nK,nR,nJ);},SelectOptional:function(nS,nT,nU,nV,nW){var nX,n1;nX=function(nY){var nZ,n0;if(nY.$==1){n0=nY.$0;nZ=nU(n0);}else{nZ=nT;}return nZ;};n1=$.New(O,{$:1,$0:{$:0},$1:B.map(function(n2){return{$:1,$0:n2};},nV)});return G.Select(nS,nX,n1,nW);},Static:function(n3){var n4,n5;n4=A.get_Empty();n5=G.get_Empty();return H.New(n3,n4,n5);},SvgElement:function(n6,n7,n8){var n9,n_,n$;n9=A.Concat(n7);n_=G.Concat(n8);n$=y.CreateSvgElement(n6);return H.New(n$,n9,n_);},TextNode:function(oa){var ob,oc;ob={$:5,$0:y.CreateText(oa)};oc=E.Const(null);return G.Mk(ob,oc);},TextView:function(od){var oe,of,oh,oi;oe=J.CreateTextNode();of=function(og){return J.UpdateTextNode(oe,og);};oh=u.Map(of,od);oi={$:4,$0:oe};return G.Mk(oi,oh);},Verbatim:function(oj){var ok,ol,om,oo,or,os;ok=P.parseHTML(oj);ol=m.Equals(ok,null)?[]:ok;om=function(on){return{$:1,$0:J.CreateElemNode(on,A.get_Empty(),{$:3})};};oo=function(op){return function(oq){return{$:0,$0:op,$1:oq};};};or=w.MapReduce(om,{$:3},oo,ol);os=E.Const(null);return G.Mk(or,os);},get_Empty:function(){var ot,ou;ot={$:3};ou=E.Const(null);return G.Mk(ot,ou);}}),DocElemNode:$.Class({Equals:function(ov){return this.ElKey===ov.ElKey;},GetHashCode:function(){return this.ElKey;}}),Docs:{ComputeChangeAnim:function(ow,ox){var oy,oA,oC,oD,oE,oF,oH,oI;oy=function(oz){return x.HasChangeAnim(oz.Attr);};oA=function(oB){return Q.Filter(oy,oB);};oC=oA(ow.PreviousNodes);oD=oA(ox);oE=Q.Intersect(oC,oD);oF=function(oG){return x.GetChangeAnim(oG.Attr);};oH=Q.ToArray(oE);oI=c.map(oF,oH);return o.Concat(oI);},ComputeEnterAnim:function(oJ,oK){var oL,oN,oO,oP,oQ,oS,oT;oL=function(oM){return x.HasEnterAnim(oM.Attr);};oN=oJ.PreviousNodes;oO=Q.Filter(oL,oK);oP=Q.Except(oN,oO);oQ=function(oR){return x.GetEnterAnim(oR.Attr);};oS=Q.ToArray(oP);oT=c.map(oQ,oS);return o.Concat(oT);},ComputeExitAnim:function(oU,oV){var oW,oY,o0,o1,o2,o3,o4;oW=function(oX){return x.HasExitAnim(oX.Attr);};oY=function(oZ){return x.GetExitAnim(oZ.Attr);};o0=oU.PreviousNodes;o1=Q.Filter(oW,o0);o2=Q.Except(oV,o1);o3=Q.ToArray(o2);o4=c.map(oY,o3);return o.Concat(o4);},CreateDelimitedElemNode:function(o5,o6,o7,o8){var o9,o_;o9=o5.parentNode;J.LinkPrevElement(o6,o8);o_=x.Insert(o9,o7);return $.New(R,$.DeleteEmptyFields({Attr:o_,Children:o8,Delimiters:[o5,o6],El:o9,ElKey:h.Int(),Render:$.GetOptional(o_.OnAfterRender).$0},["Render"]));},CreateDelimitedRunState:function(o$,pa,pb){return{PreviousNodes:Q.get_Empty(),Top:J.CreateDelimitedElemNode(o$,pa,A.get_Empty(),pb)};},CreateElemNode:function(pc,pd,pe){var pf;J.LinkElement(pc,pe);pf=x.Insert(pc,pd);return $.New(R,$.DeleteEmptyFields({Attr:pf,Children:pe,El:pc,ElKey:h.Int(),Render:$.GetOptional(pf.OnAfterRender).$0},["Render"]));},CreateEmbedNode:function(){return{Current:{$:3},Dirty:false};},CreateRunState:function(pg,ph){return{PreviousNodes:Q.get_Empty(),Top:J.CreateElemNode(pg,A.get_Empty(),ph)};},CreateTextNode:function(){return{Text:y.CreateText(""),Dirty:false,Value:""};},DoSyncElement:function(pi){var pj,pk,pv,pw,px,py,pz,pA,pC,pD,pE,pF,pG,pH;pj=pi.El;pk=function(pl,pm){var pn,po,pp,pq,pr,ps,pt,pu;if(pl.$==1){po=pl.$0;pn={$:1,$0:po.El};}else{if(pl.$==2){pp=pl.$0;if(pp.Dirty){pp.Dirty=false;pq=J.InsertDoc(pj,pp.Current,pm);}else{pq=pk(pp.Current,pm);}pn=pq;}else{if(pl.$==3){pn=pm;}else{if(pl.$==4){pr=pl.$0;pn={$:1,$0:pr.Text};}else{if(pl.$==5){ps=pl.$0;pn={$:1,$0:ps};}else{pt=pl.$1;pu=pl.$0;pn=pk(pu,pk(pt,pm));}}}}}return pn;};pv=S.DocChildren(pi);pw=pi.El;px=$.GetOptional(pi.Delimiters);py=S.Children(pw,px);pz=pi.El;pA=function(pB){return y.RemoveNode(pz,pB);};pC=S.Except(pv,py);S.Iter(pA,pC);pD=$.GetOptional(pi.Delimiters);if(pD.$==1){pG=pD.$0[1];pF={$:1,$0:pG};}else{pF={$:0};}pE=pF;pH=pk(pi.Children,pE);return;},DomNodes:$.Class({},{Children:function(pI,pJ){var pK,pL,pM,pN,pO,pP,pQ;if(pJ.$==1){pL=pJ.$0[1];pM=pJ.$0[0];pN=b.prototype.constructor.apply(b,[]);pO=pM.nextSibling;while(pO!==pL){pP=pN.push(pO);pO=pO.nextSibling;}pK=$.New(S,{$:0,$0:pN});}else{pQ=pI.childNodes;pK=$.New(S,{$:0,$0:c.init(pI.childNodes.length,function(pR){return pQ[pR];})});}return pK;},DocChildren:function(pS){var pT,pU;pT=[];pU=function(pV){var pW,pX,pY,pZ,p0,p1,p2;if(pV.$==2){pX=pV.$0;pW=pU(pX.Current);}else{if(pV.$==1){pY=pV.$0;pW=l.Add(pY.El,pT);}else{if(pV.$==3){pW=null;}else{if(pV.$==5){pZ=pV.$0;pW=l.Add(pZ,pT);}else{if(pV.$==4){p0=pV.$0;pW=l.Add(p0.Text,pT);}else{p1=pV.$1;p2=pV.$0;pU(p2);pW=pU(p1);}}}}}return pW;};pU(pS.Children);return $.New(S,{$:0,$0:l.ToArray(pT)});},Except:function(p3,p4){var p5,p6,p7,p$;p5=p3.$0;p6=p4.$0;p7=function(p8){var p9;p9=function(p_){return!(p8===p_);};return d.forall(p9,p5);};p$=c.filter(p7,p6);return $.New(S,{$:0,$0:p$});},FoldBack:function(qa,qb,qc){var qd;qd=qb.$0;return c.foldBack(qa,qd,qc);},Iter:function(qe,qf){var qg;qg=qf.$0;return c.iter(qe,qg);}}),InsertDoc:function(qh,qi,qj){var qk,ql,qm,qn,qo,qp,qq;if(qi.$==1){ql=qi.$0;qk=J.InsertNode(qh,ql.El,qj);}else{if(qi.$==2){qm=qi.$0;qm.Dirty=false;qk=J.InsertDoc(qh,qm.Current,qj);}else{if(qi.$==3){qk=qj;}else{if(qi.$==4){qn=qi.$0;qk=J.InsertNode(qh,qn.Text,qj);}else{if(qi.$==5){qo=qi.$0;qk=J.InsertNode(qh,qo,qj);}else{qp=qi.$1;qq=qi.$0;qk=J.InsertDoc(qh,qq,J.InsertDoc(qh,qp,qj));}}}}}return qk;},InsertNode:function(qr,qs,qt){y.InsertAt(qr,qt,qs);return{$:1,$0:qs};},LinkElement:function(qu,qv){var qw;qw=J.InsertDoc(qu,qv,{$:0});return;},LinkPrevElement:function(qx,qy){var qz;qz=J.InsertDoc(qx.parentNode,qy,{$:1,$0:qx});return;},NodeSet:$.Class({},{Except:function(qA,qB){var qC,qD;qC=qA.$0;qD=qB.$0;return $.New(Q,{$:0,$0:k.Except(qC,qD)});},Filter:function(qE,qF){var qG;qG=qF.$0;return $.New(Q,{$:0,$0:k.Filter(qE,qG)});},FindAll:function(qH){var qI,qJ;qI=[];qJ=function(qK){var qL,qM,qN,qO,qP;if(qK.$==0){qM=qK.$1;qN=qK.$0;qJ(qN);qL=qJ(qM);}else{if(qK.$==1){qO=qK.$0;l.Add(qO,qI);qL=qJ(qO.Children);}else{if(qK.$==2){qP=qK.$0;qL=qJ(qP.Current);}else{qL=null;}}}return qL;};qJ(qH);return $.New(Q,{$:0,$0:j.New(l.ToArray(qI))});},Intersect:function(qQ,qR){var qS,qT;qS=qQ.$0;qT=qR.$0;return $.New(Q,{$:0,$0:k.Intersect(qS,qT)});},IsEmpty:function(qU){var qV;qV=qU.$0;return qV.get_Count()===0;},ToArray:function(qW){var qX;qX=qW.$0;return k.ToArray(qX);},get_Empty:function(){return $.New(Q,{$:0,$0:j.New11()});}}),PerformAnimatedUpdate:function(qY,qZ){return a.Delay(function(){var q1,q2,q3,q4;q1=Q.FindAll(qZ);q2=J.ComputeChangeAnim(qY,q1);q3=J.ComputeEnterAnim(qY,q1);q4=J.ComputeExitAnim(qY,q1);return a.Bind(o.Play(o.Append(q2,q4)),function(){J.SyncElemNode(qY.Top);return a.Bind(o.Play(q3),function(){return a.Return(void(qY.PreviousNodes=q1));});});});},Sync:function(q7){var q8;q8=function(q9){var q_,q$,ra,rb,rc,rd,re;if(q9.$==1){q$=q9.$0;J.SyncElement(q$);q_=q8(q$.Children);}else{if(q9.$==2){ra=q9.$0;q_=q8(ra.Current);}else{if(q9.$==3){q_=null;}else{if(q9.$==5){q_=null;}else{if(q9.$==4){rb=q9.$0;if(rb.Dirty){rb.Text.nodeValue=rb.Value;rc=void(rb.Dirty=false);}else{rc=null;}q_=rc;}else{rd=q9.$1;re=q9.$0;q8(re);q_=q8(rd);}}}}}return q_;};return q8(q7);},SyncElemNode:function(rf){J.SyncElement(rf);return J.Sync(rf.Children);},SyncElement:function(rg){var rh,rp,rq,rr;rh=function(ri){var rj;rj=function(rk){var rl,rm,rn,ro;if(rk.$==0){rm=rk.$1;rn=rk.$0;rl=rj(rn)?true:rj(rm);}else{if(rk.$==2){ro=rk.$0;rl=ro.Dirty?true:rj(ro.Current);}else{rl=false;}}return rl;};return rj(ri.Children);};x.Sync(rg.El,rg.Attr);rh(rg)?J.DoSyncElement(rg):null;rp=$.GetOptional(rg.Render);if(rp.$==1){rr=rp.$0;rr(rg.El);rq=void(delete rg.Render);}else{rq=null;}return rq;},UpdateEmbedNode:function(rs,rt){rs.Current=rt;rs.Dirty=true;return;},UpdateTextNode:function(ru,rv){ru.Value=rv;ru.Dirty=true;return;}},DomUtility:{AddClass:function(rw,rx){var ry;ry=P(rw).addClass(rx);return;},AppendTo:function(rz,rA){var rB;rB=rz.appendChild(rA);return;},Clear:function(rC){var rD;while(rC.hasChildNodes()){rD=rC.removeChild(rC.firstChild);}return;},ClearAttrs:function(rE){var rF;while(rE.hasAttributes()){rF=rE.removeAttributeNode(rE.attributes.item(0));}return;},CreateAttr:function(rG,rH){var rI;rI=y.Doc().createAttribute(rG);rI.value=rH;return rI;},CreateElement:function(rJ){return y.Doc().createElement(rJ);},CreateSvgElement:function(rK){return y.Doc().createElementNS("http://www.w3.org/2000/svg",rK);},CreateText:function(rL){return y.Doc().createTextNode(rL);},Doc:$.Field(function(){return F;}),InsertAt:function(rM,rN,rO){var rP,rS,rT,rU,rV,rW,rX,rY,rZ,r0,r1,r2,r3,r4;rP=function(rQ){var rR;rR=rQ.nextSibling;return m.Equals(rR,null)?{$:0}:{$:1,$0:rR};};if(rO.parentNode===rM){rU=rP(rO);rV=[rN,rU];if(rV[0].$==1){if(rV[1].$==1){rY=rV[0].$0;rZ=rV[1].$0;rX=rY===rZ;}else{rX=false;}rW=rX;}else{rW=rV[1].$==0?true:false;}rT=rW;}else{rT=false;}rS=rT;if(!rS){if(rN.$==1){r2=rN.$0;r3=rM.insertBefore(rO,r2);r1=void r3;}else{r4=rM.appendChild(rO);r1=void r4;}r0=r1;}else{r0=null;}return r0;},RemoveAttr:function(r5,r6){return r5.removeAttribute(r6);},RemoveClass:function(r7,r8){var r9;r9=P(r7).removeClass(r8);return;},RemoveNode:function(r_,r$){var sa,sb;if(r$.parentNode===r_){sb=r_.removeChild(r$);sa=void sb;}else{sa=null;}return sa;},SetAttr:function(sc,sd,se){return sc.setAttribute(sd,se);},SetProperty:function($target,$name,$value){var $0=this,$this=this;return $target.setProperty($name,$value);},SetStyle:function(sf,sg,sh){return y.SetProperty(sf.style,sg,sh);}},DoubleInterpolation:$.Class({Interpolate:function(si,sj,sk){return sj+si*(sk-sj);}}),DynamicAttrNode:$.Class({GetChangeAnim:function(){return o.get_Empty();},GetEnterAnim:function(){return o.get_Empty();},GetExitAnim:function(){return o.get_Empty();},Init:function(so){return this.init.call(null,so);},Sync:function(sp){var sq;if(this.dirty){(this.push.call(null,sp))(this.value);sq=void(this.dirty=false);}else{sq=null;}return sq;},get_Changed:function(){return this.updates;}},{New:function(sr,ss,st){var su,sv;su=$.New(this,{});su.init=ss;su.push=st;su.value=g.U();su.dirty=true;sv=function(sw){su.value=sw;su.dirty=true;return;};su.updates=u.Map(sv,sr);return su;}}),Easing:$.Class({},{Custom:function(sx){return $.New(T,{TransformTime:sx});},get_CubicInOut:function(){return U.CubicInOut();}}),Easings:{CubicInOut:$.Field(function(){var sy;sy=function(sz){var sA,sB;sA=sz*sz;sB=sA*sz;return 3*sA-2*sB;};return $.New(T,{TransformTime:sy});})},Elt:$.Class({AddClass:function($cls){var $this=this;return $this.elt.className+=" "+$cls;},Append:function(sC){var sD,sE,sF,sI,sJ,sK;sD=this.get_DocElemNode();sD.Children={$:0,$0:sD.Children,$1:sC.get_DocNode()};sE=this.rvUpdates;sF=function(){return function(){return null;};};sI=V.Get(this.rvUpdates);sJ=sC.get_Updates();V.Set(sE,u.Map2(sF,sI,sJ));sK=J.InsertDoc(this.elt,sC.get_DocNode(),{$:0});return;},Clear:function(){var sL;this.get_DocElemNode().Children={$:3};V.Set(this.rvUpdates,E.Const(null));while(this.elt.hasChildNodes()){sL=this.elt.removeChild(this.elt.firstChild);}return;},GetAttribute:function(sM){return this.elt.getAttribute(sM);},GetProperty:function(sN){return this.elt[sN];},GetText:function(){return this.elt.textContent;},GetValue:function(){return this.elt.value;},HasAttribute:function(sO){return this.elt.hasAttribute(sO);},HasClass:function(sP){return(new W("(\\s|^)"+sP+"(\\s|$)")).test(this.elt.className);},Html:function(){return this.elt.outerHTML;},Id:function(){return this.elt.id;},OnAfterRender:function(sQ){var sR,sS,sT;sR=$.GetOptional(this.get_DocElemNode().Render);if(sR.$==1){sT=sR.$0;sS={$:1,$0:function(sU){sT(sU);return sQ(sU);}};}else{sS={$:1,$0:sQ};}$.SetOptional(this.get_DocElemNode(),"Render",sS);return this;},Prepend:function(sV){var sW,sX,sY,s1,s2,s3,s4,s5;sW=this.get_DocElemNode();sW.Children={$:0,$0:sV.get_DocNode(),$1:sW.Children};sX=this.rvUpdates;sY=function(){return function(){return null;};};s1=V.Get(this.rvUpdates);s2=sV.get_Updates();V.Set(sX,u.Map2(sY,s1,s2));s3=this.elt.firstChild;s4=m.Equals(s3,null)?{$:0}:{$:1,$0:s3};s5=J.InsertDoc(this.elt,sV.get_DocNode(),s4);return;},RemoveAttribute:function(s6){return this.elt.removeAttribute(s6);},RemoveClass:function(s7){this.elt.className=this.elt.className.replace(new W("(\\s|^)"+s7+"(\\s|$)")," ");},SetAttribute:function(s8,s9){return this.elt.setAttribute(s8,s9);},SetProperty:function(s_,s$){this.elt[s_]=s$;},SetStyle:function(ta,tb){this.elt.style[ta]=tb;},SetText:function(tc){this.get_DocElemNode().Children={$:3};V.Set(this.rvUpdates,E.Const(null));this.elt.textContent=tc;return;},SetValue:function(td){this.elt.value=td;},get_DocElemNode:function(){var te,tf,tg;te=this.docNode1;if(te.$==1){tg=te.$0;tf=tg;}else{tf=N.FailWith("Elt: Invalid docNode");}return tf;},get_Element:function(){return this.elt;},on:function(th,ti){this.elt.addEventListener(th,ti(this.elt),false);return this;}},{New:function(tj,tk,tl){var tm,tn,to,tp,ts,tu,tv;tm=J.CreateElemNode(tj,tk,tl.get_DocNode());tn=X.Create(tl.get_Updates());to=x.Updates(tm.Attr);tp=function(){return function(){return null;};};ts=function(tt){return u.Map2(tp,to,tt);};tu=tn.get_View();tv=E.Bind(ts,tu);return H.New1({$:1,$0:tm},tv,tj,tn,to);},New1:function(tw,tx,ty,tz){var tB;tB=$.New(this,G.New(tw,tx));tB.docNode1=tw;tB.elt=ty;tB.rvUpdates=tz;return tB;}}),Flow:$.Class({},{Bind:function(tC,tD){return{Render:function(tE){return function(tF){return(tC.Render.call(null,tE))(function(tG){return(tD(tG).Render.call(null,tE))(tF);});};}};},Map:function(tH,tI){return{Render:function(tJ){return function(tK){return(tI.Render.call(null,tJ))(function(tL){return tK(tH(tL));});};}};},Return:function(tM){return{Render:function(){return function(tO){return tO(tM);};}};},get_Do:function(){return Y.New();}}),Flow1:$.Class({},{Define:function(tP){return{Render:function(tQ){return function(tR){var tS;tS=tP(tR);return V.Set(tQ,tS);};}};},Embed:function(tT){var tU;tU=X.Create(G.get_Empty());(tT.Render.call(null,tU))(function(){});return G.EmbedView(tU.get_View());},Static:function(tW){return{Render:function(tX){return function(tY){V.Set(tX,tW);return tY(null);};}};}}),FlowBuilder:$.Class({Bind:function(tZ,t0){return Z.Bind(tZ,t0);},Return:function(t1){return Z.Return(t1);},ReturnFrom:function(t2){return t2;}},{New:function(){return $.New(this,{});}}),Html:{attr:$.Class({},{New:function(){return $.New(this,{});}})},Input:{ActivateButtonListener:$.Field(function(){var t3,t$;t3=function(t4,t5){var t6,t7,t8,t9,t_;t6=t4.button;if(t6===0){t8=_0.MouseBtnSt1().Left;t7=V.Set(t8,t5);}else{if(t6===1){t9=_0.MouseBtnSt1().Middle;t7=V.Set(t9,t5);}else{if(t6===2){t_=_0.MouseBtnSt1().Right;t7=V.Set(t_,t5);}else{t7=null;}}}return t7;};if(!_0.MouseBtnSt1().Active){_0.MouseBtnSt1().Active=true;F.addEventListener("mousedown",function(ua){return t3(ua,true);},false);t$=F.addEventListener("mouseup",function(ub){return t3(ub,false);},false);}else{t$=null;}return t$;}),ActivateKeyListener:$.Field(function(){var uc,ud,uj;if(!_0.KeyListenerState().KeyListenerActive){ud=P(F).keydown(function(ue){var uf,ug,uh;uf=ue.which;ug=_0.KeyListenerState().LastPressed;V.Set(ug,uf);uh=V.Get(_0.KeyListenerState().KeysPressed);return!d.exists(function(ui){return ui===uf;},uh)?V.Set(_0.KeyListenerState().KeysPressed,B.append(uh,B.ofArray([uf]))):null;});uj=P(F).keyup(function(uk){var ul,um,un,up;ul=uk.which;um=_0.KeyListenerState().KeysPressed;un=function(uo){return uo!==ul;};up=function(uq){return B.filter(un,uq);};return V.Update(um,up);});uc=void uj;}else{uc=null;}return uc;}),KeyListenerState:$.Field(function(){return{KeysPressed:X.Create($.New(O,{$:0})),KeyListenerActive:false,LastPressed:X.Create(-1)};}),Keyboard:$.Class({},{IsPressed:function(ur){var us;_0.ActivateKeyListener();us=function(ut){return ut===ur;};return u.Map(function(uu){return d.exists(us,uu);},_0.KeyListenerState().KeysPressed.get_View());},get_KeysPressed:function(){_0.ActivateKeyListener();return _0.KeyListenerState().KeysPressed.get_View();},get_LastPressed:function(){_0.ActivateKeyListener();return _0.KeyListenerState().LastPressed.get_View();}}),Mouse:$.Class({},{get_LeftPressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt1().Left.get_View();},get_MiddlePressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt1().Middle.get_View();},get_MousePressed:function(){_0.ActivateButtonListener();return E.Apply(E.Apply(E.Apply(E.Const(function(uv){return function(uw){return function(ux){return(uv?true:uw)?true:ux;};};}),_0.MouseBtnSt1().Left.get_View()),_0.MouseBtnSt1().Middle.get_View()),_0.MouseBtnSt1().Right.get_View());},get_Position:function(){var uy,uC;uy=function(uz){var uA,uB;uA=_0.MousePosSt1().PosV;uB=[uz.clientX,uz.clientY];return V.Set(uA,uB);};if(!_0.MousePosSt1().Active){F.addEventListener("mousemove",uy,false);uC=void(_0.MousePosSt1().Active=true);}else{uC=null;}return _0.MousePosSt1().PosV.get_View();},get_RightPressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt1().Right.get_View();}}),MouseBtnSt1:$.Field(function(){return{Active:false,Left:X.Create(false),Middle:X.Create(false),Right:X.Create(false)};}),MousePosSt1:$.Field(function(){return{Active:false,PosV:X.Create([0,0])};})},Interpolation1:$.Class({},{get_Double:function(){return $.New(_1,{$:0});}}),Key:$.Class({},{Fresh:function(){return $.New(_2,{$:0,$0:h.Int()});}}),ListModel:$.Class({Add:function(uD){var uE,uF,uG,uH,uJ=this,uK;uE=V.Get(this.Var);if(!_3.Contains(this.get_Key(),uD,uE)){uG=this.Storage;uF=V.Set(this.Var,uG.Add(uD,uE));}else{uH=c.findINdex(function(uI){return m.Equals((uJ.get_Key())(uI),(uJ.get_Key())(uD));},uE);uK=uJ.Storage;uF=V.Set(uJ.Var,uK.SetAt(uH,uD,uE));}return uF;},Clear:function(){return V.Set(this.Var,this.Storage.Set(d.empty()));},ContainsKey:function(uL){var uN=this;return d.exists(function(uM){return m.Equals(uN.key.call(null,uM),uL);},V.Get(uN.Var));},ContainsKeyAsView:function(uO){var uP,uR=this,uS,uU;uP=function(uQ){return m.Equals(uR.key.call(null,uQ),uO);};uS=function(uT){return d.exists(uP,uT);};uU=uR.Var.get_View();return u.Map(uS,uU);},Find:function(uV){return c.find(uV,V.Get(this.Var));},FindAsView:function(uW){var uX,uZ;uX=function(uY){return c.find(uW,uY);};uZ=this.Var.get_View();return u.Map(uX,uZ);},FindByKey:function(u0){var u2=this;return c.find(function(u1){return m.Equals(u2.key.call(null,u1),u0);},V.Get(u2.Var));},FindByKeyAsView:function(u3){var u4,u6=this,u7,u9;u4=function(u5){return m.Equals(u6.key.call(null,u5),u3);};u7=function(u8){return c.find(u4,u8);};u9=u6.Var.get_View();return u.Map(u7,u9);},Iter:function(u_){return c.iter(u_,V.Get(this.Var));},Lens:function(u$){var va,vc;va=function(vb){return vb;};vc=function(){return function(ve){return ve;};};return this.LensInto(va,vc,u$);},LensInto:function(vf,vg,vh){return _4.New(this,vh,vf,vg);},Remove:function(vi){var vj,vk,vl,vm,vn,vo;vj=V.Get(this.Var);if(_3.Contains(this.key,vi,vj)){vl=this.key;vm=vl(vi);vn=this.Storage;vo=function(vp){return!m.Equals(vl(vp),vm);};vk=V.Set(this.Var,vn.RemoveIf(vo,vj));}else{vk=null;}return vk;},RemoveBy:function(vq){var vr,vs,vt,vw;vr=this.Var;vs=this.Storage;vt=function(vu){var vv;vv=vq(vu);return!vv;};vw=V.Get(this.Var);return V.Set(vr,vs.RemoveIf(vt,vw));},RemoveByKey:function(vx){var vy,vz,vA,vC=this,vD;vy=this.Var;vz=this.Storage;vA=function(vB){return!m.Equals((vC.get_Key())(vB),vx);};vD=V.Get(vC.Var);return V.Set(vy,vz.RemoveIf(vA,vD));},Set:function(vE){return V.Set(this.Var,this.Storage.Set(vE));},TryFind:function(vF){return c.tryFind(vF,V.Get(this.Var));},TryFindAsView:function(vG){var vH,vJ;vH=function(vI){return c.tryFind(vG,vI);};vJ=this.Var.get_View();return u.Map(vH,vJ);},TryFindByKey:function(vK){var vM=this;return c.tryFind(function(vL){return m.Equals(vM.key.call(null,vL),vK);},V.Get(vM.Var));},TryFindByKeyAsView:function(vN){var vO,vQ=this,vR,vT;vO=function(vP){return m.Equals(vQ.key.call(null,vP),vN);};vR=function(vS){return c.tryFind(vO,vS);};vT=vQ.Var.get_View();return u.Map(vR,vT);},UpdateAll:function(vU){var vV,vW,v4=this;vV=this.Var;vW=function(vX){var vY;vY=function(vZ){return function(v0){var v1,v3;v1=function(v2){return c.set(vX,vZ,v2);};v3=vU(v0);return t.iter(v1,v3);};};c.iteri(vY,vX);return v4.Storage.Set(vX);};return V.Update(vV,vW);},UpdateBy:function(v5,v6){var v7,v8,v_=this,v$,wa,wb,wc,wd,we;v7=V.Get(this.Var);v8=c.tryFindIndex(function(v9){return m.Equals(v_.key.call(null,v9),v6);},v7);if(v8.$==1){wa=v8.$0;wb=v5(c.get(v7,wa));if(wb.$==1){wd=wb.$0;we=v_.Storage;wc=V.Set(v_.Var,we.SetAt(wa,wd,v7));}else{wc=null;}v$=wc;}else{v$=null;}return v$;},get_Key:function(){return this.key;},get_Length:function(){return c.length(V.Get(this.Var));},get_LengthAsView:function(){var wf,wh;wf=function(wg){return c.length(wg);};wh=this.Var.get_View();return u.Map(wf,wh);},get_View:function(){return this.view;}},{Create:function(wi,wj){var wk,wl;wk=d.toArray(wj);wl=_5.InMemory(wk);return _6.CreateWithStorage(wi,wl);},CreateWithStorage:function(wm,wn){var wo,wp,wq,wr,wu,wv;wo=I.distinctBy(wm,wn.Init());wp=d.toArray(wo);wq=X.Create(wp);wr=function(ws){var wt;wt=wn.Set(ws);return ws.slice();};wu=wq.get_View();wv=u.Map(wr,wu);return $.New(_6,{key:wm,Var:wq,Storage:wn,view:wv});},FromSeq:function(ww){var wx;wx=function(wy){return wy;};return _6.Create(wx,ww);}}),ListModel1:$.Class({},{Key:function(wz){return wz.key;},View:function(wA){return wA.view;}}),ListModels:{Contains:function(wB,wC,wD){var wE;wE=wB(wC);return d.exists(function(wF){return m.Equals(wB(wF),wE);},wD);}},Model:$.Class({get_View:function(){return _7.View(this);}},{Create:function(wG,wH){var wI,wJ,wK;wI=X.Create(wH);wJ=wI.get_View();wK=u.Map(wG,wJ);return $.New(_7,{$:0,$0:wI,$1:wK});},Update:function(wL,wM){var wN,wO;wN=wM.$0;wO=function(wP){wL(wP);return wP;};return V.Update(wN,wO);},View:function(wQ){var wR;wR=wQ.$1;return wR;}}),ReactiveExtensions:$.Class({},{New:function(){return $.New(this,{});}}),RefImpl:$.Class({Get:function(){return this.get.call(null,this.baseRef.Get());},Set:function(wS){var wU=this;return this.baseRef.Update(function(wT){return(wU.update.call(null,wT))(wS);});},Update:function(wV){var wX=this;return this.baseRef.Update(function(wW){return(wX.update.call(null,wW))(wV(wX.get.call(null,wW)));});},UpdateMaybe:function(wY){var w0=this;return this.baseRef.UpdateMaybe(function(wZ){return t.map(w0.update.call(null,wZ),wY(w0.get.call(null,wZ)));});},get_Id:function(){return this.id;},get_View:function(){var w1,w2;w1=this.get;w2=this.baseRef.get_View();return u.Map(w1,w2);}},{New:function(w3,w4,w5){var w6;w6=$.New(this,{});w6.baseRef=w3;w6.get=w4;w6.update=w5;w6.id=h.Id();return w6;}}),RefImpl1:$.Class({Get:function(){return this.get.call(null,this.m.FindByKey(this.key));},Set:function(w7){var w8,w9,w$=this,xa;w8=this.m;w9=function(w_){return{$:1,$0:(w$.update.call(null,w_))(w7)};};xa=w$.key;return w8.UpdateBy(w9,xa);},Update:function(xb){var xc,xd,xf=this,xg;xc=this.m;xd=function(xe){return{$:1,$0:(xf.update.call(null,xe))(xb(xf.get.call(null,xe)))};};xg=xf.key;return xc.UpdateBy(xd,xg);},UpdateMaybe:function(xh){var xi,xj,xl=this,xm;xi=this.m;xj=function(xk){return t.map(xl.update.call(null,xk),xh(xl.get.call(null,xk)));};xm=xl.key;return xi.UpdateBy(xj,xm);},get_Id:function(){return this.id;},get_View:function(){var xn,xo;xn=this.get;xo=this.m.FindByKeyAsView(this.key);return u.Map(xn,xo);}},{New:function(xp,xq,xr,xs){var xt;xt=$.New(this,{});xt.m=xp;xt.key=xq;xt.get=xr;xt.update=xs;xt.id=h.Id();return xt;}}),Route:{Append:function(xu,xv){var xw,xx;xw=xu.$0;xx=xv.$0;return{$:0,$0:p.Append(xw,xx)};},FromList:function(xy){var xz,xA;xz=c.ofSeq(xy);xA=p.FromArray(xz);return{$:0,$0:xA};},MakeHash:function(xB){var xC,xD,xE;xC=xB.$0;xD=p.ToArray(xC);xE=c.map(function(xF){return _8(xF);},xD);return _9.concat("/",xE);},NoHash:function(xG){return _9.StartsWith(xG,"#")?xG.substring(1):xG;},ParseHash:function(xH){var xI,xJ,xL;xI=_9.SplitChars(_.NoHash(xH),[47],1);xJ=c.map(function(xK){return ba(xK);},xI);xL=p.FromArray(xJ);return{$:0,$0:xL};},SameHash:function(xM,xN){return _.NoHash(xM)===_.NoHash(xN);},ToList:function(xO){var xP,xQ;xP=xO.$0;xQ=p.ToArray(xP);return B.ofArray(xQ);}},RouteMap1:$.Class({},{Create:function(xR,xS){return{Des:xS,Ser:xR};},Install:function(xT){return bb.InstallMap(xT);}}),Router:$.Class({},{Dir:function(xU,xV){var xW;xW=bc.Merge(xV);return bd.Prefix(xU,xW);},Install:function(xX,xY){return bb.Install(xX,xY);},Merge:function(xZ){return bb.MergeRouters(xZ);}}),Router1:$.Class({},{Prefix:function(x0,x1){var x2,x3;x2=x1.$0;x3=x1.$1;return{$:0,$0:x2,$1:be.Prefix(x0,x3)};},Route:function(x4,x5,x6){return bb.DefineRoute(x4,x5,x6);}}),Routing:{ComputeBodies:function(x7){var x8,x9,x$;x8=bf.New12();x9=function(x_){return x8.set_Item(x_.RouteId,x_);};x$=be.ToArray(x7);c.iter(x9,x$);return x8;},DefineRoute:function(ya,yb,yc){var yd,ye,yf,yg;yd=X.Create(yb);ye=h.Int();yf=(yc({$:0,$0:ye}))(yd);yg=be.Leaf({$:0,$0:ye,$1:function(yh){var yi,yk;yi=function(yj){return yh.UpdateRoute.call(null,bb.DoLink(ya,yj));};yk=yd.get_View();E.Sink(yi,yk);return{OnRouteChanged:function(yl){return V.Set(yd,bb.DoRoute(ya,yl));},OnSelect:function(){return yh.UpdateRoute.call(null,bb.DoLink(ya,V.Get(yd)));},RouteId:ye,RouteValue:yf};}});return{$:0,$0:{$:1,$0:yf},$1:yg};},DoLink:function(yn,yo){return _.FromList(yn.Ser.call(null,yo));},DoRoute:function(yp,yq){return yp.Des.call(null,_.ToList(yq));},Install:function(yr,ys){var yt,yu,yv,yy,yz,yF,yG,yI,yJ,yK,yL,yM,yN,yO,yP,yR,yS,yZ;yt=ys.$0;yu=ys.$1;yv=bb.InstallMap({Des:function(yw){return _.FromList(yw);},Ser:function(yx){return _.ToList(yx);}});yy={Bodies:g.U(),CurrentRoute:yv,CurrentSite:0,Selection:g.U()};yz=function(yA){return function(yB){var yC,yD;yC=yB.$1;yD=yB.$0;return yC({UpdateRoute:function(yE){return bb.OnInternalSiteUpdate(yy,yD,yA,yE);}});};};yF=be.Map(yz,yu);yy.Bodies=bb.ComputeBodies(yF);yG=function(yH){return be.Lookup(yF,_.ToList(yH));};yI=yG(V.Get(yv));if(yI.$==0){yL=yI.$0;yI.$1;yy.CurrentSite=yL.RouteId;yK=X.Create(yL.RouteValue);}else{if(yt.$==1){yO=yt.$0;yN=yO;}else{yN=N.FailWith("Site.Install fails on empty site");}yM=yN;yK=X.Create(yM);}yJ=yK;yy.Selection=yJ;yP=function(yQ){return bb.OnSelectSite(yy,yr(yQ));};yR=yJ.get_View();E.Sink(yP,yR);yS=function(yT){var yU,yV,yW,yX,yY;yU=yG(yT);if(yU.$==1){yV=null;}else{yW=yU.$0;yX=yU.$1;yY=_.FromList(yX);yV=bb.OnGlobalRouteChange(yy,yW,yY);}return yV;};yS(V.Get(yv));yZ=yv.get_View();E.Sink(yS,yZ);return yJ;},InstallMap:function(y0){var y1,y4,y5,y8,y_,zb;y1=function(){var y3;y3=_.ParseHash(bg.location.hash);return y0.Des.call(null,_.ToList(y3));};y4=X.Create(y1(null));y5=function(y6){var y7;y7=V.Get(y4);return!m.Equals(y0.Ser.call(null,y7),y0.Ser.call(null,y6))?V.Set(y4,y6):null;};y8=function(){return y5(y1(null));};bg.onpopstate=y8;bg.onhashchange=y8;y_=function(y$){var za;za=_.MakeHash(_.FromList(y0.Ser.call(null,y$)));return!_.SameHash(bg.location.hash,za)?void(bg.location.hash=za):null;};zb=y4.get_View();E.Sink(y_,zb);return y4;},MergeRouters:function(zc){var zd,ze,zh,zi,zj,zm,zn,zo;zd=d.toArray(zc);ze=function(zf){var zg;zg=zf.$1;return zg;};zh=d.map(ze,zd);zi=be.Merge(zh);zj=function(zk){var zl;zl=zk.$0;return zl;};zm=d.tryPick(zj,zd);if(zi.$==1){zo=zi.$0;zn={$:0,$0:zm,$1:zo};}else{zn=N.FailWith("Invalid Site.Merge: need more prefix disambiguation");}return zn;},OnGlobalRouteChange:function(zp,zq,zr){var zs;if(zp.CurrentSite!==zq.RouteId){zp.CurrentSite=zq.RouteId;zs=V.Set(zp.Selection,zq.RouteValue);}else{zs=null;}return zq.OnRouteChanged.call(null,zr);},OnInternalSiteUpdate:function(zt,zu,zv,zw){var zx,zy;if(zt.CurrentSite===zu){zy=_.Append(_.FromList(zv),zw);zx=bb.SetCurrentRoute(zt,zy);}else{zx=null;}return zx;},OnSelectSite:function(zz,zA){var zB,zC;zB=zA.$0;if(zz.CurrentSite!==zB){zz.CurrentSite=zB;zC=zz.Bodies.get_Item(zB).OnSelect.call(null,null);}else{zC=null;}return zC;},SetCurrentRoute:function(zD,zE){return!m.Equals(V.Get(zD.CurrentRoute),zE)?V.Set(zD.CurrentRoute,zE):null;}},Snap1:{Bind:function(zF,zG){var zH,zI,zK;zH=bh.Create();zI=function(){return bh.MarkObsolete(zH);};zK=function(zL){var zM;zM=zF(zL);return bh.When(zM,function(zN){return(bh.IsForever(zM)?bh.IsForever(zG):false)?bh.MarkForever(zH,zN):bh.MarkReady(zH,zN);},zI);};bh.When(zG,zK,zI);return zH;},Create:function(){return bh.Make({$:3,$0:[],$1:[]});},CreateForever:function(zO){return bh.Make({$:0,$0:zO});},CreateWithValue:function(zP){return bh.Make({$:2,$0:zP,$1:[]});},IsForever:function(zQ){var zR;zR=zQ.State;return zR.$==0?true:false;},IsObsolete:function(zS){var zT;zT=zS.State;return zT.$==1?true:false;},Make:function(zU){return{State:zU};},Map:function(zV,zW){var zX,zY,zZ,z0;zX=zW.State;if(zX.$==0){zZ=zX.$0;zY=bh.CreateForever(zV(zZ));}else{z0=bh.Create();bh.When(zW,function(z1){var z2;z2=zV(z1);return bh.MarkDone(z0,zW,z2);},function(){return bh.MarkObsolete(z0);});zY=z0;}return zY;},Map2:function(z4,z5,z6){var z7,z8,z9,z_,z$,Aa,Ab,Ac,Ae,Af,Ag,Ah,Aj;z7=[z5.State,z6.State];if(z7[0].$==0){if(z7[1].$==0){z_=z7[0].$0;z$=z7[1].$0;z9=bh.CreateForever((z4(z_))(z$));}else{Aa=z7[0].$0;z9=bh.Map(z4(Aa),z6);}z8=z9;}else{if(z7[1].$==0){Ac=z7[1].$0;Ab=bh.Map(function(Ad){return(z4(Ad))(Ac);},z5);}else{Ae=bh.Create();Af=[{$:0}];Ag=[{$:0}];Ah=function(){Af[0]={$:0};Ag[0]={$:0};return bh.MarkObsolete(Ae);};Aj=function(){var Al,Am,An,Ao,Ap;Al=[Af[0],Ag[0]];if(Al[0].$==1){if(Al[1].$==1){Ao=Al[0].$0;Ap=Al[1].$0;An=(bh.IsForever(z5)?bh.IsForever(z6):false)?bh.MarkForever(Ae,(z4(Ao))(Ap)):bh.MarkReady(Ae,(z4(Ao))(Ap));}else{An=null;}Am=An;}else{Am=null;}return Am;};bh.When(z5,function(Aq){Af[0]={$:1,$0:Aq};return Aj(null);},Ah);bh.When(z6,function(Ar){Ag[0]={$:1,$0:Ar};return Aj(null);},Ah);Ab=Ae;}z8=Ab;}return z8;},Map3:function(As,At,Au,Av){var Aw,Ax,Ay,Az,AA,AB,AC,AD,AE,AG,AH,AI,AK,AN,AO,AP,AQ,AS,AV,AW,AZ,A0,A1,A2,A3,A5;Aw=[At.State,Au.State,Av.State];if(Aw[0].$==0){if(Aw[1].$==0){if(Aw[2].$==0){AA=Aw[0].$0;AB=Aw[1].$0;AC=Aw[2].$0;Az=bh.CreateForever(((As(AA))(AB))(AC));}else{AD=Aw[0].$0;AE=Aw[1].$0;Az=bh.Map(function(AF){return((As(AD))(AE))(AF);},Av);}Ay=Az;}else{if(Aw[2].$==0){AH=Aw[0].$0;AI=Aw[2].$0;AG=bh.Map(function(AJ){return((As(AH))(AJ))(AI);},Au);}else{AK=Aw[0].$0;AG=bh.Map2(function(AL){return function(AM){return((As(AK))(AL))(AM);};},Au,Av);}Ay=AG;}Ax=Ay;}else{if(Aw[1].$==0){if(Aw[2].$==0){AP=Aw[1].$0;AQ=Aw[2].$0;AO=bh.Map(function(AR){return((As(AR))(AP))(AQ);},At);}else{AS=Aw[1].$0;AO=bh.Map2(function(AT){return function(AU){return((As(AT))(AS))(AU);};},At,Av);}AN=AO;}else{if(Aw[2].$==0){AW=Aw[2].$0;AV=bh.Map2(function(AX){return function(AY){return((As(AX))(AY))(AW);};},At,Au);}else{AZ=bh.Create();A0=[{$:0}];A1=[{$:0}];A2=[{$:0}];A3=function(){A0[0]={$:0};A1[0]={$:0};A2[0]={$:0};return bh.MarkObsolete(AZ);};A5=function(){var A7,A8,A9,A_,A$,Ba,Bb;A7=[A0[0],A1[0],A2[0]];if(A7[0].$==1){if(A7[1].$==1){if(A7[2].$==1){A$=A7[0].$0;Ba=A7[1].$0;Bb=A7[2].$0;A_=((bh.IsForever(At)?bh.IsForever(Au):false)?bh.IsForever(Av):false)?bh.MarkForever(AZ,((As(A$))(Ba))(Bb)):bh.MarkReady(AZ,((As(A$))(Ba))(Bb));}else{A_=null;}A9=A_;}else{A9=null;}A8=A9;}else{A8=null;}return A8;};bh.When(At,function(Bc){A0[0]={$:1,$0:Bc};return A5(null);},A3);bh.When(Au,function(Bd){A1[0]={$:1,$0:Bd};return A5(null);},A3);bh.When(Av,function(Be){A2[0]={$:1,$0:Be};return A5(null);},A3);AV=AZ;}AN=AV;}Ax=AN;}return Ax;},MapAsync:function(Bf,Bg){var Bh;Bh=bh.Create();bh.When(Bg,function(Bi){return bi.StartTo(Bf(Bi),function(Bj){return bh.MarkDone(Bh,Bg,Bj);});},function(){return bh.MarkObsolete(Bh);});return Bh;},MapCached:function(Bl,Bm,Bn){var Bo;Bo=function(Bp){var Bq,Br,Bs,Bt,Bu,Bv,Bw;Bq=Bl[0];if(Bq.$==1){Bq.$0[1];Bs=Bq.$0[0];if(m.Equals(Bp,Bs)){Bq.$0[0];Bu=Bq.$0[1];Bt=Bu;}else{Bv=Bm(Bp);Bl[0]={$:1,$0:[Bp,Bv]};Bt=Bv;}Br=Bt;}else{Bw=Bm(Bp);Bl[0]={$:1,$0:[Bp,Bw]};Br=Bw;}return Br;};return bh.Map(Bo,Bn);},MarkDone:function(Bx,By,Bz){return bh.IsForever(By)?bh.MarkForever(Bx,Bz):bh.MarkReady(Bx,Bz);},MarkForever:function(BA,BB){var BC,BD,BE;BC=BA.State;if(BC.$==3){BE=BC.$0;BA.State={$:0,$0:BB};BD=l.Iter(function(BF){return BF(BB);},BE);}else{BD=null;}return BD;},MarkObsolete:function(BG){var BH,BI,BJ,BL;BH=BG.State;if(BH.$==1){BI=null;}else{if(BH.$==2){BJ=BH.$1;BG.State={$:1};BI=l.Iter(function(BK){return BK(null);},BJ);}else{if(BH.$==3){BL=BH.$1;BG.State={$:1};BI=l.Iter(function(BM){return BM(null);},BL);}else{BI=null;}}}return BI;},MarkReady:function(BN,BO){var BP,BQ,BR,BS;BP=BN.State;if(BP.$==3){BR=BP.$1;BS=BP.$0;BN.State={$:2,$0:BO,$1:BR};BQ=l.Iter(function(BT){return BT(BO);},BS);}else{BQ=null;}return BQ;},Sequence:function(BU){var BV,BW,BX,BY,BZ,B0,B2,B5;BV=bh.Create();BW=c.ofSeq(BU);BX=c.length(BW);BY=[0];BZ=[[]];B0=function(){BY[0]=0;BZ[0]=[];return bh.MarkObsolete(BV);};B2=function(){return BY[0]===BX?d.forall(function(B4){return bh.IsForever(B4);},BW)?bh.MarkForever(BV,BZ[0]):bh.MarkReady(BV,BZ[0]):null;};B5=function(B6){return function(B7){return bh.When(B7,function(B8){BZ[0][B6]=B8;bj.incr(BY);return B2(null);},B0);};};c.iteri(B5,BW);return BV;},SnapshotOn:function(B9,B_){var B$,Ca,Cb,Cc,Cd,Ce,Cf,Ch;B$=[B9.State,B_.State];if(B$[1].$==0){Cb=B$[1].$0;Ca=bh.CreateForever(Cb);}else{Cc=bh.Create();Cd=[{$:0}];Ce=[false];Cf=function(){Cd[0]={$:0};return bh.MarkObsolete(Cc);};Ch=function(){var Cj,Ck,Cl,Cm,Cn,Co,Cp,Cq,Cr;if(Ce[0]){Ck=Cd[0];if(Ck.$==1){Ck.$0;if(bh.IsForever(B_)){Cn=Ck.$0;Cm=bh.MarkForever(Cc,Cn);}else{if(Ck.$==1){Cp=Ck.$0;Co=bh.MarkReady(Cc,Cp);}else{Co=null;}Cm=Co;}Cl=Cm;}else{if(Ck.$==1){Cr=Ck.$0;Cq=bh.MarkReady(Cc,Cr);}else{Cq=null;}Cl=Cq;}Cj=Cl;}else{Cj=null;}return Cj;};bh.When(B9,function(){Ce[0]=true;return Ch(null);},Cf);bh.When(B_,function(Ct){Cd[0]={$:1,$0:Ct};return Ch(null);},function(){});Ca=Cc;}return Ca;},When:function(Cv,Cw,Cx){var Cy,Cz,CA,CB,CC,CD,CE;Cy=Cv.State;if(Cy.$==1){Cz=Cx(null);}else{if(Cy.$==2){CA=Cy.$0;CB=Cy.$1;l.Add(Cx,CB);Cz=Cw(CA);}else{if(Cy.$==3){CC=Cy.$1;CD=Cy.$0;l.Add(Cw,CD);Cz=l.Add(Cx,CC);}else{CE=Cy.$0;Cz=Cw(CE);}}}return Cz;}},Storage1:{ArrayStorage:$.Class({Add:function(CF,CG){var CH;CH=CG.push(CF);return CG;},Init:function(){return this.init;},RemoveIf:function(CI,CJ){return c.filter(CI,CJ);},Set:function(CK){return d.toArray(CK);},SetAt:function(CL,CM,CN){c.set(CN,CL,CM);return CN;}},{New:function(CO){var CP;CP=$.New(this,{});CP.init=CO;return CP;}}),InMemory:function(CQ){return bk.New(CQ);},LocalStorage:function(CR,CS){return bl.New(CR,CS);},LocalStorageBackend:$.Class({Add:function(CT,CU){var CV;CV=CU.push(CT);return this.set(CU);},Init:function(){var CW,CX,CY,CZ,C0,C1;CW=this.storage.getItem(this.id);if(CW===null){CX=[];}else{try{CZ=bm.parse(CW);C0=this.serializer.Decode;CY=c.map(C0,CZ);}catch(C1){CY=[];}CX=CY;}return CX;},RemoveIf:function(C2,C3){var C4;C4=c.filter(C2,C3);return this.set(C4);},Set:function(C5){var C6;C6=d.toArray(C5);return this.set(C6);},SetAt:function(C7,C8,C9){c.set(C9,C7,C8);return this.set(C9);},clear:function(){return this.storage.removeItem(this.id);},set:function(C_){var C$,Da;C$=this.serializer.Encode;Da=c.map(C$,C_);this.storage.setItem(this.id,bm.stringify(Da));return C_;}},{New:function(Db,Dc){var Dd;Dd=$.New(this,{});Dd.id=Db;Dd.serializer=Dc;Dd.storage=bg.localStorage;return Dd;}})},String:{isBlank:function(De){return _9.forall(function(Df){return bn.IsWhiteSpace(Df);},De);}},Submitter:$.Class({Trigger:function(){return V.Set(this["var"],null);},get_Input:function(){return this.input;},get_View:function(){return this.view;}},{Create:function(Dg,Dh){return bo.New(Dg,Dh);},CreateOption:function(Di){var Dj;Dj=function(Dk){return{$:1,$0:Dk};};return bo.New(u.Map(Dj,Di),{$:0});},New:function(Dl,Dm){var Dn,Do,Dp;Dn=$.New(this,{});Dn.input=Dl;Dn["var"]=X.Create(null);Do=Dn["var"].get_View();Dp=Dn.input;Dn.view=u.SnapshotOn(Dm,Do,Dp);return Dn;},Trigger:function(Dq){return Dq.Trigger();},View:function(Dr){return Dr.get_View();}}),Submitter1:$.Class({},{Input:function(Ds){return Ds.get_Input();}}),Trans:$.Class({},{AnimateChange:function(Dt,Du,Dv){return(Dt.TChange.call(null,Du))(Dv);},AnimateEnter:function(Dw,Dx){return Dw.TEnter.call(null,Dx);},AnimateExit:function(Dy,Dz){return Dy.TExit.call(null,Dz);},CanAnimateChange:function(DA){return(DA.TFlags&1)!==0;},CanAnimateEnter:function(DB){return(DB.TFlags&2)!==0;},CanAnimateExit:function(DC){return(DC.TFlags&4)!==0;},Create:function(DD){return{TChange:DD,TEnter:function(DE){return o.Const(DE);},TExit:function(DF){return o.Const(DF);},TFlags:1};},Trivial:function(){return{TChange:function(){return function(DH){return o.Const(DH);};},TEnter:function(DI){return o.Const(DI);},TExit:function(DJ){return o.Const(DJ);},TFlags:0};}}),Trans1:$.Class({},{Change:function(DK,DL){var DM;DM=DL.TFlags|1;return{TChange:DK,TEnter:DL.TEnter,TExit:DL.TExit,TFlags:DM};},Enter:function(DN,DO){var DP;DP=DO.TFlags|2;return{TChange:DO.TChange,TEnter:DN,TExit:DO.TExit,TFlags:DP};},Exit:function(DQ,DR){var DS;DS=DR.TFlags|4;return{TChange:DR.TChange,TEnter:DR.TEnter,TExit:DQ,TFlags:DS};}}),Trie1:{AllSome:function(DT){var DU,DV,DW,DX,DY,DZ;DU=bp.Get(DT);DV=br.New2();DW=true;while(DW?DU.MoveNext():false){DX=DU.get_Current();if(DX.$==1){DZ=DX.$0;DY=DV.Add(DZ);}else{DY=DW=false;}}return DW?{$:1,$0:DV.ToArray()}:{$:0};},Empty:function(){return{$:1};},IsLeaf:function(D0){return D0.$==2?true:false;},Leaf:function(D1){return{$:2,$0:D1};},Look:function(D2,D3){var D4,D5,D6,D7,D8,D9,D_,D$,Ea,Eb;D4=[D3,D2];if(D4[0].$==2){D6=D4[0].$0;D5={$:0,$0:D6,$1:D2};}else{if(D4[0].$==0){if(D4[1].$==1){D8=D4[1].$0;D9=D4[1].$1;D_=D4[0].$0;D$=bs.TryFind(D8,D_);if(D$.$==0){Ea={$:1};}else{Eb=D$.$0;Ea=be.Look(D9,Eb);}D7=Ea;}else{D7={$:1};}D5=D7;}else{D5={$:1};}}return D5;},Lookup:function(Ec,Ed){return be.Look(d.toList(Ed),Ec);},Map:function(Ee,Ef){return be.MapLoop($.New(O,{$:0}),Ee,Ef);},MapLoop:function(Eg,Eh,Ei){var Ej,Ek,El,Em,Ep;if(Ei.$==1){Ej={$:1};}else{if(Ei.$==2){Ek=Ei.$0;Ej={$:2,$0:(Eh(Eg))(Ek)};}else{El=Ei.$0;Em=function(En){return function(Eo){return be.MapLoop(B.append(Eg,B.ofArray([En])),Eh,Eo);};};Ep=bs.Map(Em,El);Ej=be.TrieBranch(Ep);}}return Ej;},Mapi:function(Eq,Er){var Es,Et;Es=[0];Et=function(){var Ev;Ev=Es[0];Es[0]=Ev+1;return Ev;};return be.Map(function(Ew){return(Eq(Et(null)))(Ew);},Er);},Merge:function(Ex){var Ey,Ez,EA,EC,ED,EH,EJ,EL,EM;Ey=d.toArray(Ex);Ez=c.length(Ey);if(Ez===0){EA={$:1,$0:{$:1}};}else{if(Ez===1){EA={$:1,$0:c.get(Ey,0)};}else{if(d.exists(function(EB){return be.IsLeaf(EB);},Ey)){EC={$:0};}else{ED=function(EE){var EF,EG;if(EE.$==0){EG=EE.$0;EF={$:1,$0:EG};}else{EF={$:0};}return EF;};EH=function(EI){return be.Merge(EI);};EJ=function(EK){return be.TrieBranch(EK);};EL=d.choose(ED,Ey);EM=be.MergeMaps(EH,EL);EC=t.map(EJ,EM);}EA=EC;}}return EA;},MergeMaps:function(EN,EO){var EP,ER,EW,EX,EY,EZ,E6,E7,E8;EP=d.collect(function(EQ){return bs.ToSeq(EQ);},EO);ER=function(ES){return function(ET){var EU,EV;EU=ET[0];EV=ET[1];return be.MultiAdd(EU,EV,ES);};};EW=bt.New1([]);EX=d.fold(ER,EW,EP);EY=bs.ToSeq(EX);EZ=function(E0){var E1,E2,E3,E5;E1=E0[0];E2=E0[1];E3=function(E4){return[E1,E4];};E5=EN(E2);return t.map(E3,E5);};E6=d.map(EZ,EY);E7=be.AllSome(E6);E8=function(E9){return bs.OfArray(d.toArray(E9));};return t.map(E8,E7);},MultiAdd:function(E_,E$,Fa){return Fa.Add(E_,$.New(O,{$:1,$0:E$,$1:be.MultiFind(E_,Fa)}));},MultiFind:function(Fb,Fc){return N.DefaultArg(bs.TryFind(Fb,Fc),$.New(O,{$:0}));},Prefix:function(Fd,Fe){return be.TrieBranch(bt.New1(B.ofArray([[Fd,Fe]])));},ToArray:function(Ff){var Fg,Fh;Fg=[];Fh=be.Map(function(){return function(Fj){return l.Add(Fj,Fg);};},Ff);return l.ToArray(Fg);},TrieBranch:function(Fk){return Fk.get_IsEmpty()?{$:1}:{$:0,$0:Fk};}},Var:$.Class({Get:function(){return V.Get(this);},Set:function(Fl){return V.Set(this,Fl);},Update:function(Fm){return V.Update(this,Fm);},UpdateMaybe:function(Fn){var Fo,Fp,Fq;Fo=Fn(V.Get(this));if(Fo.$==1){Fq=Fo.$0;Fp=V.Set(this,Fq);}else{Fp=null;}return Fp;},get_Id:function(){return"uinref"+$$.String(V.GetId(this));},get_View:function(){var Fs=this;return{$:0,$0:function(){return V.Observe(Fs);}};},get_View1:function(){return this.get_View();}},{Create:function(Ft){return $.New(X,{Const:false,Current:Ft,Snap:bh.CreateWithValue(Ft),Id:h.Int()});}}),Var1:$.Class({},{Get:function(Fu){return Fu.Current;},GetId:function(Fv){return Fv.Id;},Lens:function(Fw,Fx,Fy){return bu.New(Fw,Fx,Fy);},Observe:function(Fz){return Fz.Snap;},Set:function(FA,FB){var FC;if(FA.Const){FC=null;}else{bh.MarkObsolete(FA.Snap);FA.Current=FB;FC=void(FA.Snap=bh.CreateWithValue(FB));}return FC;},SetFinal:function(FD,FE){var FF;if(FD.Const){FF=null;}else{FD.Const=true;FD.Current=FE;FF=void(FD.Snap=bh.CreateForever(FE));}return FF;},Update:function(FG,FH){var FI;FI=FH(V.Get(FG));return V.Set(FG,FI);}}),View:$.Class({},{ConvertSeqNode:function(FJ,FK){var FL,FM;FL=X.Create(FK);FM=FL.get_View();return{NValue:FJ(FM),NVar:FL,NView:FM};},CreateLazy:function(FN){var FO,FP;FO=[{$:0}];FP=function(){var FR,FS,FT,FU,FV,FW,FX;FR=FO[0];if(FR.$==1){FT=FR.$0;if(!bh.IsObsolete(FT)){FV=FR.$0;FU=FV;}else{FW=FN(null);FO[0]={$:1,$0:FW};FU=FW;}FS=FU;}else{FX=FN(null);FO[0]={$:1,$0:FX};FS=FX;}return FS;};return{$:0,$0:FP};},CreateLazy2:function(FY,FZ,F0){var F1,F2;F1=FZ.$0;F2=F0.$0;return u.CreateLazy(function(){var F4,F5;F4=F1(null);F5=F2(null);return(FY(F4))(F5);});},Map:function(F6,F7){var F8;F8=F7.$0;return u.CreateLazy(function(){var F_;F_=F8(null);return bh.Map(F6,F_);});},Map2:function(F$,Ga,Gb){var Gc;Gc=function(Gd){return function(Ge){return bh.Map2(F$,Gd,Ge);};};return u.CreateLazy2(Gc,Ga,Gb);},MapAsync:function(Gf,Gg){var Gh;Gh=Gg.$0;return u.CreateLazy(function(){var Gj;Gj=Gh(null);return bh.MapAsync(Gf,Gj);});},MapCached:function(Gk,Gl){var Gm,Gn;Gm=Gl.$0;Gn=[{$:0}];return u.CreateLazy(function(){var Gp;Gp=Gm(null);return bh.MapCached(Gn,Gk,Gp);});},MapSeqCached:function(Gq,Gr){var Gs;Gs=function(Gt){return Gt;};return u.MapSeqCachedBy(Gs,Gq,Gr);},MapSeqCachedBy:function(Gu,Gv,Gw){var Gx,Gy;Gx=[bf.New12()];Gy=function(Gz){var GA,GB,GC,GG,GH;GA=Gx[0];GB=bf.New12();GC=function(GD){var GE,GF;GE=Gu(GD);GF=GA.ContainsKey(GE)?GA.get_Item(GE):Gv(GD);GB.set_Item(GE,GF);return GF;};GG=d.toArray(Gz);GH=c.map(GC,GG);Gx[0]=GB;return GH;};return u.Map(Gy,Gw);},MapSeqCachedView:function(GI,GJ){var GK,GM;GK=function(GL){return GL;};GM=function(){return function(GO){return GI(GO);};};return u.MapSeqCachedViewBy(GK,GM,GJ);},MapSeqCachedViewBy:function(GP,GQ,GR){var GS,GT;GS=[bf.New12()];GT=function(GU){var GV,GW,GX,GY,G7;GV=GS[0];GW=bf.New12();GX=d.toArray(GU);GY=function(GZ){var G0,G1,G2,G3,G4,G5;G0=GP(GZ);if(GV.ContainsKey(G0)){G3=GV.get_Item(G0);G4=G3.NVar;V.Set(G4,GZ);G2=G3;}else{G5=function(G6){return(GQ(G0))(G6);};G2=u.ConvertSeqNode(G5,GZ);}G1=G2;GW.set_Item(G0,G1);return G1.NValue;};G7=c.map(GY,GX);GS[0]=GW;return G7;};return u.Map(GT,GR);},SnapshotOn:function(G8,G9,G_){var G$,Ha,Hb,Hc,Hd,Hg;G$=G9.$0;Ha=G_.$0;Hb=bh.CreateWithValue(G8);Hc=[false];Hd=function(){var Hf;if(!Hc[0]){Hc[0]=true;Hf=bh.MarkObsolete(Hb);}else{Hf=null;}return Hf;};Hg=function(){var Hi,Hj,Hk,Hl;Hi=G$(null);Hj=Ha(null);if(Hc[0]){Hk=bh.SnapshotOn(Hi,Hj);}else{Hl=bh.SnapshotOn(Hi,Hj);bh.When(Hl,function(){return null;},function(){return Hd(null);});Hk=Hb;}return Hk;};return u.CreateLazy(Hg);},UpdateWhile:function(Ho,Hp,Hq){var Hr,Hs;Hr=[Ho];Hs=function(Ht){return function(Hu){Ht?void(Hr[0]=Hu):null;return Hr[0];};};return u.Map2(Hs,Hp,Hq);},get_Do:function(){return{$:0};}}),View1:$.Class({},{Apply:function(Hv,Hw){var Hx;Hx=function(Hy){return function(Hz){return Hy(Hz);};};return u.Map2(Hx,Hv,Hw);},Bind:function(HA,HB){return E.Join(u.Map(HA,HB));},Const:function(HC){var HD;HD=bh.CreateForever(HC);return{$:0,$0:function(){return HD;}};},Join:function(HF){var HG;HG=HF.$0;return u.CreateLazy(function(){var HI,HL;HI=function(HJ){var HK;HK=HJ.$0;return HK(null);};HL=HG(null);return bh.Bind(HI,HL);});},Sequence:function(HM){return u.CreateLazy(function(){var HO,HR;HO=function(HP){var HQ;HQ=HP.$0;return HQ(null);};HR=d.map(HO,HM);return bh.Sequence(HR);});},Sink:function(HS,HT){var HU,HV;HU=HT.$0;HV=function(){var HX;HX=HU(null);return bh.When(HX,HS,function(){return bi.Schedule(HV);});};return bi.Schedule(HV);},TryFinally:function(HZ,H0){var H1;H1=H0.$0;return u.CreateLazy(function(){var H3;try{H3=H1(null);}finally{HZ(null);}return H3;});},TryWith:function(H4,H5){var H6;H6=H5.$0;return u.CreateLazy(function(){var H8,H9,H_,H$;try{H8=H6(null);}catch(H9){H_=H4(H9);H$=H_.$0;H8=H$(null);}return H8;});}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Concurrency);b=$.Safe($$.Array);c=$.Safe($$.WebSharper.Arrays);d=$.Safe($$.WebSharper.Seq);e=$.Safe($$.WebSharper.UI);f=$.Safe(e.Next);g=$.Safe(f.Abbrev);h=$.Safe(g.Fresh);i=$.Safe($$.WebSharper.Collections);j=$.Safe(i.HashSetProxy);k=$.Safe(g.HashSet);l=$.Safe(g.JQueue);m=$.Safe($$.WebSharper.Unchecked);n=$.Safe(g.Slot1);o=$.Safe(f.An);p=$.Safe(f.AppendList1);q=$.Safe(f.Anims);r=$.Safe($$.requestAnimationFrame);s=$.Safe(f.Trans);t=$.Safe($$.WebSharper.Option);u=$.Safe(f.View);v=$.Safe($$.WebSharper.Lazy);w=$.Safe(f.Array);x=$.Safe(f.Attrs);y=$.Safe(f.DomUtility);z=$.Safe(f.AttrModule);A=$.Safe(f.AttrProxy);B=$.Safe($$.WebSharper.List);C=$.Safe(f.AnimatedAttrNode);D=$.Safe(f.DynamicAttrNode);E=$.Safe(f.View1);F=$.Safe($$.document);G=$.Safe(f.Doc);H=$.Safe(f.Elt);I=$.Safe($$.Seq);J=$.Safe(f.Docs);K=$.Safe(f.String);L=$.Safe(f.CheckedInput);M=$.Safe(g.Mailbox);N=$.Safe($$.WebSharper.Operators);O=$.Safe(B.T);P=$.Safe($$.jQuery);Q=$.Safe(J.NodeSet);R=$.Safe(f.DocElemNode);S=$.Safe(J.DomNodes);T=$.Safe(f.Easing);U=$.Safe(f.Easings);V=$.Safe(f.Var1);W=$.Safe($$.RegExp);X=$.Safe(f.Var);Y=$.Safe(f.FlowBuilder);Z=$.Safe(f.Flow);_0=$.Safe(f.Input);_1=$.Safe(f.DoubleInterpolation);_2=$.Safe(f.Key);_3=$.Safe(f.ListModels);_4=$.Safe(f.RefImpl1);_5=$.Safe(f.Storage1);_6=$.Safe(f.ListModel);_7=$.Safe(f.Model);_8=$.Safe($$.encodeURIComponent);_9=$.Safe($$.WebSharper.Strings);_=$.Safe(f.Route);ba=$.Safe($$.decodeURIComponent);bb=$.Safe(f.Routing);bc=$.Safe(f.Router);bd=$.Safe(f.Router1);be=$.Safe(f.Trie1);bf=$.Safe(i.Dictionary);bg=$.Safe($$.window);bh=$.Safe(f.Snap1);bi=$.Safe(g.Async);bj=$.Safe($$.WebSharper.Ref);bk=$.Safe(_5.ArrayStorage);bl=$.Safe(_5.LocalStorageBackend);bm=$.Safe($$.JSON);bn=$.Safe($$.WebSharper.Char);bo=$.Safe(f.Submitter);bp=$.Safe($$.WebSharper.Enumerator);bq=$.Safe(i.ResizeArray);br=$.Safe(bq.ResizeArrayProxy);bs=$.Safe(i.MapModule);bt=$.Safe(i.FSharpMap);return bu=$.Safe(f.RefImpl);});$.OnLoad(function(){$.Inherit(H,G);_0.MousePosSt1();_0.MouseBtnSt1();_0.KeyListenerState();_0.ActivateKeyListener();_0.ActivateButtonListener();U.CubicInOut();y.Doc();x.EmptyAttr();z.ValidateForm();h.counter();return;});}());

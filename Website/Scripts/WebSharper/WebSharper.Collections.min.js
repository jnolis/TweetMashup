(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Collections=b.Collections||{};d=c.BalancedTree=c.BalancedTree||{};e=d.Tree=d.Tree||{};f=c.Pair=c.Pair||{};g=c.MapUtil=c.MapUtil||{};h=c.FSharpMap=c.FSharpMap||{};i=c.Map=c.Map||{};j=c.FSharpSet=c.FSharpSet||{};k=c.Set=c.Set||{};l=c.ListEnumerator=c.ListEnumerator||{};m=c.List=c.List||{};n=c.LinkedListEnumerator=c.LinkedListEnumerator||{};o=c.LinkedList=c.LinkedList||{};p=b.Grouping=b.Grouping||{};q=b.FsComparer=b.FsComparer||{};r=b.ProjectionComparer=b.ProjectionComparer||{};s=b.CompoundComparer=b.CompoundComparer||{};t=b.ReverseComparer=b.ReverseComparer||{};u=b.OrderedEnumerable=b.OrderedEnumerable||{};v=b.Linq=b.Linq||{};w=b&&b.Arrays;x=b&&b.Seq;y=b&&b.Unchecked;z=b&&b.List;A=a.IntelliFactory;B=A&&A.Runtime;C=b&&b.Enumerator;D=b&&b.Operators;E=c&&c.HashSet;F=c&&c.Dictionary;G=b&&b.Nullable;e.New=function(H,I,J,K,L){return{Node:H,Left:I,Right:J,Height:K,Count:L};};d.TryFind=function(H,I){var J;J=(d.Lookup(H,I))[0];return J==null?null:{$:1,$0:J.Node};};d.Contains=function(H,I){return!((d.Lookup(H,I))[0]==null);};d.Add=function(H,I){return d.Put(function(J,K){return K;},H,I);};d.Remove=function(H,I){var J,K,L,M;J=d.Lookup(H,I);K=J[0];L=J[1];return K==null?I:K.Right==null?d.Rebuild(L,K.Left):K.Left==null?d.Rebuild(L,K.Right):d.Rebuild(L,(M=w.ofSeq(x.append(d.Enumerate(false,K.Left),d.Enumerate(false,K.Right))),d.Build(M,0,M.length-1)));};d.Put=function(H,I,J){var K,L;K=d.Lookup(I,J);L=K[0];return L==null?d.Rebuild(K[1],d.Branch(I,null,null)):d.Rebuild(K[1],d.Branch(H(L.Node,I),L.Left,L.Right));};d.Rebuild=function(H,I){var J,L,M,N,O,P,Q,R,S,T;function K(U){return U==null?0:U.Height;}J=I;for(L=0,M=w.length(H)-1;L<=M;L++){J=(N=w.get(H,L),N[0]?(O=N[1],(P=N[2],K(J)>K(P)+1?K(J.Left)===K(J.Right)+1?(Q=J.Left,d.Branch(Q.Node,d.Branch(O,P,Q.Left),d.Branch(J.Node,Q.Right,J.Right))):d.Branch(J.Node,d.Branch(O,P,J.Left),J.Right):d.Branch(O,P,J))):(R=N[1],(S=N[2],K(J)>K(S)+1?K(J.Right)===K(J.Left)+1?(T=J.Right,d.Branch(T.Node,d.Branch(J.Node,J.Left,T.Left),d.Branch(R,T.Right,S))):d.Branch(J.Node,J.Left,d.Branch(R,J.Right,S)):d.Branch(R,J,S))));}return J;};d.Lookup=function(H,I){var J,K,L,M;J=[];K=I;L=true;while(L)if(K==null)L=false;else{M=y.Compare(H,K.Node);M===0?L=false:M===1?(J.unshift([true,K.Node,K.Left]),K=K.Right):(J.unshift([false,K.Node,K.Right]),K=K.Left);}return[K,J];};d.OfSeq=function(H){var I;I=w.ofSeq(x.distinct(H));w.sortInPlace(I);return d.Build(I,0,I.length-1);};d.Build=function(H,I,J){var K,L,M;return J-I+1<=0?null:(K=(I+J)/2>>0,(L=d.Build(H,I,K-1),(M=d.Build(H,K+1,J),d.Branch(w.get(H,K),L,M))));};d.Enumerate=function(H,I){function J(K,L){var M;while(true)if(K==null)return L.$==1?{$:1,$0:[L.$0[0],[L.$0[1],L.$1]]}:null;else if(H){M=K;K=M.Right;L=new z.T({$:1,$0:[M.Node,M.Left],$1:L});}else{M=K;K=M.Left;L=new z.T({$:1,$0:[M.Node,M.Right],$1:L});}}return x.unfold(function(K){return J(K[0],K[1]);},[I,z.T.Empty]);};d.Branch=function(H,I,J){var K,L;return e.New(H,I,J,1+(K=I==null?0:I.Height,(L=J==null?0:J.Height,y.Compare(K,L)===1?K:L)),1+(I==null?0:I.Count)+(J==null?0:J.Count));};f=c.Pair=B.Class({Equals:function(H){return y.Equals(this.Key,H.Key);},GetHashCode:function(){return y.Hash(this.Key);},CompareTo0:function(H){return y.Compare(this.Key,H.Key);}},null,f);f.New=function(H,I){return new f({Key:H,Value:I});};g.fromSeq=function(H){var I;I=w.ofSeq(x.delay(function(){return x.collect(function(J){return[f.New(J[0],J[1])];},x.distinctBy(function(J){return J[0];},H));}));w.sortInPlace(I);return d.Build(I,0,I.length-1);};h=c.FSharpMap=B.Class({Equals:function(H){return this.get_Count()===H.get_Count()&&x.forall2(y.Equals,this,H);},GetHashCode:function(){return y.Hash(w.ofSeq(this));},GetEnumerator$1:function(){return C.Get(x.map(function(H){return{K:H.Key,V:H.Value};},d.Enumerate(false,this.tree)));},TryFind:function(H){var I;I=d.TryFind(f.New(H,void 0),this.tree);return I==null?null:{$:1,$0:I.$0.Value};},Remove:function(H){return new h.New$1(d.Remove(f.New(H,void 0),this.tree));},get_Item:function(H){var I;I=this.TryFind(H);return I==null?D.FailWith("The given key was not present in the dictionary."):I.$0;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var H;H=this.tree;return H==null?0:H.Count;},ContainsKey:function(H){return d.Contains(f.New(H,void 0),this.tree);},Add:function(H,I){return new h.New$1(d.Add(f.New(H,I),this.tree));},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();},CompareTo0:function(H){return x.compareWith(y.Compare,this,H);}},b.Obj,h);h.New=B.Ctor(function(H){h.New$1.call(this,g.fromSeq(H));},h);h.New$1=B.Ctor(function(H){this.tree=H;},h);i.Map=function(H,I){return new h.New$1(d.OfSeq(x.map(function(J){return f.New(J.Key,H(J.Key,J.Value));},d.Enumerate(false,I.get_Tree()))));};i.TryPick=function(H,I){return x.tryPick(function(J){return H(J.K,J.V);},I);};i.TryFindKey=function(H,I){return x.tryPick(function(J){return H(J.K,J.V)?{$:1,$0:J.K}:null;},I);};i.TryFind=function(H,I){return I.TryFind(H);};i.ToSeq=function(H){return x.map(function(I){return[I.Key,I.Value];},d.Enumerate(false,H.get_Tree()));};i.Pick=function(H,I){return x.pick(function(J){return H(J.K,J.V);},I);};i.Partition=function(H,I){var J,K,L;J=w.partition(function(M){return H(M.Key,M.Value);},w.ofSeq(d.Enumerate(false,I.get_Tree())));return[new h.New$1((K=J[0],d.Build(K,0,K.length-1))),new h.New$1((L=J[1],d.Build(L,0,L.length-1)))];};i.OfArray=function(H){return new h.New$1(d.OfSeq(x.map(function(I){return f.New(I[0],I[1]);},H)));};i.Iterate=function(H,I){x.iter(function(J){H(J.K,J.V);},I);};i.ForAll=function(H,I){return x.forall(function(J){return H(J.K,J.V);},I);};i.FoldBack=function(H,I,J){return x.fold(function(K,L){return H(L.Key,L.Value,K);},J,d.Enumerate(true,I.get_Tree()));};i.Fold=function(H,I,J){return x.fold(function(K,L){return H(K,L.Key,L.Value);},I,d.Enumerate(false,J.get_Tree()));};i.FindKey=function(H,I){return x.pick(function(J){return H(J.K,J.V)?{$:1,$0:J.K}:null;},I);};i.Filter=function(H,I){var J;return new h.New$1((J=w.ofSeq(x.filter(function(K){return H(K.Key,K.Value);},d.Enumerate(false,I.get_Tree()))),d.Build(J,0,J.length-1)));};i.Exists=function(H,I){return x.exists(function(J){return H(J.K,J.V);},I);};j=c.FSharpSet=B.Class({Equals:function(H){return this.get_Count()===H.get_Count()&&x.forall2(y.Equals,this,H);},GetHashCode:function(){return -1741749453+y.Hash(w.ofSeq(this));},GetEnumerator$1:function(){return C.Get(d.Enumerate(false,this.tree));},Remove:function(H){return new j.New$1(d.Remove(H,this.tree));},get_MinimumElement:function(){return x.head(d.Enumerate(false,this.tree));},get_MaximumElement:function(){return x.head(d.Enumerate(true,this.tree));},IsSupersetOf:function(H){var I;I=this;return x.forall(function(J){return I.Contains(J);},H);},IsSubsetOf:function(H){return x.forall(function(I){return H.Contains(I);},this);},IsProperSupersetOf:function(H){return this.IsSupersetOf(H)&&this.get_Count()>H.get_Count();},IsProperSubsetOf:function(H){return this.IsSubsetOf(H)&&this.get_Count()<H.get_Count();},get_Tree:function(){return this.tree;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var H;H=this.tree;return H==null?0:H.Count;},Contains:function(H){return d.Contains(H,this.tree);},Add:function(H){return new j.New$1(d.Add(H,this.tree));},sub:function(H){return k.Filter(function(I){return!H.Contains(I);},this);},add:function(H){return new j.New$1(d.OfSeq(x.append(this,H)));},CompareTo0:function(H){return x.compareWith(y.Compare,this,H);},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},b.Obj,j);j.op_Subtraction=function(H,I){return k.Filter(function(J){return!I.Contains(J);},H);};j.op_Addition=function(H,I){return new j.New$1(d.OfSeq(x.append(H,I)));};j.New=B.Ctor(function(H){j.New$1.call(this,d.OfSeq(H));},j);j.New$1=B.Ctor(function(H){this.tree=H;},j);k.Partition=function(H,I){var J;J=w.partition(H,w.ofSeq(I));return[new j.New$1(d.OfSeq(J[0])),new j.New$1(d.OfSeq(J[1]))];};k.FoldBack=function(H,I,J){return x.fold(function(K,L){return H(L,K);},J,d.Enumerate(true,I.get_Tree()));};k.Filter=function(H,I){var J;return new j.New$1((J=w.ofSeq(x.filter(H,I)),d.Build(J,0,J.length-1)));};l=c.ListEnumerator=B.Class({get_Current:function(){return w.get(this.arr,this.i);},MoveNext$1:function(){this.i=this.i+1;return this.i<w.length(this.arr);},Dispose:a.ignore,Current:function(){return w.get(this.arr,this.i);},Reset:function(){D.FailWith("IEnumerator.Reset not supported");},Current0:function(){return w.get(this.arr,this.i);},MoveNext:function(){return this.MoveNext$1();}},b.Obj,l);l.New=B.Ctor(function(H){this.arr=H;this.i=-1;},l);m=c.List=B.Class({GetEnumerator:function(){return C.Get(this);},GetEnumerator0:function(){return C.Get0(this);}},null,m);m.RemoveAll=function(H,I){var J,K,L,M;J=0;K=0;while(K<w.length(H))if(I(H[K])){L=K+1;while(L<w.length(H)&&I(H[L]))L=L+1;J=J+L-K;M=L-K;H.splice.apply(H,[K,M]);}else K=K+1;return J;};m.Remove=function(H,I){var J;J=w.findIndexBound(H,0,w.length(H),I==null?function(K){return K==null;}:function(K){return y.Equals(I,K);});return J===-1?false:(H.splice.apply(H,[J,1]),true);};n=c.LinkedListEnumerator=B.Class({Reset:a.ignore,Dispose:a.ignore,MoveNext:function(){this.c=this.c.n;return!y.Equals(this.c,null);},Current0:function(){return this.c.v;},Current:function(){return this.c.v;}},b.Obj,n);n.New=B.Ctor(function(H){this.c=H;},n);o=c.LinkedList=B.Class({RemoveLast:function(){this.Remove$1(this.p);},RemoveFirst:function(){this.Remove$1(this.n);},Remove:function(H){var I;I=this.Find(H);return y.Equals(I,null)?false:(this.Remove$1(I),true);},Remove$1:function(H){var I,J;I=H.p;J=H.n;y.Equals(I,null)?this.n=J:I.n=J;y.Equals(J,null)?this.p=I:J.p=I;this.c=this.c-1;},GetEnumerator$1:function(){return new n.New(this);},FindLast:function(H){var I,J;I=this.p;J=true;while(J&&!y.Equals(I,null))if(I.v==H)J=false;else I=I.p;return J?null:I;},Find:function(H){var I,J;I=this.n;J=true;while(J&&!y.Equals(I,null))if(I.v==H)J=false;else I=I.n;return J?null:I;},Contains:function(H){var I,J;I=false;J=this.n;while(!y.Equals(J,null)&&!I)if(J.v==H)I=true;else J=J.n;return I;},Clear:function(){this.c=0;this.n=null;this.p=null;},AddLast:function(H){var I;return this.c===0?(I={p:null,n:null,v:H},(this.n=I,this.p=this.n,this.c=1,I)):this.AddAfter(this.p,H);},AddFirst:function(H){var I;return this.c===0?(I={p:null,n:null,v:H},(this.n=I,this.p=this.n,this.c=1,I)):this.AddBefore(this.n,H);},AddBefore:function(H,I){var J,K;J=H.p;K={p:J,n:H,v:I};y.Equals(H.p,null)?this.n=K:void 0;H.p=K;!y.Equals(J,null)?J.n=K:void 0;this.c=this.c+1;return K;},AddAfter:function(H,I){var J,K;J=H.n;K={p:H,n:J,v:I};y.Equals(H.n,null)?this.p=K:void 0;H.n=K;!y.Equals(J,null)?J.p=K:void 0;this.c=this.c+1;return K;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},b.Obj,o);o.New=B.Ctor(function(){o.New$1.call(this,[]);},o);o.New$1=B.Ctor(function(H){var I,J;this.c=0;this.n=null;this.p=null;I=C.Get(H);I.MoveNext()?(this.n={p:null,n:null,v:I.Current()},this.p=this.n,this.c=1):void 0;while(I.MoveNext()){J={p:this.p,n:null,v:I.Current()};this.p.n=J;this.p=J;this.c=this.c+1;}},o);p=b.Grouping=B.Class({System_Linq_IGrouping_2$get_Key:function(){return this.k;},GetEnumerator0:function(){return C.Get0(this.v);},GetEnumerator:function(){return C.Get(this.v);}},b.Obj,p);p.New=B.Ctor(function(H,I){this.k=H;this.v=I;},p);q=b.FsComparer=B.Class({Compare:function(H,I){return y.Compare(H,I);}},b.Obj,q);q.New=B.Ctor(function(){},q);r=b.ProjectionComparer=B.Class({Compare:function(H,I){return this.primary.Compare(this.projection(H),this.projection(I));}},b.Obj,r);r.New=B.Ctor(function(H,I){this.primary=H;this.projection=I;},r);s=b.CompoundComparer=B.Class({Compare:function(H,I){var J;J=this.primary.Compare(H,I);return J===0?this.secondary.Compare(H,I):J;}},b.Obj,s);s.New=B.Ctor(function(H,I){this.primary=H;this.secondary=I;},s);t=b.ReverseComparer=B.Class({Compare:function(H,I){return this.primary.Compare(this.projection(I),this.projection(H));}},b.Obj,t);t.New=B.Ctor(function(H,I){this.primary=H;this.projection=I;},t);u=b.OrderedEnumerable=B.Class({GetEnumerator0:function(){return C.Get(this);},GetEnumerator:function(){var H,I;H=this;I=w.ofSeq(this.source);w.sortInPlaceWith(function(J,K){return H.primary.Compare(J,K);},I);return C.Get(I);},System_Linq_IOrderedEnumerable_1$CreateOrderedEnumerable:function(H,I,J){return new u.New(this.source,new s.New(this.primary,J?new t.New(I,H):new r.New(I,H)));}},b.Obj,u);u.New=B.Ctor(function(H,I){this.source=H;this.primary=I;},u);v.ElementAtOrDefault=function(H,I,J){try{return x.nth(I,H);}catch(K){return J;}};v.FirstOrDefault=function(H,I){var J;J=C.Get(H);try{return J.MoveNext()?J.Current():I;}finally{if("Dispose"in J)J.Dispose();}};v.FirstOrDefault$1=function(H,I,J){var K;K=x.tryFind(I,H);return K==null?J:K.$0;};v.LastOrDefault=function(H,I,J){var K;K=v.LastPred(H,I);return K==null?J:K.$0;};v.SingleOrDefault=function(H,I,J){var K,L;K=C.Get(H);try{L=null;while(K.MoveNext())if(I(K.Current()))if(L!=null&&L.$==1)D.InvalidOp("Sequence contains more than one element");else L={$:1,$0:K.Current()};return L==null?J:L.$0;}finally{if("Dispose"in K)K.Dispose();}};v.Where=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=0;return x.enumWhile(function(){return J.MoveNext();},x.delay(function(){return x.append(I(J.Current(),K)?[J.Current()]:[],x.delay(function(){K=K+1;return[];}));}));});});};v.Union=function(H,I,J){var K,L;K=new E.New(H,J);L=C.Get(I);try{while(L.MoveNext())K.Add(L.Current());}finally{if("Dispose"in L)L.Dispose();}return K;};v.ToDictionary=function(H,I,J,K){var L;L=new F.New$3(K);x.iter(function(M){L.Add(I(M),J(M));},H);return L;};v.ToDictionary$1=function(H,I,J){var K;K=new F.New$3(J);x.iter(function(L){K.Add(I(L),L);},H);return K;};v.TakeWhile=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){return x.enumWhile(function(){return J.MoveNext()&&I(J.Current());},x.delay(function(){return[J.Current()];}));});});};v.TakeWhile$1=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=0;return x.enumWhile(function(){return J.MoveNext()&&I(J.Current(),K);},x.delay(function(){K=K+1;return[J.Current()];}));});});};v.Take=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=0;return x.enumWhile(function(){return K<I&&J.MoveNext();},x.delay(function(){K=K+1;return[J.Current()];}));});});};v.Sum=function(H){var I;I=x.choose(function(J){return J!=null?{$:1,$0:G.get(J)}:null;},H);return x.isEmpty(I)?null:x.sum(I);};v.SkipWhile=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=true;return x.append(x.enumWhile(function(){return K&&J.MoveNext();},x.delay(function(){return!I(J.Current())?(K=false,[]):[];})),x.delay(function(){return!K?x.append([J.Current()],x.delay(function(){return x.enumWhile(function(){return J.MoveNext();},x.delay(function(){return[J.Current()];}));})):[];}));});});};v.SkipWhile$1=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K,L;K=0;L=true;return x.append(x.enumWhile(function(){return L&&J.MoveNext();},x.delay(function(){return I(J.Current(),K)?(K=K+1,[]):(L=false,[]);})),x.delay(function(){return!L?x.append([J.Current()],x.delay(function(){return x.enumWhile(function(){return J.MoveNext();},x.delay(function(){return[J.Current()];}));})):[];}));});});};v.Skip=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=0;return x.append(x.enumWhile(function(){return K<I&&J.MoveNext();},x.delay(function(){K=K+1;return[];})),x.delay(function(){return x.enumWhile(function(){return J.MoveNext();},x.delay(function(){return[J.Current()];}));}));});});};v.Single=function(H,I){var J;function K(L,M){return I(M)?L!=null?D.InvalidOp("Sequence contains more than one matching element"):{$:1,$0:M}:L;}J=(((B.Curried3(x.fold))(K))(null))(H);return J!=null&&J.$==1?J.$0:D.InvalidOp("Sequence contains no elements");};v.SequenceEqual=function(H,I,J){var K,L,M;K=C.Get(H);try{M=C.Get(H);try{L=function(){while(true)if(K.MoveNext()){if(!(M.MoveNext()&&J.CEquals(K.Current(),M.Current())))return false;}else return!M.MoveNext();}();}finally{if("Dispose"in M)M.Dispose();}return L;}finally{if("Dispose"in K)K.Dispose();}};v.SelectMany=function(H,I,J){function K(L,M){return x.map(function(N){return J(L,N);},M);}return x.collect(function(L){return K(L[0],L[1]);},x.mapi(function(L,M){return[M,I(M,L)];},H));};v.SelectMany$1=function(H,I,J){function K(L,M){return x.map(function(N){return J(L,N);},M);}return x.collect(function(L){return K(L[0],L[1]);},x.map(function(L){return[L,I(L)];},H));};v.SelectMany$2=function(H,I){return x.concat(x.mapi(function(J,K){return I(K,J);},H));};v.Select=function(H,I){return x.mapi(function(J,K){return I(K,J);},H);};v.Reverse=function(H){return w.ofSeq(H).slice().reverse();};v.Repeat=function(H,I){return x.init(I,function(){return H;});};v.Range=function(H,I){return x.init(I,function(J){return H+J;});};v.OrderByDescending=function(H,I,J){return new u.New(H,new t.New(J,I));};v.OrderBy=function(H,I,J){return new u.New(H,new r.New(J,I));};v.Min=function(H){var I;I=x.choose(function(J){return J!=null?{$:1,$0:G.get(J)}:null;},H);return x.isEmpty(I)?null:x.min(I);};v.Max=function(H){var I;I=x.choose(function(J){return J!=null?{$:1,$0:G.get(J)}:null;},H);return x.isEmpty(I)?null:x.max(I);};v.Last=function(H,I){var J;J=v.LastPred(H,I);return J==null?D.InvalidOp("Sequence contains no matching element"):J.$0;};v.LastPred=function(H,I){function J(K,L){return I(L)?{$:1,$0:L}:K;}return(((B.Curried3(x.fold))(J))(null))(H);};v.Join=function(H,I,J,K,L,M){return x.delay(function(){var N,O,P;N=new F.New$3(M);O=w.ofSeq(x.delay(function(){return x.collect(function(Q){var R,S,T;R=J(Q);return(S=null,[N.TryGetValue(R,{get:function(){return S;},set:function(U){S=U;}}),S])[0]?[]:(T=[Q,[]],(N.Add(R,T),[T]));},H);}));P=C.Get(I);try{while(P.MoveNext())(function(){var Q,R,S;Q=P.Current();R=(S=null,[N.TryGetValue(K(Q),{get:function(){return S;},set:function(T){S=T;}}),S]);return R[0]?void R[1][1].push(Q):null;}());}finally{if("Dispose"in P)P.Dispose();}return w.ofSeq(x.delay(function(){return x.collect(function(Q){var R;R=Q[0];return x.map(function(S){return L(R,S);},Q[1]);},O);}));});};v.Intersect=function(H,I,J){var K;K=new E.New(H,J);return x.delay(function(){var L;L=new E.New$1(J);return x.collect(function(M){return K.Contains(M)&&L.Add(M)?[M]:[];},I);});};v.GroupJoin=function(H,I,J,K,L,M){return x.delay(function(){var N,O,P;N=new F.New$3(M);O=w.ofSeq(x.delay(function(){return x.collect(function(Q){var R,S,T;R=J(Q);return(S=null,[N.TryGetValue(R,{get:function(){return S;},set:function(U){S=U;}}),S])[0]?[]:(T=[Q,[]],(N.Add(R,T),[T]));},H);}));P=C.Get(I);try{while(P.MoveNext())(function(){var Q,R,S;Q=P.Current();R=(S=null,[N.TryGetValue(K(Q),{get:function(){return S;},set:function(T){S=T;}}),S]);return R[0]?void R[1][1].push(Q):null;}());}finally{if("Dispose"in P)P.Dispose();}w.iteri(function(Q,R){return w.set(O,Q,L(R[0],R[1]));},O);return O;});};v.GroupBy=function(H,I,J,K,L){return x.map(function(M){return K(M.System_Linq_IGrouping_2$get_Key(),M);},v.GroupBy$1(H,I,J,L));};v.GroupBy$1=function(H,I,J,K){return x.delay(function(){return w.ofSeq(x.delay(function(){var L;L=new F.New$3(K);return x.collect(function(M){var N,O,P,Q,R;N=I(M);O=J(M);P=(Q=null,[L.TryGetValue(N,{get:function(){return Q;},set:function(S){Q=S;}}),Q]);return P[0]?(P[1].push(O),[]):(R=[],(R.push(O),L.set_Item(N,R),[new p.New(N,R)]));},H);}));});};v.Except=function(H,I,J){var K,L;K=new E.New(H,J);L=C.Get(I);try{while(L.MoveNext())K.Remove(L.Current());}finally{if("Dispose"in L)L.Dispose();}return K;};v.Distinct=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=new E.New$1(I);return x.enumWhile(function(){return J.MoveNext();},x.delay(function(){return K.Add(J.Current())?[J.Current()]:[];}));});});};v.DefaultIfEmpty=function(H,I){return x.isEmpty(H)?[I]:H;};v.Average=function(H){var I,J,K,L;I=[];J=C.Get(H);try{while(J.MoveNext()){if(K=J.Current(),K!=null){I.push((L=J.Current(),G.get(L)));}}return w.length(I)===0?null:x.sum(I)/w.length(I);}finally{if("Dispose"in J)J.Dispose();}};}());

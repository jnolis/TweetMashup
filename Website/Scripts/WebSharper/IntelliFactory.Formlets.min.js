(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;$.Define($$,{IntelliFactory:{Formlets:{Base:{D:$.Class({Dispose:function(){return null;}},{New:function(){return $.New(this,{});}}),Form:$.Class({Dispose:function(){return this.Dispose1.call(null,null);}}),Formlet:$.Class({Build:function(){return this.Build1.call(null,null);},MapResult:function(q){var t=this;return $.New(d,{Layout:this.Layout,Build1:function(){var s,u,v,w,y;s=t.Build1.call(null,null);u=t.Utils.Reactive;v=s.State;w=function(x){return q(x);};u.Select(v,w);y=s.State;return $.New(e,{Body:s.Body,Dispose1:s.Dispose1,Notify:s.Notify,State:y});},Utils:t.Utils});},get_Layout:function(){return this.Layout;}}),FormletBuilder:$.Class({Bind:function(z,A){var B;B=this.F;return B.Bind(z,A);},Delay:function(C){return this.F.Delay(C);},Return:function(D){return this.F.Return(D);},ReturnFrom:function(E){return E;}},{New:function(F){var G;G=$.New(this,{});G.F=F;return G;}}),FormletProvider:$.Class({AppendLayout:function(H,I){var J;J=this.ApplyLayout(I);return this.WithLayout(H,J);},Apply:function(K,L){var M,P=this;M=function(){var O,Q,R,S,T,V,W,X,Y,_0,_1,_2,_3,_4,_5,_6,_9;O=P.BuildForm(K);Q=P.BuildForm(L);R=P.U.Reactive;S=O.Body;T=function(U){return $.New(g,{$:1,$0:U});};V=R.Select(S,T);W=P.U.Reactive;X=Q.Body;Y=function(Z){return $.New(g,{$:2,$0:Z});};_0=W.Select(X,Y);_1=P.U.Reactive;_2=_1.Merge(V,_0);_3=P.U.Reactive;_4=Q.State;_5=O.State;_6=function(_7){return function(_8){return h.Apply(_8,_7);};};_9=_3.CombineLatest(_4,_5,_6);return $.New(e,{Body:_2,Dispose1:function(){Q.Dispose1.call(null,null);return O.Dispose1.call(null,null);},Notify:function(ba){Q.Notify.call(null,ba);return O.Notify.call(null,ba);},State:_9});};return P.New(M);},ApplyLayout:function(ba){var bb,bi=this;bb=function(){var bd,be,bf,bg,bh;bd=ba.Build();be=ba.get_Layout().Apply.call(null,bd.Body);if(be.$==0){bg=bd.Body;}else{be.$0[1];bh=be.$0[0];bg=bi.U.Reactive.Return(f.Set(bh));}bf=bg;return $.New(e,{Body:bf,Dispose1:bd.Dispose1,Notify:bd.Notify,State:bd.State});};return bi.New(bb);},Bind:function(bj,bk){var bl;bl=this.Map(bk,bj);return this.Join(bl);},BindWith:function(bm,bn,bo){var bp,bs=this;bp=function(){var br,bt,bu,bv,bw,by,bz,bA,bB,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM;br=bs.Bind(bn,bo);bt=br.Build();bu=bs.U.Reactive;bv=bt.Body;bw=function(bx){return bx.$==1?true:false;};by=bs.U.DefaultLayout.Apply.call(null,bu.Where(bv,bw));bz=bs.U.Reactive;bA=bt.Body;bB=function(bC){return bC.$==2?true:false;};bD=bs.U.DefaultLayout.Apply.call(null,bz.Where(bA,bB));bE=[by,bD];if(bE[0].$==1){if(bE[1].$==1){bI=bE[0].$0[0];bJ=bE[1].$0[0];bK=bs.U.Reactive;bL=(bm(bI))(bJ);bM=f.Set(bL);bH=bK.Return(bM);}else{bH=bs.U.Reactive.Never();}bG=bH;}else{bG=bs.U.Reactive.Never();}bF=bG;return $.New(e,{Body:bF,Dispose1:bt.Dispose1,Notify:bt.Notify,State:bt.State});};return bs.New(bp);},BuildForm:function(bN){var bO,bP,bQ,bR,bS;bO=bN.Build();bP=bN.get_Layout().Apply.call(null,bO.Body);if(bP.$==1){bR=bP.$0[1];bS=bP.$0[0];bQ=$.New(e,{Body:this.U.Reactive.Return(f.Set(bS)),Dispose1:function(){bO.Dispose1.call(null,null);return bR.Dispose();},Notify:bO.Notify,State:bO.State});}else{bQ=bO;}return bQ;},Delay:function(bU){var bV,bX=this;bV=function(){return bX.BuildForm(bU(null));};return $.New(d,{Layout:bX.L.Delay(function(){return bU(null).get_Layout();}),Build1:bV,Utils:bX.U});},Deletable:function(bZ){var b0,b4=this;b0=function(b1){var b2,b3;if(b1.$==1){b3=b1.$0;b2=b4.Return({$:1,$0:b3});}else{b2=b4.ReturnEmpty({$:0});}return b2;};return b4.Replace(bZ,b0);},Empty:function(){var b5,b7=this;b5=function(){return $.New(e,{Body:b7.U.Reactive.Return(f.Delete()),Dispose1:function(){},Notify:function(){},State:b7.U.Reactive.Never()});};return b7.New(b5);},EmptyForm:function(){return $.New(e,{Body:this.U.Reactive.Never(),Dispose1:function(){},Notify:function(){},State:this.U.Reactive.Never()});},Fail:function(ca){return $.New(e,{Body:this.U.Reactive.Never(),Dispose1:function(cb){return cb;},Notify:function(){},State:this.U.Reactive.Return($.New(h,{$:1,$0:ca}))});},FailWith:function(cd){var ce,cg=this;ce=function(){return cg.Fail(cd);};return cg.New(ce);},FlipBody:function(ch){var ci,cm=this,cr,cs;ci=function(){var ck,cl,cn,co,cq;ck=ch.Build();cl=cm.U.Reactive;cn=ck.Body;co=function(cp){return f.FlipEdit(cp);};cq=cl.Select(cn,co);return $.New(e,{Body:cq,Dispose1:ck.Dispose1,Notify:ck.Notify,State:ck.State});};cr=cm.New(ci);cs=ch.get_Layout();return cm.WithLayout(cs,cr);},FromState:function(ct){var cu,cw=this;cu=function(){return $.New(e,{Body:cw.U.Reactive.Never(),Dispose1:function(){},Notify:function(){},State:ct});};return cw.New(cu);},InitWith:function(cz,cA){var cB,cF=this,cJ,cK;cB=function(){var cD,cE,cG,cH,cI;cD=cA.Build();cE=cF.U.Reactive;cG=cF.U.Reactive.Return($.New(h,{$:0,$0:cz}));cH=cD.State;cI=cE.Concat(cG,cH);return $.New(e,{Body:cD.Body,Dispose1:cD.Dispose1,Notify:cD.Notify,State:cI});};cJ=cF.New(cB);cK=cA.get_Layout();return cF.WithLayout(cK,cJ);},InitWithFailure:function(cL){var cM,cQ=this,cU,cV;cM=function(){var cO,cP,cR,cS,cT;cO=cL.Build();cP=cQ.U.Reactive;cR=cQ.U.Reactive.Return($.New(h,{$:1,$0:$.New(j,{$:0})}));cS=cO.State;cT=cP.Concat(cR,cS);return $.New(e,{Body:cO.Body,Dispose1:cO.Dispose1,Notify:cO.Notify,State:cT});};cU=cQ.New(cM);cV=cL.get_Layout();return cQ.WithLayout(cV,cU);},Join:function(cW){var cX,c0=this;cX=function(){var cZ,c1,c2,c3,c8,c9,c_,c$,da,df,dg,dh,di,dk,dl,dm,dn,_do,dq,dr,ds,dt,du,dw,dy;cZ=c0.BuildForm(cW);c1=c0.U.Reactive;c2=cZ.State;c3=function(c4){var c5,c6,c7;if(c4.$==1){c6=c4.$0;c5=c0.Fail(c6);}else{c7=c4.$0;c5=c0.BuildForm(c7);}return c5;};c8=c0.U.Reactive;c9=c1.Select(c2,c3);c_=c8.Heat(c9);c$=c0.U.Reactive;da=function(db){var dc,dd,de;dc=c0.U.Reactive.Return(f.Delete());dd=c0.U.Reactive;de=db.Body;return dd.Concat(dc,de);};df=c$.Select(c_,da);dg=c0.U.Reactive;dh=c0.U.Reactive.Switch(df);di=function(dj){return $.New(g,{$:2,$0:dj});};dk=dg.Select(dh,di);dl=c0.U.Reactive;dm=c0.U.Reactive;dn=cZ.Body;_do=function(dp){return $.New(g,{$:1,$0:dp});};dq=dm.Select(dn,_do);dr=dl.Merge(dq,dk);dt=c0.U.Reactive;du=function(dv){return dv.State;};ds=c0.U.Reactive.Switch(dt.Select(c_,du));dw=function(dx){return cZ.Notify.call(null,dx);};dy=function(){return cZ.Dispose1.call(null,null);};return $.New(e,{Body:dr,Dispose1:dy,Notify:dw,State:ds});};return c0.New(cX);},LiftResult:function(dA){var dB;dB=function(dC){return $.New(h,{$:0,$0:dC});};return this.MapResult(dB,dA);},Map:function(dD,dE){var dF;dF=function(dG){return h.Map(dD,dG);};return this.MapResult(dF,dE);},MapBody:function(dH,dI){var dJ,dO=this;dJ={Apply:function(dK){var dL,dM,dN,dP,dQ,dR,dS,dT;dL=dI.get_Layout().Apply.call(null,dK);if(dL.$==0){dN=dO.U.DefaultLayout.Apply.call(null,dK);if(dN.$==0){dP={$:0};}else{dQ=dN.$0[1];dR=dN.$0[0];dP={$:1,$0:[dH(dR),dQ]};}dM=dP;}else{dS=dL.$0[1];dT=dL.$0[0];dM={$:1,$0:[dH(dT),dS]};}return dM;}};return dO.WithLayout(dJ,dI);},MapResult:function(dU,dV){var dW,d0=this;dW=function(){var dY,dZ,d1,d2,d4;dY=dV.Build();dZ=d0.U.Reactive;d1=dY.State;d2=function(d3){return dU(d3);};d4=dZ.Select(d1,d2);return $.New(e,{Body:dY.Body,Dispose1:dY.Dispose1,Notify:dY.Notify,State:d4});};return $.New(d,{Layout:dV.get_Layout(),Build1:dW,Utils:d0.U});},Never:function(){var d5,d7=this;d5=function(){return $.New(e,{Body:d7.U.Reactive.Never(),Dispose1:function(){},Notify:function(){},State:d7.U.Reactive.Never()});};return d7.New(d5);},New:function(d_){return $.New(d,{Layout:this.L.Default(),Build1:d_,Utils:this.U});},Replace:function(d$,ea){var eb,ed;eb=function(ec){return ea(ec);};ed=this.Map(eb,d$);return this.Switch(ed);},ReplaceFirstWithFailure:function(ee){var ef,ej=this,ep,eq;ef=function(){var eh,ei,ek,el,em,en,eo;eh=ee.Build();ei=ej.U.Reactive;ek=eh.State;el=ei.Drop(ek,1);em=ej.U.Reactive;en=ej.U.Reactive.Return($.New(h,{$:1,$0:$.New(j,{$:0})}));eo=em.Concat(en,el);return $.New(e,{Body:eh.Body,Dispose1:eh.Dispose1,Notify:eh.Notify,State:eo});};ep=ej.New(ef);eq=ee.get_Layout();return ej.WithLayout(eq,ep);},Return:function(er){var es,eu=this;es=function(){return $.New(e,{Body:eu.U.Reactive.Never(),Dispose1:function(ev){return ev;},Notify:function(){},State:eu.U.Reactive.Return($.New(h,{$:0,$0:er}))});};return eu.New(es);},ReturnEmpty:function(ex){var ey,eA=this;ey=function(){return $.New(e,{Body:eA.U.Reactive.Return(f.Delete()),Dispose1:function(eB){return eB;},Notify:function(){},State:eA.U.Reactive.Return($.New(h,{$:0,$0:ex}))});};return eA.New(ey);},SelectMany:function(eD){var eE,eH=this;eE=function(){var eG,eI,eJ,eK,eP,eQ,eR,eS,eT,eU,eW,eX,eZ,e4,e5,e_,e$,fa,fb,fc,fd,ff,fg,fh,fi,fk,fl,fn;eG=eH.BuildForm(eD);eI=eH.U.Reactive;eJ=eG.State;eK=function(eL){var eM,eN,eO;if(eL.$==1){eL.$0;eM={$:0};}else{eN=eL.$0;eO=eH.BuildForm(eN);eM={$:1,$0:eO};}return eM;};eP=eH.U.Reactive;eQ=eI.Choose(eJ,eK);eR=eP.Heat(eQ);eS=eH.U.Reactive;eT=eG.Body;eU=function(eV){return $.New(g,{$:1,$0:eV});};eW=eS.Select(eT,eU);eX=[function(eY){return $.New(g,{$:1,$0:eY});}];eZ=function(){var e1;e1=eX[0];eX[0]=function(e2){var e3;e3=e1(e2);return $.New(g,{$:2,$0:e3});};return;};e4=eH.U.Reactive;e5=function(e6){var e7,e8,e9;eZ(null);e7=eX[0];e8=eH.U.Reactive;e9=e6.Body;return e8.Select(e9,e7);};e_=e4.Select(eR,e5);e$=eH.U.Reactive.SelectMany(e_);fa=eH.U.Reactive;fb=fa.Merge(eW,e$);fc=eH.U.Reactive;fd=function(fe){return fe.State;};ff=fc.Select(eR,fd);fg=eH.U.Reactive;fh=eH.U.Reactive.CollectLatest(ff);fi=function(fj){return h.Sequence(fj);};fk=fg.Select(fh,fi);fl=function(fm){return eG.Notify.call(null,fm);};fn=function(){return eG.Dispose1.call(null,null);};return $.New(e,{Body:fb,Dispose1:fn,Notify:fl,State:fk});};return eH.New(eE);},Sequence:function(fp){var fq,fr,fs,ft,fu,fx,fy;fq=i.ofSeq(fp);if(fq.$==1){fs=fq.$1;ft=fq.$0;fu=this.Return(function(fv){return function(fw){return $.New(j,{$:1,$0:fv,$1:fw});};});fx=this.Sequence(fs);fy=this.Apply(fu,ft);fr=this.Apply(fy,fx);}else{fr=this.Return($.New(j,{$:0}));}return fr;},Switch:function(fz){var fA,fD=this;fA=function(){var fC,fE,fF,fG,fH,fI,fN,fO,fP,fQ,fR,fS,fT,fU,fW,fX,fY,fZ,f1,f3;fC=fD.WithLayoutOrDefault(fz);fE=fD.ApplyLayout(fC);fF=fD.BuildForm(fE);fG=fD.U.Reactive;fH=fF.State;fI=function(fJ){var fK,fL,fM;if(fJ.$==1){fJ.$0;fK={$:0};}else{fL=fJ.$0;fM=fD.BuildForm(fL);fK={$:1,$0:fM};}return fK;};fN=fD.U.Reactive;fO=fG.Choose(fH,fI);fP=fN.Heat(fO);fQ=fD.U.Reactive;fR=fF.Body;fT=fD.U.Reactive;fU=function(fV){return fV.Body;};fS=fD.U.Reactive.Switch(fT.Select(fP,fU));fW=fQ.Concat(fR,fS);fY=fD.U.Reactive;fZ=function(f0){return f0.State;};fX=fD.U.Reactive.Switch(fY.Select(fP,fZ));f1=function(f2){return fF.Notify.call(null,f2);};f3=function(){return fF.Dispose1.call(null,null);};return $.New(e,{Body:fW,Dispose1:f3,Notify:f1,State:fX});};return fD.New(fA);},WithCancelation:function(f5,f6){var f7,gd,ge,gf,gg,gh,gj;f7=function(f8){return function(f9){var f_,f$,ga,gb,gc;f_=[f8,f9];if(f_[1].$==0){f$=$.New(h,{$:0,$0:{$:0}});}else{if(f_[0].$==1){gb=f_[0].$0;ga=$.New(h,{$:1,$0:gb});}else{gc=f_[0].$0;ga=$.New(h,{$:0,$0:{$:1,$0:gc}});}f$=ga;}return f$;};};gd=this.Return(f7);ge=this.LiftResult(f5);gf=this.LiftResult(f6);gg=this.Apply(gd,ge);gh=function(gi){return h.Join(gi);};gj=this.Apply(gg,gf);return this.MapResult(gh,gj);},WithLayout:function(gk,gl){return $.New(d,{Layout:gk,Build1:function(){return gl.Build();},Utils:this.U});},WithLayoutOrDefault:function(gn){var go;go=function(gp){return gp;};return this.MapBody(go,gn);},WithNotification:function(gq,gr){var gs,gv=this,gy,gz;gs=function(){var gu,gw;gu=gv.BuildForm(gr);gw=function(gx){gu.Notify.call(null,gx);return gq(gx);};return $.New(e,{Body:gu.Body,Dispose1:gu.Dispose1,Notify:gw,State:gu.State});};gy=gv.New(gs);gz=gr.get_Layout();return gv.WithLayout(gz,gy);},WithNotificationChannel:function(gA){var gB,gF=this,gO,gP;gB=function(){var gD,gE,gG,gH,gJ,gL,gM,gN;gD=gA.Build();gE=gF.U.Reactive;gG=gD.State;gH=function(gI){return[gI,gD.Notify];};gJ=function(gK){return h.Map(gH,gK);};gL=gE.Select(gG,gJ);gM=gD.Body;gN=gD.Notify;return $.New(e,{Body:gM,Dispose1:gD.Dispose1,Notify:gN,State:gL});};gO=gF.New(gB);gP=gA.get_Layout();return gF.WithLayout(gP,gO);}},{New:function(gQ){var gR;gR=$.New(this,{});gR.U=gQ;gR.L=k.New({Reactive:gR.U.Reactive});return gR;}}),LayoutUtils:$.Class({Default:function(){return{Apply:function(){return{$:0};}};},Delay:function(gT){return{Apply:function(gU){return gT(null).Apply.call(null,gU);}};},New:function(gV){return{Apply:function(gW){var gX,gY,gZ;gX=gV(null);gY=[$.New(l,{$:0})];gZ=m.subscribeTo(gW,function(g0){var g1,g2,g3,g4;g1=f.ReplacedTree(g0,gY[0]);gY[0]=f.Apply(g0,gY[0]);g2=f.Range(g0,gY[0]);g3=g2[0];gX.Remove.call(null,g1.get_Sequence());g4=function(g5){return function(g6){return(gX.Insert.call(null,g3+g5))(g6);};};return n.iteri(g4,g0);});return{$:1,$0:[gX.Body,gZ]};}};}},{New:function(){return $.New(this,{});}}),Result:$.Class({},{Apply:function(g8,g9){var g_,g$,ha,hb,hc,hd,he,hf,hg,hh;g_=[g8,g9];if(g_[0].$==1){if(g_[1].$==1){hb=g_[0].$0;hc=g_[1].$0;ha=$.New(h,{$:1,$0:i.append(hb,hc)});}else{hd=g_[0].$0;ha=$.New(h,{$:1,$0:hd});}g$=ha;}else{if(g_[1].$==1){g_[0].$0;hf=g_[1].$0;he=$.New(h,{$:1,$0:hf});}else{hg=g_[0].$0;hh=g_[1].$0;he=$.New(h,{$:0,$0:hg(hh)});}g$=he;}return g$;},Join:function(hi){var hj,hk,hl;if(hi.$==1){hk=hi.$0;hj=$.New(h,{$:1,$0:hk});}else{hl=hi.$0;hj=hl;}return hj;},Map:function(hm,hn){var ho,hp,hq;if(hn.$==1){hp=hn.$0;ho=$.New(h,{$:1,$0:hp});}else{hq=hn.$0;ho=$.New(h,{$:0,$0:hm(hq)});}return ho;},OfOption:function(hr){var hs,ht;if(hr.$==0){hs=$.New(h,{$:1,$0:$.New(j,{$:0})});}else{ht=hr.$0;hs=$.New(h,{$:0,$0:ht});}return hs;},Sequence:function(hu){var hv;hv=function(hw){return function(hx){var hy,hz,hA,hB,hC,hD,hE,hF;if(hw.$==1){hz=hw.$0;if(hx.$==1){hB=hx.$0;hA=$.New(h,{$:1,$0:i.append(hz,hB)});}else{hx.$0;hA=$.New(h,{$:1,$0:hz});}hy=hA;}else{hC=hw.$0;if(hx.$==1){hE=hx.$0;hD=$.New(h,{$:1,$0:hE});}else{hF=hx.$0;hD=$.New(h,{$:0,$0:i.append(hC,i.ofArray([hF]))});}hy=hD;}return hy;};};return n.fold(hv,$.New(h,{$:0,$0:$.New(j,{$:0})}),hu);}}),Tree:{Apply:function(hG,hH){var hI;hI=function(hJ,hK){var hL,hM,hN,hO,hP,hQ,hR,hS,hT,hU;if(hJ.$==1){hM=hJ.$0;if(hK.$==2){hO=hK.$1;hP=hK.$0;hN=$.New(l,{$:2,$0:hI(hM,hP),$1:hO});}else{hN=hI($.New(g,{$:1,$0:hM}),$.New(l,{$:2,$0:$.New(l,{$:0}),$1:hK}));}hL=hN;}else{if(hJ.$==2){hQ=hJ.$0;if(hK.$==2){hS=hK.$1;hT=hK.$0;hR=$.New(l,{$:2,$0:hT,$1:hI(hQ,hS)});}else{hR=hI($.New(g,{$:2,$0:hQ}),$.New(l,{$:2,$0:hK,$1:$.New(l,{$:0})}));}hL=hR;}else{hU=hJ.$0;hL=hU;}}return hL;};return hI(hG,hH);},Count:function(hV){var hW,hX,hY,hZ,h0,h1,h2,h3,h4,h5,h6,h7,h8;hW=[];hX=$.New(j,{$:0});hW[3]=hV;hW[2]=hX;hW[1]=0;hW[0]=1;while(hW[0]){if(hW[3].$==2){hZ=hW[3].$1;h0=hW[3].$0;h1=$.New(j,{$:1,$0:hZ,$1:hW[2]});h2=hW[1];hW[3]=h0;hW[2]=h1;hW[1]=h2;hY=void(hW[0]=1);}else{h3=hW[3];h4=h3.$==0?0:1;if(hW[2].$==1){h6=hW[2].$1;h7=hW[2].$0;h8=hW[1]+h4;hW[3]=h7;hW[2]=h6;hW[1]=h8;h5=void(hW[0]=1);}else{hW[0]=0;h5=void(hW[1]=hW[1]+h4);}hY=h5;}}return hW[1];},DeepFlipEdit:function(h9){var h_,h$,ia,ib;if(h9.$==1){h$=h9.$0;h_=$.New(g,{$:2,$0:f.DeepFlipEdit(h$)});}else{if(h9.$==2){ia=h9.$0;h_=$.New(g,{$:1,$0:f.DeepFlipEdit(ia)});}else{ib=h9.$0;h_=$.New(g,{$:0,$0:ib});}}return h_;},Delete:function(){return $.New(g,{$:0,$0:$.New(l,{$:0})});},Edit:$.Class({GetEnumerator:function(){return o.Get(this.get_Sequence());},GetEnumerator1:function(){return o.Get(this.get_Sequence());},get_Sequence:function(){var ic,id,ie,_if;if(this.$==1){id=this.$0;ic=id.get_Sequence();}else{if(this.$==2){ie=this.$0;ic=ie.get_Sequence();}else{_if=this.$0;ic=_if.get_Sequence();}}return ic;}}),FlipEdit:function(ig){var ih,ii,ij,ik;if(ig.$==1){ii=ig.$0;ih=$.New(g,{$:2,$0:ii});}else{if(ig.$==2){ij=ig.$0;ih=$.New(g,{$:1,$0:ij});}else{ik=ig.$0;ih=$.New(g,{$:0,$0:ik});}}return ih;},FromSequence:function(il){var im,ip;im=function(_in){return function(io){return $.New(l,{$:2,$0:_in,$1:$.New(l,{$:1,$0:io})});};};ip=$.New(l,{$:0});return n.fold(im,ip,il);},Range:function(iq,ir){var is,it,iu,iv,iw,ix,iy,iz,iA,iB,iC,iD,iE,iF;is=[];is[3]=0;is[2]=ir;is[1]=iq;is[0]=1;while(is[0]){if(is[1].$==1){iu=is[1].$0;if(is[2].$==2){is[2].$1;iw=is[2].$0;is[3]=is[3];is[2]=iw;is[1]=iu;iv=void(is[0]=1);}else{ix=is[3];iy=$.New(l,{$:0});is[3]=ix;is[2]=iy;is[1]=iu;iv=void(is[0]=1);}it=iv;}else{if(is[1].$==2){iz=is[1].$0;if(is[2].$==2){iB=is[2].$1;iC=is[2].$0;is[3]=is[3]+f.Count(iC);is[2]=iB;is[1]=iz;iA=void(is[0]=1);}else{iD=is[2];iE=is[3]+f.Count(iD);iF=$.New(l,{$:0});is[3]=iE;is[2]=iF;is[1]=iz;iA=void(is[0]=1);}it=iA;}else{is[1].$0;is[0]=0;it=void(is[1]=[is[3],f.Count(is[2])]);}}}return is[1];},ReplacedTree:function(iG,iH){var iI,iJ,iK,iL,iM,iN,iO;if(iG.$==1){iJ=iG.$0;if(iH.$==2){iH.$1;iL=iH.$0;iK=f.ReplacedTree(iJ,iL);}else{iK=f.ReplacedTree($.New(g,{$:1,$0:iJ}),$.New(l,{$:2,$0:$.New(l,{$:0}),$1:iH}));}iI=iK;}else{if(iG.$==2){iM=iG.$0;if(iH.$==2){iO=iH.$1;iH.$0;iN=f.ReplacedTree(iM,iO);}else{iN=f.ReplacedTree($.New(g,{$:2,$0:iM}),$.New(l,{$:2,$0:iH,$1:$.New(l,{$:0})}));}iI=iN;}else{iG.$0;iI=iH;}}return iI;},Set:function(iP){return $.New(g,{$:0,$0:$.New(l,{$:1,$0:iP})});},ShowEdit:function(iQ){var iR;iR=function(iS){var iT,iU,iV;if(iS.$==1){iU=iS.$0;iT="Left > "+iR(iU);}else{if(iS.$==2){iV=iS.$0;iT="Right > "+iR(iV);}else{iT="Replace";}}return iT;};return iR(iQ);},Transform:function(iW,iX){var iY,iZ,i0,i1,i2,i3;if(iX.$==1){iZ=iX.$0;i0=f.Transform(iW,iZ);iY=$.New(g,{$:1,$0:i0});}else{if(iX.$==2){i1=iX.$0;i2=f.Transform(iW,i1);iY=$.New(g,{$:2,$0:i2});}else{i3=iX.$0;iY=$.New(g,{$:0,$0:iW(i3)});}}return iY;},Tree:$.Class({GetEnumerator:function(){return o.Get(this.get_Sequence());},GetEnumerator1:function(){return o.Get(this.get_Sequence());},Map:function(i4){var i5,i6,i7,i8;if(this.$==1){i6=this.$0;i5=$.New(l,{$:1,$0:i4(i6)});}else{if(this.$==2){i7=this.$1;i8=this.$0;i5=$.New(l,{$:2,$0:i8.Map(i4),$1:i7.Map(i4)});}else{i5=$.New(l,{$:0});}}return i5;},get_Sequence:function(){var i9,i_,i$,ja;if(this.$==1){i_=this.$0;i9=[i_];}else{if(this.$==2){i$=this.$1;ja=this.$0;i9=n.append(ja.get_Sequence(),i$.get_Sequence());}else{i9=n.empty();}}return i9;}})},Validator:$.Class({Is:function(jb,jc,jd){return this.Validate(jb,jc,jd);},IsEmail:function(je){var jg=this;return function(jf){return jg.IsRegexMatch("^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",je,jf);};},IsEqual:function(jh,ji,jj){var jk;jk=function(jl){return p.Equals(jl,jh);};return this.Validate(jk,ji,jj);},IsFloat:function(jm){var jo=this;return function(jn){return jo.IsRegexMatch("^\\s*(\\+|-)?((\\d+(\\.\\d+)?)|(\\.\\d+))\\s*$",jm,jn);};},IsGreaterThan:function(jp,jq,jr){var js;js=function(jt){return p.Compare(jt,jp)===1;};return this.Validate(js,jq,jr);},IsInt:function(ju){var jw=this;return function(jv){return jw.IsRegexMatch("^-?\\d+$",ju,jv);};},IsLessThan:function(jx,jy,jz){var jA;jA=function(jB){return p.Compare(jB,jx)===-1;};return this.Validate(jA,jy,jz);},IsNotEmpty:function(jC,jD){var jE;jE=function(jF){return jF!=="";};return this.Validate(jE,jC,jD);},IsNotEqual:function(jG,jH,jI){return this.Validate(function(jJ){return!p.Equals(jJ,jG);},jH,jI);},IsRegexMatch:function(jK,jL,jM){var jN,jQ=this;jN=function(jO){var jP;jP=jQ.VP;return jP.Matches(jK,jO);};return jQ.Validate(jN,jL,jM);},IsTrue:function(jR,jS){var jT;jT=function(jU){return jU;};return this.Validate(jT,jR,jS);},Validate:function(jV,jW,jX){var jY;jY=jX.MapResult(function(jZ){var j0,j1,j2;if(jZ.$==1){j1=jZ.$0;j0=$.New(h,{$:1,$0:j1});}else{j2=jZ.$0;j0=jV(j2)?$.New(h,{$:0,$0:j2}):$.New(h,{$:1,$0:i.ofArray([jW])});}return j0;});return jY;}},{New:function(j3){var j4;j4=$.New(this,{});j4.VP=j3;return j4;}})}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory);b=$.Safe(a.Formlets);c=$.Safe(b.Base);d=$.Safe(c.Formlet);e=$.Safe(c.Form);f=$.Safe(c.Tree);g=$.Safe(f.Edit);h=$.Safe(c.Result);i=$.Safe($$.WebSharper.List);j=$.Safe(i.T);k=$.Safe(c.LayoutUtils);l=$.Safe(f.Tree);m=$.Safe($$.WebSharper.Util);n=$.Safe($$.WebSharper.Seq);o=$.Safe($$.WebSharper.Enumerator);return p=$.Safe($$.WebSharper.Unchecked);});$.OnLoad(function(){return;});}());

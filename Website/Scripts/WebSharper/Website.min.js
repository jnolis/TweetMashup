(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;a=window;b=a.Website=a.Website||{};c=b.Client=b.Client||{};d=a.StartupCode$Website$Client=a.StartupCode$Website$Client||{};e=a.Website_Templates=a.Website_Templates||{};f=a.WebSharper;g=f&&f.Concurrency;h=f&&f.Remoting;i=h&&h.AjaxRemotingProvider;j=f&&f.UI;k=j&&j.Next;l=k&&k.Var;m=f&&f.Arrays;n=f&&f.List;o=k&&k.Doc;p=k&&k.AttrProxy;q=k&&k.View;r=k&&k.AttrModule;s=a.jQuery;c.preset=function(t,u,v){var w,x,y,z,A;function B(C,D){var E,F;function G(){var H,I;g.Start((H=null,g.Delay(function(){return g.Bind((new i.New()).Async("Website:Website.Server.logMashup:-681248531",[t,u,C.Username,D.Username]),function(){return g.Return(null);});})),null);g.Start((I=null,g.Delay(function(){return z>=w.length||C.Username!==x.Username||D.Username!==y.Username?g.Bind((new i.New()).Async("Website:Website.Server.makeMashup:-436435442",[null,C.Username,D.Username]),function(J){var K;return J.$==1?(w=[],x=c.emptyUser(),y=c.emptyUser(),l.Set(A,{$:1,$0:J.$0}),g.Zero()):(K=J.$0,(w=K.Combined,x=K.User1,y=K.User2,z=0,z=z+1,l.Set(A,{$:0,$0:{Combined:m.get(w,z),User1:C,User2:D}}),g.Zero()));}):(z=z+1,l.Set(A,{$:0,$0:{Combined:m.get(w,z),User1:x,User2:y}}),g.Zero());})),null);}return t?e.presetuimobile(new n.T({$:1,$0:{$:0,$0:"gobutton",$1:o.Concat(n.ofArray([o.ButtonView(C.FullName+" & "+D.FullName,[p.Create("class","btn go-button col-xs-12"),p.Create("value","Go!")],q.Const(),G)]))},$1:n.T.Empty})):e.presetuiweb((E=(F=new n.T({$:1,$0:{$:0,$0:"images",$1:o.Concat(n.ofArray([o.Element("img",[p.Create("src",C.Image),p.Create("class","img-circle img-left-small"),p.Create("width","96"),p.Create("height","96")],[]),o.Element("img",[p.Create("src",D.Image),p.Create("class","img-circle img-right-small"),p.Create("width","96"),p.Create("height","96")],[])]))},$1:n.T.Empty}),new n.T({$:1,$0:{$:0,$0:"gobutton",$1:o.Concat(n.ofArray([o.ButtonView("Go!",[p.Create("class","btn go-button btn-lg"),p.Create("value","Go!")],q.Const(),G)]))},$1:F})),new n.T({$:1,$0:{$:0,$0:"usernames",$1:o.Concat(n.ofArray([o.TextNode(C.FullName+" & "+D.FullName)]))},$1:E})));}w=[];x=c.emptyUser();y=c.emptyUser();z=0;A=l.Create$1({$:2});return o.Element("div",[p.Create("class",t?"container tweet-mobile-ui":"container")],[o.Element("div",t?n.T.Empty:n.ofArray([p.Create("class","row")]),m.map(function(C){return B(C[0],C[1]);},v)),o.BindView(function(C){return c.buildOutputUI(t,C);},A.v)]);};c.tryIt=function(t,u,v){var w,x,y,z,A,B,C,D,E;function F(){var G,H;g.Start((G=null,g.Delay(function(){return g.Bind((new i.New()).Async("Website:Website.Server.logMashup:-681248531",[t,u,C.c,D.c]),function(){return g.Return(null);});})),null);g.Start((H=null,g.Delay(function(){return A>=x.length||C.c!==y.Username||D.c!==z.Username?g.Bind((new i.New()).Async("Website:Website.Server.makeMashup:-436435442",[{$:1,$0:w},C.c,D.c]),function(I){var J;return I.$==1?(x=[],y=c.emptyUser(),z=c.emptyUser(),l.Set(B,{$:1,$0:I.$0}),g.Zero()):(J=I.$0,x=J.Combined,y=J.User1,z=J.User2,A=0,A=A+1,l.Set(B,{$:0,$0:{Combined:m.get(x,A),User1:J.User1,User2:J.User2}}),g.Zero());}):(A=A+1,l.Set(B,{$:0,$0:{Combined:m.get(x,A),User1:y,User2:z}}),g.Zero());})),null);}switch(u!=null&&u.$==1?v!=null&&v.$==1?(w=v.$0,1):(w=u.$0,2):v!=null&&v.$==1?(w=v.$0,1):0){case 0:return o.Element("div",[],[o.Element("h5",[],[o.TextNode("Error with credentials, try refreshing browser")])]);break;case 1:return c.tryItDummyUI(t,w);break;case 2:x=[];y=c.emptyUser();z=c.emptyUser();A=0;B=l.Create$1({$:2});C=l.Create$1("");D=l.Create$1("");c.userSelectionUI(t,1,C);c.userSelectionUI(t,1,D);E=!t?o.Element("div",[p.Create("class","form form-inline")],[c.userSelectionUI(false,1,C),o.Element("div",[r.Class("form-group")],[o.Element("h1",[],[o.TextNode("&")])]),c.userSelectionUI(false,2,D),o.Element("div",[p.Create("class","form-group")],[o.Element("div",[p.Create("class","input-group col-md-10")],[o.ButtonView("Go!",[p.Create("class","btn go-button btn-lg"),p.Create("value","Go!")],q.Const(),F)])])]):o.Element("div",[p.Create("class","form form-horizontal form-mobile")],[c.userSelectionUI(true,1,C),c.userSelectionUI(true,2,D),o.Element("div",[p.Create("class","form-group form-group-mobile")],[o.Element("div",[p.Create("class","input-group col-xs-12")],[o.ButtonView("Go!",[p.Create("class","btn go-button col-xs-12"),p.Create("value","Go!")],q.Const(),F)])])]);return o.Element("div",[p.Create("class",t?"container tweet-mobile-ui preset-container":"container preset-container")],[E,o.BindView(function(G){return c.buildOutputUI(t,G);},B.v)]);break;}};c.userSelectionUI=function(t,u,v){return o.Element("div",[p.Create("class","form-group form-group-mobile")],[o.Element("label",[p.Create("class","sr-only"),p.Create("for","username"+a.String(u))],[o.TextNode("Username "+a.String(u))]),o.Element("div",[p.Create("class",!t?"input-group input-group-lg col-md-10":"input-group col-xs-12")],[o.Element("span",[p.Create("class","input-group-addon"),p.Create("id","username"+a.String(u))],[o.TextNode("@")]),o.Input([p.Create("value",""),p.Create("type","text"),p.Create("class","form-control"),p.Create("placeholder","username"),p.Create("aria-describedby","username"+a.String(u))],v)])]);};c.tryItDummyUI=function(t,u){function v(w,x){return o.Element("div",[p.Create("class",!w?"form-group":"form-group form-group-mobile")],[o.Element("label",[p.Create("class","sr-only"),p.Create("for","username"+a.String(x))],[o.TextNode("Username "+a.String(x))]),o.Element("div",[p.Create("class",!w?"input-group input-group-lg col-md-10":"input-group col-xs-12")],[o.Element("span",[p.Create("class","input-group-addon"),p.Create("id","username"+a.String(x))],[o.TextNode("@")]),o.Element("input",[p.Create("value",""),p.Create("type","text"),p.Create("class","form-control"),p.Create("disabled",""),p.Create("placeholder","username"),p.Create("aria-describedby","username"+a.String(x))],[])])]);}return o.Element("div",[p.Create("class","form form-inline")],[v(t,1),o.Element("div",[p.Create("class","form-group")],[o.Element("h1",[],[o.TextNode("&")])]),v(t,2),o.Element("div",[p.Create("class","form-group")],[o.Element("a",[p.Create("class","btn btn-lg twitter-button"),p.Create("href",u)],[o.Element("i",[p.Create("class","fa fa-twitter wow bounceIn")],[]),o.Element("span",[p.Create("class","label")],[o.TextNode("Authorize to  make your own!")])])])]);};c.buildOutputUI=function(t,u){var v;switch(t?u.$==1?3:u.$==2?4:2:u.$==1?1:u.$==2?4:0){case 0:return c.buildOutputUIWeb(u.$0);break;case 1:return c.buildOutputUIFailureWeb(u.$0);break;case 2:return c.buildOutputUIMobile(u.$0);break;case 3:return c.buildOutputUIFailureMobile(u.$0);break;case 4:return o.Element("div",[],[]);break;}};c.buildOutputUIFailureMobile=function(t){return e.outputuifailuremobile(new n.T({$:1,$0:{$:0,$0:"text",$1:o.Concat(n.ofArray([o.TextNode(t)]))},$1:n.T.Empty}));};c.buildOutputUIFailureWeb=function(t){return e.outputuifailureweb(new n.T({$:1,$0:{$:0,$0:"text",$1:o.Concat(n.ofArray([o.TextNode(t)]))},$1:n.T.Empty}));};c.buildOutputUIMobile=function(t){var u,v,w;return e.outputuimobile((u=(v=(w=new n.T({$:1,$0:{$:0,$0:"images",$1:o.Concat(n.ofArray([o.Element("img",[p.Create("class","img-circle img-left-small"),p.Create("width","96"),p.Create("height","96"),p.Create("src",t.User1.Image)],[]),o.Element("img",[p.Create("class","img-circle img-right-small"),p.Create("width","96"),p.Create("height","96"),p.Create("src",t.User2.Image)],[])]))},$1:n.T.Empty}),new n.T({$:1,$0:{$:0,$0:"usernames",$1:o.Concat(n.ofArray([o.TextNode(t.User1.FullName+" & "+t.User2.FullName)]))},$1:w})),new n.T({$:1,$0:{$:0,$0:"text",$1:o.Concat(n.ofArray([o.TextNode(t.Combined.Tweet)]))},$1:v})),new n.T({$:1,$0:{$:0,$0:"link",$1:o.Concat(n.ofArray([o.Element("a",[p.Create("class","btn btn-lg twitter-button"),p.Create("href","https://twitter.com/intent/tweet?text="+t.Combined.TweetWithContext),p.Create("target","_blank")],[o.Element("i",[p.Create("class","fa fa-twitter wow bounceIn")],[]),o.Element("span",[p.Create("class","label")],[o.TextNode("Tweet this!")])])]))},$1:u})));};c.buildOutputUIWeb=function(t){var u,v,w,x,y,z;return e.outputuiweb((u=(v=(w=(x=(y=(z=new n.T({$:1,$0:{$:0,$0:"user1fullname",$1:o.Concat(n.ofArray([o.TextNode(t.User1.FullName)]))},$1:n.T.Empty}),new n.T({$:1,$0:{$:0,$0:"user1username",$1:o.Concat(n.ofArray([o.TextNode("@"+t.User1.Username)]))},$1:z})),new n.T({$:1,$0:{$:0,$0:"images",$1:o.Concat(n.ofArray([o.Element("img",[p.Create("class","img-circle img-left"),p.Create("width","128"),p.Create("height","128"),p.Create("src",t.User1.Image)],[]),o.Element("img",[p.Create("class","img-circle img-right"),p.Create("width","128"),p.Create("height","128"),p.Create("src",t.User2.Image)],[])]))},$1:y})),new n.T({$:1,$0:{$:0,$0:"user2fullname",$1:o.Concat(n.ofArray([o.TextNode(t.User2.FullName)]))},$1:x})),new n.T({$:1,$0:{$:0,$0:"user2username",$1:o.Concat(n.ofArray([o.TextNode("@"+t.User2.Username)]))},$1:w})),new n.T({$:1,$0:{$:0,$0:"text",$1:o.Concat(n.ofArray([o.TextNode(t.Combined.Tweet)]))},$1:v})),new n.T({$:1,$0:{$:0,$0:"link",$1:o.Concat(n.ofArray([o.Element("a",[p.Create("class","btn btn-lg twitter-button"),p.Create("href","https://twitter.com/intent/tweet?text="+t.Combined.TweetWithContext),p.Create("target","_blank")],[o.Element("i",[p.Create("class","fa fa-twitter wow bounceIn")],[]),o.Element("span",[p.Create("class","label")],[o.TextNode("Tweet this!")])])]))},$1:u})));};c.emptyUser=function(){d.$cctor();return d.emptyUser;};d.$cctor=function(){d.$cctor=a.ignore;d.emptyUser={Username:"",FullName:"",Image:"",FollowerCount:0,FollowingCount:0};};e.presetuimobile=function(t){return t?o.GetOrLoadTemplate("presetuimobile",{$:1,$0:"presetuimobile"},function(){return s.parseHTML("<div class=\"form form-horizontal form-mobile preset-container\">\r\n\u0009<div class=\"form-group form-group-mobile\">\r\n\u0009\u0009<div class=\"input-group col-xs-12\" ws-hole=\"GoButton\">\r\n\u0009\u0009</div>\r\n\u0009</div>\r\n</div>");},t):o.PrepareTemplate("presetuimobile",{$:1,$0:"presetuimobile"},function(){return s.parseHTML("<div class=\"form form-horizontal form-mobile preset-container\">\r\n\u0009<div class=\"form-group form-group-mobile\">\r\n\u0009\u0009<div class=\"input-group col-xs-12\" ws-hole=\"GoButton\">\r\n\u0009\u0009</div>\r\n\u0009</div>\r\n</div>");});};e.outputuifailuremobile=function(t){return t?o.GetOrLoadTemplate("outputuifailuremobile",{$:1,$0:"outputuifailuremobile"},function(){return s.parseHTML("<div class=\"output-ui-mobile\">\r\n\u0009<div class=\"col-xs-12\">\r\n\u0009\u0009<h5 class=\"text-center tweet-text-mobile\" ws-hole=\"Text\"></h5>\u0009\u0009\r\n\u0009</div>\r\n</div>");},t):o.PrepareTemplate("outputuifailuremobile",{$:1,$0:"outputuifailuremobile"},function(){return s.parseHTML("<div class=\"output-ui-mobile\">\r\n\u0009<div class=\"col-xs-12\">\r\n\u0009\u0009<h5 class=\"text-center tweet-text-mobile\" ws-hole=\"Text\"></h5>\u0009\u0009\r\n\u0009</div>\r\n</div>");});};e.outputuifailureweb=function(t){return t?o.GetOrLoadTemplate("outputuifailureweb",{$:1,$0:"outputuifailureweb"},function(){return s.parseHTML("<div class=\"output-ui\">\r\n\u0009<div class=\"row\">\r\n\u0009\u0009<p class=\"tweet-text text-center\" ws-hole=\"Text\">\r\n\u0009</div>\r\n</div>");},t):o.PrepareTemplate("outputuifailureweb",{$:1,$0:"outputuifailureweb"},function(){return s.parseHTML("<div class=\"output-ui\">\r\n\u0009<div class=\"row\">\r\n\u0009\u0009<p class=\"tweet-text text-center\" ws-hole=\"Text\">\r\n\u0009</div>\r\n</div>");});};e.outputuimobile=function(t){return t?o.GetOrLoadTemplate("outputuimobile",{$:1,$0:"outputuimobile"},function(){return s.parseHTML("<div class=\"output-ui-mobile\">\r\n\u0009<div class=\"col-xs-12\">\r\n        <div class=\"col-xs-12\">\r\n                        <div class=\"overlapping-images-small\" ws-hole=\"Images\">\r\n\u0009\u0009\u0009\u0009\u0009\u0009</div>\r\n\u0009\u0009</div>\r\n        <div class=\"text-center\">\r\n\u0009\u0009\u0009<h6 class=\"text-center\" ws-hole=\"Usernames\">\r\n\u0009\u0009\u0009</h6>\r\n\u0009\u0009</div>\r\n    </div>\r\n\u0009<div class=\"col-xs-12\">\r\n\u0009\u0009<h6 class=\"text-center\">TweetMashup.com Presents:</h6>\r\n\u0009</div>\r\n\u0009<div class=\"col-xs-12\">\r\n\u0009\u0009<h5 class=\"text-center tweet-text-mobile\" ws-hole=\"Text\"></h5>\u0009\u0009\u0009\r\n\u0009</div>\r\n\u0009<div class=\"text-center col-xs-12\" ws-hole=\"Link\">\r\n\u0009</div>\r\n</div>");},t):o.PrepareTemplate("outputuimobile",{$:1,$0:"outputuimobile"},function(){return s.parseHTML("<div class=\"output-ui-mobile\">\r\n\u0009<div class=\"col-xs-12\">\r\n        <div class=\"col-xs-12\">\r\n                        <div class=\"overlapping-images-small\" ws-hole=\"Images\">\r\n\u0009\u0009\u0009\u0009\u0009\u0009</div>\r\n\u0009\u0009</div>\r\n        <div class=\"text-center\">\r\n\u0009\u0009\u0009<h6 class=\"text-center\" ws-hole=\"Usernames\">\r\n\u0009\u0009\u0009</h6>\r\n\u0009\u0009</div>\r\n    </div>\r\n\u0009<div class=\"col-xs-12\">\r\n\u0009\u0009<h6 class=\"text-center\">TweetMashup.com Presents:</h6>\r\n\u0009</div>\r\n\u0009<div class=\"col-xs-12\">\r\n\u0009\u0009<h5 class=\"text-center tweet-text-mobile\" ws-hole=\"Text\"></h5>\u0009\u0009\u0009\r\n\u0009</div>\r\n\u0009<div class=\"text-center col-xs-12\" ws-hole=\"Link\">\r\n\u0009</div>\r\n</div>");});};e.outputuiweb=function(t){return t?o.GetOrLoadTemplate("outputuiweb",{$:1,$0:"outputuiweb"},function(){return s.parseHTML("<div class=\"output-ui\">\r\n\u0009<div class=\"row\"> \r\n\u0009\u0009<div class=\"col-md-4 col-lg-4 left-name hidden-sm hidden-xs\">\r\n\u0009\u0009\u0009<h4 ws-hole=\"User1FullName\"></h4>\r\n\u0009\u0009\u0009<h5 ws-hole=\"User1Username\"></h5>\r\n\u0009\u0009</div>\r\n\u0009\u0009<div class=\"overlapping-images col-md-4 col-lg-4\" ws-hole=\"Images\">\r\n\u0009\u0009</div>\r\n\u0009\u0009<div class=\"col-md-4 col-lg-4 right-name hidden-sm hidden-xs\">\r\n\u0009\u0009\u0009<h4 ws-hole=\"User2FullName\"></h4>\r\n\u0009\u0009\u0009<h5 ws-hole=\"User2Username\"></h5>\r\n\u0009\u0009</div>\r\n\u0009</div>\r\n\u0009<div class=\"row\">\r\n\u0009\u0009<h3 class=\"text-center\"> TweetMashup.com presents:</h3>\r\n\u0009</div>\r\n\u0009<div class=\"row\">\r\n\u0009\u0009<p class=\"tweet-text text-center\" ws-hole=\"Text\">\r\n\u0009</div>\r\n\u0009<div class=\"text-center row\" ws-hole=\"Link\">\r\n\u0009</div>\r\n</div>");},t):o.PrepareTemplate("outputuiweb",{$:1,$0:"outputuiweb"},function(){return s.parseHTML("<div class=\"output-ui\">\r\n\u0009<div class=\"row\"> \r\n\u0009\u0009<div class=\"col-md-4 col-lg-4 left-name hidden-sm hidden-xs\">\r\n\u0009\u0009\u0009<h4 ws-hole=\"User1FullName\"></h4>\r\n\u0009\u0009\u0009<h5 ws-hole=\"User1Username\"></h5>\r\n\u0009\u0009</div>\r\n\u0009\u0009<div class=\"overlapping-images col-md-4 col-lg-4\" ws-hole=\"Images\">\r\n\u0009\u0009</div>\r\n\u0009\u0009<div class=\"col-md-4 col-lg-4 right-name hidden-sm hidden-xs\">\r\n\u0009\u0009\u0009<h4 ws-hole=\"User2FullName\"></h4>\r\n\u0009\u0009\u0009<h5 ws-hole=\"User2Username\"></h5>\r\n\u0009\u0009</div>\r\n\u0009</div>\r\n\u0009<div class=\"row\">\r\n\u0009\u0009<h3 class=\"text-center\"> TweetMashup.com presents:</h3>\r\n\u0009</div>\r\n\u0009<div class=\"row\">\r\n\u0009\u0009<p class=\"tweet-text text-center\" ws-hole=\"Text\">\r\n\u0009</div>\r\n\u0009<div class=\"text-center row\" ws-hole=\"Link\">\r\n\u0009</div>\r\n</div>");});};e.presetuiweb=function(t){return t?o.GetOrLoadTemplate("presetuiweb",{$:1,$0:"presetuiweb"},function(){return s.parseHTML("<div class=\"col-sm-6 col-md-4 preset-container\">\r\n    <div class=\"row\">                           \r\n\u0009\u0009<div class=\"overlapping-images-small col-xs-6 col-md-8\" ws-hole=\"Images\">\r\n\u0009\u0009</div>\r\n\u0009\u0009<div class=\"form form-inline col-xs-6 col-md-4\">\r\n\u0009\u0009\u0009<div class=\"form-group\">\r\n\u0009\u0009\u0009\u0009<div class=\"input-group\" ws-hole=\"GoButton\">\r\n\u0009\u0009\u0009\u0009</div>\r\n\u0009\u0009\u0009</div>\r\n\u0009\u0009</div>\r\n\u0009</div>\r\n\u0009<div class=\"row text-center\">\r\n\u0009\u0009<h4 ws-hole=\"Usernames\"></h4>\r\n\u0009</div>\r\n</div>");},t):o.PrepareTemplate("presetuiweb",{$:1,$0:"presetuiweb"},function(){return s.parseHTML("<div class=\"col-sm-6 col-md-4 preset-container\">\r\n    <div class=\"row\">                           \r\n\u0009\u0009<div class=\"overlapping-images-small col-xs-6 col-md-8\" ws-hole=\"Images\">\r\n\u0009\u0009</div>\r\n\u0009\u0009<div class=\"form form-inline col-xs-6 col-md-4\">\r\n\u0009\u0009\u0009<div class=\"form-group\">\r\n\u0009\u0009\u0009\u0009<div class=\"input-group\" ws-hole=\"GoButton\">\r\n\u0009\u0009\u0009\u0009</div>\r\n\u0009\u0009\u0009</div>\r\n\u0009\u0009</div>\r\n\u0009</div>\r\n\u0009<div class=\"row text-center\">\r\n\u0009\u0009<h4 ws-hole=\"Usernames\"></h4>\r\n\u0009</div>\r\n</div>");});};}());

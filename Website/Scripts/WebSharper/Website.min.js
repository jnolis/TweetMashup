(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;$.Define($$,{Website:{Client:{buildOutputUI:function(r,s){var t,u,v,w,x,y,z,A,B,C;t=[r,s];if(t[0]){if(t[1].$==1){w=t[1].$0;v=b.buildOutputUIFailureMobile(w);}else{if(t[1].$==2){x=$.New(d,{$:0});v=g.Element("div",[],x);}else{y=t[1].$0;v=b.buildOutputUIMobile(y);}}u=v;}else{if(t[1].$==1){A=t[1].$0;z=b.buildOutputUIFailureWeb(A);}else{if(t[1].$==2){B=$.New(d,{$:0});z=g.Element("div",[],B);}else{C=t[1].$0;z=b.buildOutputUIWeb(C);}}u=z;}return u;},buildOutputUIFailureMobile:function(D){var E,F;E=c.ofArray([g.TextNode(D)]);F=[h.Create("class","output-ui-mobile")];return g.Concat([g.Element("div",F,[g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","col-xs-12")],[g.TextNode("\n\u0009\u0009"),g.Element("h5",[h.Create("class","text-center tweet-text-mobile")],i.ofSeq(E)),g.TextNode("\u0009\u0009\n\u0009")]),g.TextNode("\n")])]);},buildOutputUIFailureWeb:function(G){var H,I;H=c.ofArray([g.TextNode(G)]);I=[h.Create("class","output-ui")];return g.Concat([g.Element("div",I,[g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","row")],[g.TextNode("\n\u0009\u0009"),g.Element("p",[h.Create("class","tweet-text text-center")],i.ofSeq(H)),g.TextNode("\n\u0009")]),g.TextNode("\n")])]);},buildOutputUIMobile:function(J){var K,L,M,N,O,P;K=c.ofArray([g.Element("img",c.ofArray([h.Create("class","img-circle img-left-small"),h.Create("width","96"),h.Create("height","96"),h.Create("src",J.User1.Image)]),$.New(d,{$:0})),g.Element("img",c.ofArray([h.Create("class","img-circle img-right-small"),h.Create("width","96"),h.Create("height","96"),h.Create("src",J.User2.Image)]),$.New(d,{$:0}))]);L=c.ofArray([g.TextNode(J.User1.FullName+" & "+J.User2.FullName)]);M=c.ofArray([g.TextNode(J.Combined.Tweet)]);N=c.ofArray([g.Element("a",c.ofArray([h.Create("class","btn btn-lg twitter-button"),h.Create("href","https://twitter.com/intent/tweet?text="+J.Combined.TweetWithContext),h.Create("target","_blank")]),c.ofArray([g.Element("i",c.ofArray([h.Create("class","fa fa-twitter wow bounceIn")]),$.New(d,{$:0})),g.Element("span",c.ofArray([h.Create("class","label")]),c.ofArray([g.TextNode("Tweet this!")]))]))]);O=[h.Create("class","output-ui-mobile")];P=[h.Create("class","col-xs-12")];return g.Concat([g.Element("div",O,[g.TextNode("\n\u0009"),g.Element("div",P,[g.TextNode("\n        "),g.Element("div",[h.Create("class","col-xs-12")],[g.TextNode("\n                        "),g.Element("div",[h.Create("class","overlapping-images-small")],i.ofSeq(K)),g.TextNode("\n\u0009\u0009")]),g.TextNode("\n        "),g.Element("div",[h.Create("class","text-center")],[g.TextNode("\n\u0009\u0009\u0009"),g.Element("h6",[h.Create("class","text-center")],i.ofSeq(L)),g.TextNode("\n\u0009\u0009")]),g.TextNode("\n    ")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","col-xs-12")],[g.TextNode("\n\u0009\u0009"),g.Element("h6",[h.Create("class","text-center")],[g.TextNode("TweetMashup.com Presents:")]),g.TextNode("\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","col-xs-12")],[g.TextNode("\n\u0009\u0009"),g.Element("h5",[h.Create("class","text-center tweet-text-mobile")],i.ofSeq(M)),g.TextNode("\u0009\u0009\u0009\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","text-center col-xs-12")],i.ofSeq(N)),g.TextNode("\n")])]);},buildOutputUIWeb:function(Q){var R,S,T,U,V,W,X,Y,Z;R=c.ofArray([g.TextNode(Q.User1.FullName)]);S=c.ofArray([g.TextNode("@"+Q.User1.Username)]);T=c.ofArray([g.Element("img",c.ofArray([h.Create("class","img-circle img-left"),h.Create("width","128"),h.Create("height","128"),h.Create("src",Q.User1.Image)]),$.New(d,{$:0})),g.Element("img",c.ofArray([h.Create("class","img-circle img-right"),h.Create("width","128"),h.Create("height","128"),h.Create("src",Q.User2.Image)]),$.New(d,{$:0}))]);U=c.ofArray([g.TextNode(Q.User2.FullName)]);V=c.ofArray([g.TextNode("@"+Q.User2.Username)]);W=c.ofArray([g.TextNode(Q.Combined.Tweet)]);X=c.ofArray([g.Element("a",c.ofArray([h.Create("class","btn btn-lg twitter-button"),h.Create("href","https://twitter.com/intent/tweet?text="+Q.Combined.TweetWithContext),h.Create("target","_blank")]),c.ofArray([g.Element("i",c.ofArray([h.Create("class","fa fa-twitter wow bounceIn")]),$.New(d,{$:0})),g.Element("span",c.ofArray([h.Create("class","label")]),c.ofArray([g.TextNode("Tweet this!")]))]))]);Y=[h.Create("class","output-ui")];Z=[h.Create("class","row")];return g.Concat([g.Element("div",Y,[g.TextNode("\n\u0009"),g.Element("div",Z,[g.TextNode(" \n\u0009\u0009"),g.Element("div",[h.Create("class","col-md-4 col-lg-4 left-name hidden-sm hidden-xs")],[g.TextNode("\n\u0009\u0009\u0009"),g.Element("h4",[],i.ofSeq(R)),g.TextNode("\n\u0009\u0009\u0009"),g.Element("h5",[],i.ofSeq(S)),g.TextNode("\n\u0009\u0009")]),g.TextNode("\n\u0009\u0009"),g.Element("div",[h.Create("class","overlapping-images col-md-4 col-lg-4")],i.ofSeq(T)),g.TextNode("\n\u0009\u0009"),g.Element("div",[h.Create("class","col-md-4 col-lg-4 right-name hidden-sm hidden-xs")],[g.TextNode("\n\u0009\u0009\u0009"),g.Element("h4",[],i.ofSeq(U)),g.TextNode("\n\u0009\u0009\u0009"),g.Element("h5",[],i.ofSeq(V)),g.TextNode("\n\u0009\u0009")]),g.TextNode("\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","row")],[g.TextNode("\n\u0009\u0009"),g.Element("h3",[h.Create("class","text-center")],[g.TextNode(" TweetMashup.com presents:")]),g.TextNode("\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","row")],[g.TextNode("\n\u0009\u0009"),g.Element("p",[h.Create("class","tweet-text text-center")],i.ofSeq(W)),g.TextNode("\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","text-center row")],i.ofSeq(X)),g.TextNode("\n")])]);},emptyUser:$.Field(function(){return{Username:"",FullName:"",Image:"",FollowerCount:0,FollowingCount:0};}),preset:function(_0,_1){var _2,_3,_4,_5,_6,_7,br;_2=[[]];_3=[b.emptyUser()];_4=[b.emptyUser()];_5=[0];_6=j.Create({$:2});_7=function(_8){var _9,_,ba,bl,bm,bn,bo,bp,bq;_9=_8[1];_=_8[0];ba=function(){return k.Start(k.Delay(function(){var bd,bj,bk;if((_5[0]>=_2[0].length?true:_.Username!==_3[0].Username)?true:_9.Username!==_4[0].Username){bd=m.Async("Website:0",[{$:0},_.Username,_9.Username]);return k.Bind(bd,function(be){var bf,bg,bh,bi;if(be.$==1){bf=be.$0;_2[0]=[];_3[0]=b.emptyUser();_4[0]=b.emptyUser();n.Set(_6,{$:1,$0:bf});return k.Return(null);}else{bg=be.$0;_2[0]=bg.Combined;_3[0]=bg.User1;_4[0]=bg.User2;_5[0]=0;bi=_5[0];bh={Combined:i.get(_2[0],bi),User1:_,User2:_9};_5[0]=_5[0]+1;n.Set(_6,{$:0,$0:bh});return k.Return(null);}});}else{bk=_5[0];bj={Combined:i.get(_2[0],bk),User1:_3[0],User2:_4[0]};_5[0]=_5[0]+1;n.Set(_6,{$:0,$0:bj});return k.Return(null);}}),{$:0});};if(_0){bl=c.ofArray([g.ButtonView(_.FullName+" & "+_9.FullName,c.ofArray([h.Create("class","btn go-button col-xs-12"),h.Create("value","Go!")]),o.Const(null),ba)]);return g.Concat([g.Element("div",[h.Create("class","form form-horizontal form-mobile preset-container")],[g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","form-group form-group-mobile")],[g.TextNode("\n\u0009\u0009"),g.Element("div",[h.Create("class","input-group col-xs-12")],i.ofSeq(bl)),g.TextNode("\n\u0009")]),g.TextNode("\n")])]);}else{bm=c.ofArray([g.Element("img",c.ofArray([h.Create("src",_.Image),h.Create("class","img-circle img-left-small"),h.Create("width","96"),h.Create("height","96")]),$.New(d,{$:0})),g.Element("img",c.ofArray([h.Create("src",_9.Image),h.Create("class","img-circle img-right-small"),h.Create("width","96"),h.Create("height","96")]),$.New(d,{$:0}))]);bn=c.ofArray([g.ButtonView("Go!",c.ofArray([h.Create("class","btn go-button btn-lg"),h.Create("value","Go!")]),o.Const(null),ba)]);bo=c.ofArray([g.TextNode(_.FullName+" & "+_9.FullName)]);bp=[h.Create("class","col-sm-6 col-md-4 preset-container")];bq=[h.Create("class","row")];return g.Concat([g.Element("div",bp,[g.TextNode("\n    "),g.Element("div",bq,[g.TextNode("                           \n\u0009\u0009"),g.Element("div",[h.Create("class","overlapping-images-small col-xs-6 col-md-8")],i.ofSeq(bm)),g.TextNode("\n\u0009\u0009"),g.Element("div",[h.Create("class","form form-inline col-xs-6 col-md-4")],[g.TextNode("\n\u0009\u0009\u0009"),g.Element("div",[h.Create("class","form-group")],[g.TextNode("\n\u0009\u0009\u0009\u0009"),g.Element("div",[h.Create("class","input-group")],i.ofSeq(bn)),g.TextNode("\n\u0009\u0009\u0009")]),g.TextNode("\n\u0009\u0009")]),g.TextNode("\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","row text-center")],[g.TextNode("\n\u0009\u0009"),g.Element("h4",[],i.ofSeq(bo)),g.TextNode("\n\u0009")]),g.TextNode("\n")])]);}};br=_6.get_View();return g.Element("div",c.ofArray([h.Create("class",_0?"container tweet-mobile-ui":"container")]),c.ofArray([g.Element("div",_0?$.New(d,{$:0}):c.ofArray([h.Create("class","row")]),i.map(_7,_1)),g.BindView(function(bs){return b.buildOutputUI(_0,bs);},br)]));},tryIt:function(bs,bt){var bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bV,bW,bX,bY,bZ,b0,b2;if(bt.$==2){bw=c.ofArray([g.TextNode("Error with credentials, try refreshing browser")]);bv=c.ofArray([g.Element("h5",[],bw)]);bu=g.Element("div",[],bv);}else{if(bt.$==0){bx=bt.$0;by=[[]];bz=[b.emptyUser()];bA=[b.emptyUser()];bB=[0];bC=j.Create({$:2});bD=j.Create("");bE=j.Create("");bF=b.userSelectionUI(bs,1,bD);bG=b.userSelectionUI(bs,1,bE);bH=function(){var bJ;bJ=k.Delay(function(){var bL,bM,bT,bU;if((bB[0]>=by[0].length?true:j.Get(bD)!==bz[0].Username)?true:j.Get(bE)!==bA[0].Username){bM=m.Async("Website:0",[{$:1,$0:bx},j.Get(bD),j.Get(bE)]);bL=k.Bind(bM,function(bN){var bO,bP,bQ,bR,bS;if(bN.$==1){bP=bN.$0;by[0]=[];bz[0]=b.emptyUser();bA[0]=b.emptyUser();n.Set(bC,{$:1,$0:bP});bO=k.Return(null);}else{bQ=bN.$0;by[0]=bQ.Combined;bz[0]=bQ.User1;bA[0]=bQ.User2;bB[0]=0;bS=bB[0];bR={Combined:i.get(by[0],bS),User1:bQ.User1,User2:bQ.User2};bB[0]=bB[0]+1;n.Set(bC,{$:0,$0:bR});bO=k.Return(null);}return bO;});}else{bU=bB[0];bT={Combined:i.get(by[0],bU),User1:bz[0],User2:bA[0]};bB[0]=bB[0]+1;n.Set(bC,{$:0,$0:bT});bL=k.Return(null);}return bL;});return k.Start(bJ,{$:0});};if(!bs){bX=c.ofArray([h.Create("class","form form-inline")]);bY=c.ofArray([g.TextNode("&")]);bW=g.Element("div",bX,c.ofArray([b.userSelectionUI(false,1,bD),g.Element("div",c.ofArray([p.Class("form-group")]),c.ofArray([g.Element("h1",[],bY)])),b.userSelectionUI(false,2,bE),g.Element("div",c.ofArray([h.Create("class","form-group")]),c.ofArray([g.Element("div",c.ofArray([h.Create("class","input-group col-md-10")]),c.ofArray([g.ButtonView("Go!",c.ofArray([h.Create("class","btn go-button btn-lg"),h.Create("value","Go!")]),o.Const(null),bH)]))]))]));}else{bZ=c.ofArray([h.Create("class","form form-horizontal form-mobile")]);bW=g.Element("div",bZ,c.ofArray([b.userSelectionUI(true,1,bD),b.userSelectionUI(true,2,bE),g.Element("div",c.ofArray([h.Create("class","form-group form-group-mobile")]),c.ofArray([g.Element("div",c.ofArray([h.Create("class","input-group col-xs-12")]),c.ofArray([g.ButtonView("Go!",c.ofArray([h.Create("class","btn go-button col-xs-12"),h.Create("value","Go!")]),o.Const(null),bH)]))]))]));}bV=bW;b0=bC.get_View();bu=g.Element("div",c.ofArray([h.Create("class",bs?"container tweet-mobile-ui preset-container":"container preset-container")]),c.ofArray([bV,g.BindView(function(b1){return b.buildOutputUI(bs,b1);},b0)]));}else{b2=bt.$0;bu=b.tryItDummyUI(bs,b2);}}return bu;},tryItDummyUI:function(b3,b4){var b5,b$,ca,cb;b5=function(b6,b7){var b8,b9,b_;b8=c.ofArray([h.Create("class",!b6?"form-group":"form-group form-group-mobile")]);b9=c.ofArray([h.Create("class",!b6?"input-group input-group-lg col-md-10":"input-group col-xs-12")]);b_="username"+q(b7);return g.Element("div",b8,c.ofArray([g.Element("label",c.ofArray([h.Create("class","sr-only"),h.Create("for","username"+q(b7))]),c.ofArray([g.TextNode("Username "+q(b7))])),g.Element("div",b9,c.ofArray([g.Element("span",c.ofArray([h.Create("class","input-group-addon"),h.Create("id","username"+q(b7))]),c.ofArray([g.TextNode("@")])),g.Element("input",c.ofArray([h.Create("value",""),h.Create("type","text"),h.Create("class","form-control"),h.Create("disabled",""),h.Create("placeholder","username"),h.Create("aria-describedby",b_)]),$.New(d,{$:0}))]))]));};b$=c.ofArray([h.Create("class","form form-inline")]);ca=c.ofArray([g.TextNode("&")]);cb=c.ofArray([h.Create("class","form-group")]);return g.Element("div",b$,c.ofArray([b5(b3,1),g.Element("div",c.ofArray([h.Create("class","form-group")]),c.ofArray([g.Element("h1",[],ca)])),b5(b3,2),g.Element("div",cb,c.ofArray([g.Element("a",c.ofArray([h.Create("class","btn btn-lg twitter-button"),h.Create("href",b4)]),c.ofArray([g.Element("i",c.ofArray([h.Create("class","fa fa-twitter wow bounceIn")]),$.New(d,{$:0})),g.Element("span",c.ofArray([h.Create("class","label")]),c.ofArray([g.TextNode("Authorize to  make your own!")]))]))]))]));},userSelectionUI:function(cc,cd,ce){var cf,cg,ch;cf=c.ofArray([h.Create("class","form-group form-group-mobile")]);cg=c.ofArray([h.Create("class",!cc?"input-group input-group-lg col-md-10":"input-group col-xs-12")]);ch="username"+q(cd);return g.Element("div",cf,c.ofArray([g.Element("label",c.ofArray([h.Create("class","sr-only"),h.Create("for","username"+q(cd))]),c.ofArray([g.TextNode("Username "+q(cd))])),g.Element("div",cg,c.ofArray([g.Element("span",c.ofArray([h.Create("class","input-group-addon"),h.Create("id","username"+q(cd))]),c.ofArray([g.TextNode("@")])),g.Input(c.ofArray([h.Create("value",""),h.Create("type","text"),h.Create("class","form-control"),h.Create("placeholder","username"),h.Create("aria-describedby",ch)]),ce)]))]));}}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.Client);c=$.Safe($$.WebSharper.List);d=$.Safe(c.T);e=$.Safe($$.WebSharper.UI);f=$.Safe(e.Next);g=$.Safe(f.Doc);h=$.Safe(f.AttrProxy);i=$.Safe($$.WebSharper.Arrays);j=$.Safe(f.Var);k=$.Safe($$.WebSharper.Concurrency);l=$.Safe($$.WebSharper.Remoting);m=$.Safe(l.AjaxRemotingProvider);n=$.Safe(f.Var1);o=$.Safe(f.View1);p=$.Safe(f.AttrModule);return q=$.Safe($$.String);});$.OnLoad(function(){b.emptyUser();return;});}());

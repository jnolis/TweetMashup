(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;$.Define($$,{Website:{Client:{buildOutputUI:function(r,s){var t,u,v,w,x,y,z,A,B,C;t=[r,s];if(t[0]){if(t[1].$==1){w=t[1].$0;v=b.buildOutputUIFailureMobile(w);}else{if(t[1].$==2){x=$.New(d,{$:0});v=g.Element("div",[],x);}else{y=t[1].$0;v=b.buildOutputUIMobile(y);}}u=v;}else{if(t[1].$==1){A=t[1].$0;z=b.buildOutputUIFailureWeb(A);}else{if(t[1].$==2){B=$.New(d,{$:0});z=g.Element("div",[],B);}else{C=t[1].$0;z=b.buildOutputUIWeb(C);}}u=z;}return u;},buildOutputUIFailureMobile:function(D){var E,F;E=c.ofArray([g.TextNode(D)]);F=[h.Create("class","output-ui-mobile")];return g.Concat([g.Element("div",F,[g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","col-xs-12")],[g.TextNode("\n\u0009\u0009"),g.Element("h5",[h.Create("class","text-center tweet-text-mobile")],i.ofSeq(E)),g.TextNode("\u0009\u0009\n\u0009")]),g.TextNode("\n")])]);},buildOutputUIFailureWeb:function(G){var H,I;H=c.ofArray([g.TextNode(G)]);I=[h.Create("class","output-ui")];return g.Concat([g.Element("div",I,[g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","row")],[g.TextNode("\n\u0009\u0009"),g.Element("p",[h.Create("class","tweet-text text-center")],i.ofSeq(H)),g.TextNode("\n\u0009")]),g.TextNode("\n")])]);},buildOutputUIMobile:function(J){var K,L,M,N,O,P;K=c.ofArray([g.Element("img",c.ofArray([h.Create("class","img-circle img-left-small"),h.Create("width","96"),h.Create("height","96"),h.Create("src",J.User1.Image)]),$.New(d,{$:0})),g.Element("img",c.ofArray([h.Create("class","img-circle img-right-small"),h.Create("width","96"),h.Create("height","96"),h.Create("src",J.User2.Image)]),$.New(d,{$:0}))]);L=c.ofArray([g.TextNode(J.User1.FullName+" & "+J.User2.FullName)]);M=c.ofArray([g.TextNode(J.Combined.Tweet)]);N=c.ofArray([g.Element("a",c.ofArray([h.Create("class","btn btn-lg twitter-button"),h.Create("href","https://twitter.com/intent/tweet?text="+J.Combined.TweetWithContext),h.Create("target","_blank")]),c.ofArray([g.Element("i",c.ofArray([h.Create("class","fa fa-twitter wow bounceIn")]),$.New(d,{$:0})),g.Element("span",c.ofArray([h.Create("class","label")]),c.ofArray([g.TextNode("Tweet this!")]))]))]);O=[h.Create("class","output-ui-mobile")];P=[h.Create("class","col-xs-12")];return g.Concat([g.Element("div",O,[g.TextNode("\n\u0009"),g.Element("div",P,[g.TextNode("\n        "),g.Element("div",[h.Create("class","col-xs-12")],[g.TextNode("\n                        "),g.Element("div",[h.Create("class","overlapping-images-small")],i.ofSeq(K)),g.TextNode("\n\u0009\u0009")]),g.TextNode("\n        "),g.Element("div",[h.Create("class","text-center")],[g.TextNode("\n\u0009\u0009\u0009"),g.Element("h6",[h.Create("class","text-center")],i.ofSeq(L)),g.TextNode("\n\u0009\u0009")]),g.TextNode("\n    ")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","col-xs-12")],[g.TextNode("\n\u0009\u0009"),g.Element("h6",[h.Create("class","text-center")],[g.TextNode("TweetMashup.com Presents:")]),g.TextNode("\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","col-xs-12")],[g.TextNode("\n\u0009\u0009"),g.Element("h5",[h.Create("class","text-center tweet-text-mobile")],i.ofSeq(M)),g.TextNode("\u0009\u0009\u0009\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","text-center col-xs-12")],i.ofSeq(N)),g.TextNode("\n")])]);},buildOutputUIWeb:function(Q){var R,S,T,U,V,W,X,Y,Z;R=c.ofArray([g.TextNode(Q.User1.FullName)]);S=c.ofArray([g.TextNode("@"+Q.User1.Username)]);T=c.ofArray([g.Element("img",c.ofArray([h.Create("class","img-circle img-left"),h.Create("width","128"),h.Create("height","128"),h.Create("src",Q.User1.Image)]),$.New(d,{$:0})),g.Element("img",c.ofArray([h.Create("class","img-circle img-right"),h.Create("width","128"),h.Create("height","128"),h.Create("src",Q.User2.Image)]),$.New(d,{$:0}))]);U=c.ofArray([g.TextNode(Q.User2.FullName)]);V=c.ofArray([g.TextNode("@"+Q.User2.Username)]);W=c.ofArray([g.TextNode(Q.Combined.Tweet)]);X=c.ofArray([g.Element("a",c.ofArray([h.Create("class","btn btn-lg twitter-button"),h.Create("href","https://twitter.com/intent/tweet?text="+Q.Combined.TweetWithContext),h.Create("target","_blank")]),c.ofArray([g.Element("i",c.ofArray([h.Create("class","fa fa-twitter wow bounceIn")]),$.New(d,{$:0})),g.Element("span",c.ofArray([h.Create("class","label")]),c.ofArray([g.TextNode("Tweet this!")]))]))]);Y=[h.Create("class","output-ui")];Z=[h.Create("class","row")];return g.Concat([g.Element("div",Y,[g.TextNode("\n\u0009"),g.Element("div",Z,[g.TextNode(" \n\u0009\u0009"),g.Element("div",[h.Create("class","col-md-4 col-lg-4 left-name hidden-sm hidden-xs")],[g.TextNode("\n\u0009\u0009\u0009"),g.Element("h4",[],i.ofSeq(R)),g.TextNode("\n\u0009\u0009\u0009"),g.Element("h5",[],i.ofSeq(S)),g.TextNode("\n\u0009\u0009")]),g.TextNode("\n\u0009\u0009"),g.Element("div",[h.Create("class","overlapping-images col-md-4 col-lg-4")],i.ofSeq(T)),g.TextNode("\n\u0009\u0009"),g.Element("div",[h.Create("class","col-md-4 col-lg-4 right-name hidden-sm hidden-xs")],[g.TextNode("\n\u0009\u0009\u0009"),g.Element("h4",[],i.ofSeq(U)),g.TextNode("\n\u0009\u0009\u0009"),g.Element("h5",[],i.ofSeq(V)),g.TextNode("\n\u0009\u0009")]),g.TextNode("\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","row")],[g.TextNode("\n\u0009\u0009"),g.Element("h3",[h.Create("class","text-center")],[g.TextNode(" TweetMashup.com presents:")]),g.TextNode("\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","row")],[g.TextNode("\n\u0009\u0009"),g.Element("p",[h.Create("class","tweet-text text-center")],i.ofSeq(W)),g.TextNode("\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","text-center row")],i.ofSeq(X)),g.TextNode("\n")])]);},emptyUser:$.Field(function(){return{Username:"",FullName:"",Image:"",FollowerCount:0,FollowingCount:0};}),preset:function(_0,_1,_2){var _3,_4,_5,_6,_7,_8,bt;_3=[[]];_4=[b.emptyUser()];_5=[b.emptyUser()];_6=[0];_7=j.Create({$:2});_8=function(_9){var _,ba,bb,bn,bo,bp,bq,br,bs;_=_9[1];ba=_9[0];bb=function(){k.Start(k.Delay(function(){return k.Bind(m.Async("Website:1",[_0,_1,ba.Username,_.Username]),function(){return k.Return(null);});}),{$:0});return k.Start(k.Delay(function(){var bf,bl,bm;if((_6[0]>=_3[0].length?true:ba.Username!==_4[0].Username)?true:_.Username!==_5[0].Username){bf=m.Async("Website:0",[{$:0},ba.Username,_.Username]);return k.Bind(bf,function(bg){var bh,bi,bj,bk;if(bg.$==1){bh=bg.$0;_3[0]=[];_4[0]=b.emptyUser();_5[0]=b.emptyUser();n.Set(_7,{$:1,$0:bh});return k.Return(null);}else{bi=bg.$0;_3[0]=bi.Combined;_4[0]=bi.User1;_5[0]=bi.User2;_6[0]=0;bk=_6[0];bj={Combined:i.get(_3[0],bk),User1:ba,User2:_};_6[0]=_6[0]+1;n.Set(_7,{$:0,$0:bj});return k.Return(null);}});}else{bm=_6[0];bl={Combined:i.get(_3[0],bm),User1:_4[0],User2:_5[0]};_6[0]=_6[0]+1;n.Set(_7,{$:0,$0:bl});return k.Return(null);}}),{$:0});};if(_0){bn=c.ofArray([g.ButtonView(ba.FullName+" & "+_.FullName,c.ofArray([h.Create("class","btn go-button col-xs-12"),h.Create("value","Go!")]),o.Const(null),bb)]);return g.Concat([g.Element("div",[h.Create("class","form form-horizontal form-mobile preset-container")],[g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","form-group form-group-mobile")],[g.TextNode("\n\u0009\u0009"),g.Element("div",[h.Create("class","input-group col-xs-12")],i.ofSeq(bn)),g.TextNode("\n\u0009")]),g.TextNode("\n")])]);}else{bo=c.ofArray([g.Element("img",c.ofArray([h.Create("src",ba.Image),h.Create("class","img-circle img-left-small"),h.Create("width","96"),h.Create("height","96")]),$.New(d,{$:0})),g.Element("img",c.ofArray([h.Create("src",_.Image),h.Create("class","img-circle img-right-small"),h.Create("width","96"),h.Create("height","96")]),$.New(d,{$:0}))]);bp=c.ofArray([g.ButtonView("Go!",c.ofArray([h.Create("class","btn go-button btn-lg"),h.Create("value","Go!")]),o.Const(null),bb)]);bq=c.ofArray([g.TextNode(ba.FullName+" & "+_.FullName)]);br=[h.Create("class","col-sm-6 col-md-4 preset-container")];bs=[h.Create("class","row")];return g.Concat([g.Element("div",br,[g.TextNode("\n    "),g.Element("div",bs,[g.TextNode("                           \n\u0009\u0009"),g.Element("div",[h.Create("class","overlapping-images-small col-xs-6 col-md-8")],i.ofSeq(bo)),g.TextNode("\n\u0009\u0009"),g.Element("div",[h.Create("class","form form-inline col-xs-6 col-md-4")],[g.TextNode("\n\u0009\u0009\u0009"),g.Element("div",[h.Create("class","form-group")],[g.TextNode("\n\u0009\u0009\u0009\u0009"),g.Element("div",[h.Create("class","input-group")],i.ofSeq(bp)),g.TextNode("\n\u0009\u0009\u0009")]),g.TextNode("\n\u0009\u0009")]),g.TextNode("\n\u0009")]),g.TextNode("\n\u0009"),g.Element("div",[h.Create("class","row text-center")],[g.TextNode("\n\u0009\u0009"),g.Element("h4",[],i.ofSeq(bq)),g.TextNode("\n\u0009")]),g.TextNode("\n")])]);}};bt=_7.get_View();return g.Element("div",c.ofArray([h.Create("class",_0?"container tweet-mobile-ui":"container")]),c.ofArray([g.Element("div",_0?$.New(d,{$:0}):c.ofArray([h.Create("class","row")]),i.map(_8,_2)),g.BindView(function(bu){return b.buildOutputUI(_0,bu);},bt)]));},tryIt:function(bv,bw,bx){var by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,b3,b4,b5,b6,b7,b8,b_,b$,ca,cb;by=[bw,bx];if(by[0].$==1){if(by[1].$==1){bB=by[1].$0;bA=b.tryItDummyUI(bv,bB);}else{bC=by[0].$0;bD=[[]];bE=[b.emptyUser()];bF=[b.emptyUser()];bG=[0];bH=j.Create({$:2});bI=j.Create("");bJ=j.Create("");bK=b.userSelectionUI(bv,1,bI);bL=b.userSelectionUI(bv,1,bJ);bM=function(){var bO,bR;bO=k.Delay(function(){return k.Bind(m.Async("Website:1",[bv,bw,j.Get(bI),j.Get(bJ)]),function(){return k.Return(null);});});k.Start(bO,{$:0});bR=k.Delay(function(){var bT,bU,b1,b2;if((bG[0]>=bD[0].length?true:j.Get(bI)!==bE[0].Username)?true:j.Get(bJ)!==bF[0].Username){bU=m.Async("Website:0",[{$:1,$0:bC},j.Get(bI),j.Get(bJ)]);bT=k.Bind(bU,function(bV){var bW,bX,bY,bZ,b0;if(bV.$==1){bX=bV.$0;bD[0]=[];bE[0]=b.emptyUser();bF[0]=b.emptyUser();n.Set(bH,{$:1,$0:bX});bW=k.Return(null);}else{bY=bV.$0;bD[0]=bY.Combined;bE[0]=bY.User1;bF[0]=bY.User2;bG[0]=0;b0=bG[0];bZ={Combined:i.get(bD[0],b0),User1:bY.User1,User2:bY.User2};bG[0]=bG[0]+1;n.Set(bH,{$:0,$0:bZ});bW=k.Return(null);}return bW;});}else{b2=bG[0];b1={Combined:i.get(bD[0],b2),User1:bE[0],User2:bF[0]};bG[0]=bG[0]+1;n.Set(bH,{$:0,$0:b1});bT=k.Return(null);}return bT;});return k.Start(bR,{$:0});};if(!bv){b5=c.ofArray([h.Create("class","form form-inline")]);b6=c.ofArray([g.TextNode("&")]);b4=g.Element("div",b5,c.ofArray([b.userSelectionUI(false,1,bI),g.Element("div",c.ofArray([p.Class("form-group")]),c.ofArray([g.Element("h1",[],b6)])),b.userSelectionUI(false,2,bJ),g.Element("div",c.ofArray([h.Create("class","form-group")]),c.ofArray([g.Element("div",c.ofArray([h.Create("class","input-group col-md-10")]),c.ofArray([g.ButtonView("Go!",c.ofArray([h.Create("class","btn go-button btn-lg"),h.Create("value","Go!")]),o.Const(null),bM)]))]))]));}else{b7=c.ofArray([h.Create("class","form form-horizontal form-mobile")]);b4=g.Element("div",b7,c.ofArray([b.userSelectionUI(true,1,bI),b.userSelectionUI(true,2,bJ),g.Element("div",c.ofArray([h.Create("class","form-group form-group-mobile")]),c.ofArray([g.Element("div",c.ofArray([h.Create("class","input-group col-xs-12")]),c.ofArray([g.ButtonView("Go!",c.ofArray([h.Create("class","btn go-button col-xs-12"),h.Create("value","Go!")]),o.Const(null),bM)]))]))]));}b3=b4;b8=bH.get_View();bA=g.Element("div",c.ofArray([h.Create("class",bv?"container tweet-mobile-ui preset-container":"container preset-container")]),c.ofArray([b3,g.BindView(function(b9){return b.buildOutputUI(bv,b9);},b8)]));}bz=bA;}else{if(by[1].$==1){b$=by[1].$0;b_=b.tryItDummyUI(bv,b$);}else{cb=c.ofArray([g.TextNode("Error with credentials, try refreshing browser")]);ca=c.ofArray([g.Element("h5",[],cb)]);b_=g.Element("div",[],ca);}bz=b_;}return bz;},tryItDummyUI:function(cc,cd){var ce,ck,cl,cm;ce=function(cf,cg){var ch,ci,cj;ch=c.ofArray([h.Create("class",!cf?"form-group":"form-group form-group-mobile")]);ci=c.ofArray([h.Create("class",!cf?"input-group input-group-lg col-md-10":"input-group col-xs-12")]);cj="username"+q(cg);return g.Element("div",ch,c.ofArray([g.Element("label",c.ofArray([h.Create("class","sr-only"),h.Create("for","username"+q(cg))]),c.ofArray([g.TextNode("Username "+q(cg))])),g.Element("div",ci,c.ofArray([g.Element("span",c.ofArray([h.Create("class","input-group-addon"),h.Create("id","username"+q(cg))]),c.ofArray([g.TextNode("@")])),g.Element("input",c.ofArray([h.Create("value",""),h.Create("type","text"),h.Create("class","form-control"),h.Create("disabled",""),h.Create("placeholder","username"),h.Create("aria-describedby",cj)]),$.New(d,{$:0}))]))]));};ck=c.ofArray([h.Create("class","form form-inline")]);cl=c.ofArray([g.TextNode("&")]);cm=c.ofArray([h.Create("class","form-group")]);return g.Element("div",ck,c.ofArray([ce(cc,1),g.Element("div",c.ofArray([h.Create("class","form-group")]),c.ofArray([g.Element("h1",[],cl)])),ce(cc,2),g.Element("div",cm,c.ofArray([g.Element("a",c.ofArray([h.Create("class","btn btn-lg twitter-button"),h.Create("href",cd)]),c.ofArray([g.Element("i",c.ofArray([h.Create("class","fa fa-twitter wow bounceIn")]),$.New(d,{$:0})),g.Element("span",c.ofArray([h.Create("class","label")]),c.ofArray([g.TextNode("Authorize to  make your own!")]))]))]))]));},userSelectionUI:function(cn,co,cp){var cq,cr,cs;cq=c.ofArray([h.Create("class","form-group form-group-mobile")]);cr=c.ofArray([h.Create("class",!cn?"input-group input-group-lg col-md-10":"input-group col-xs-12")]);cs="username"+q(co);return g.Element("div",cq,c.ofArray([g.Element("label",c.ofArray([h.Create("class","sr-only"),h.Create("for","username"+q(co))]),c.ofArray([g.TextNode("Username "+q(co))])),g.Element("div",cr,c.ofArray([g.Element("span",c.ofArray([h.Create("class","input-group-addon"),h.Create("id","username"+q(co))]),c.ofArray([g.TextNode("@")])),g.Input(c.ofArray([h.Create("value",""),h.Create("type","text"),h.Create("class","form-control"),h.Create("placeholder","username"),h.Create("aria-describedby",cs)]),cp)]))]));}}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.Client);c=$.Safe($$.WebSharper.List);d=$.Safe(c.T);e=$.Safe($$.WebSharper.UI);f=$.Safe(e.Next);g=$.Safe(f.Doc);h=$.Safe(f.AttrProxy);i=$.Safe($$.WebSharper.Arrays);j=$.Safe(f.Var);k=$.Safe($$.WebSharper.Concurrency);l=$.Safe($$.WebSharper.Remoting);m=$.Safe(l.AjaxRemotingProvider);n=$.Safe(f.Var1);o=$.Safe(f.View1);p=$.Safe(f.AttrModule);return q=$.Safe($$.String);});$.OnLoad(function(){b.emptyUser();return;});}());

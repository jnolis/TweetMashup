(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;$.Define($$,{IntelliFactory:{Reactive:{Disposable:$.Class({Dispose:function(){return this.Dispose1.call(null,null);}},{New:function(r){return $.New(c,{Dispose1:r});}}),HotStream:$.Class({Subscribe:function(s){this.Latest[0].$==1?s.OnNext(this.Latest[0].$0):null;return this.Event.event.Subscribe(s);},Trigger:function(t){this.Latest[0]={$:1,$0:t};return this.Event.event.Trigger(t);}},{New:function(u){var v;v={$:1,$0:u};return $.New(d,{Latest:[v],Event:f.New()});},New1:function(){return $.New(d,{Latest:[{$:0}],Event:f.New()});}}),Observable:$.Class({Subscribe:function(w){return this.OnSubscribe.call(null,w);},SubscribeWith:function(x,y){return this.OnSubscribe.call(null,g.New(x,y));}},{New:function(z){return $.New(h,{OnSubscribe:z});}}),Observer:$.Class({OnCompleted:function(){return this.OnCompleted1.call(null,null);},OnError:function(){return null;},OnNext:function(B){return this.OnNext1.call(null,B);}},{New:function(C,D){return $.New(g,{OnNext1:C,OnCompleted1:D});}}),Reactive:{Aggregate:function(E,F,G){return h.New(function(H){var I;I=[F];return i.subscribeTo(E,function(J){I[0]=(G(I[0]))(J);return H.OnNext(I[0]);});});},Choose:function(K,L){var M;M=function(N){return i.subscribeTo(K,function(O){var P,Q,R;P=L(O);if(P.$==0){Q=null;}else{R=P.$0;Q=N.OnNext(R);}return Q;});};return h.New(M);},CollectLatest:function(S){return h.New(function(T){var U,V;U=k.New12();V=[0];return i.subscribeTo(S,function(W){var X,Y;l.incr(V);X=V[0];Y=i.subscribeTo(W,function(Z){var _0;U.set_Item(X,Z);_0=m.delay(function(){return m.map(function(_2){return _2.V;},U);});return T.OnNext(_0);});return;});});},CombineLast:function(_3,_4,_5){var _6;_6=function(_7){var _8,_9,_,be,bg,bi,bj,bl,bn,bo,bp;_8=[];_9=[];_=function(){var bb,bc,bd;if(_8.length>0?_9.length>0:false){bc=_8.shift();bd=_9.shift();bb=_7.OnNext((_5(bc))(bd));}else{bb=null;}return bb;};be=function(bf){_8.push(bf);return _(null);};bg=function(){};bi=g.New(be,bg);bj=function(bk){_9.push(bk);return _(null);};bl=function(){};bn=g.New(bj,bl);bo=_3.Subscribe(bi);bp=_4.Subscribe(bn);return c.New(function(){bo.Dispose();return bp.Dispose();});};return h.New(_6);},CombineLatest:function(bq,br,bs){var bt;bt=function(bu){var bv,bw,bx,bE,bG,bI,bJ,bL,bN,bO,bP;bv=[{$:0}];bw=[{$:0}];bx=function(){var bz,bA,bB,bC,bD;bz=[bv[0],bw[0]];if(bz[0].$==1){if(bz[1].$==1){bC=bz[0].$0;bD=bz[1].$0;bB=bu.OnNext((bs(bC))(bD));}else{bB=null;}bA=bB;}else{bA=null;}return bA;};bE=function(bF){bv[0]={$:1,$0:bF};return bx(null);};bG=function(){};bI=g.New(bE,bG);bJ=function(bK){bw[0]={$:1,$0:bK};return bx(null);};bL=function(){};bN=g.New(bJ,bL);bO=bq.Subscribe(bI);bP=br.Subscribe(bN);return c.New(function(){bO.Dispose();return bP.Dispose();});};return h.New(bt);},Concat:function(bR,bS){var bT;bT=function(bU){var bV,bW,bY,b0,b1;bV=[{$:0}];bW=function(bX){return bU.OnNext(bX);};bY=function(){bV[0]={$:1,$0:bS.Subscribe(bU)};};b0=g.New(bW,bY);b1=bR.Subscribe(b0);return c.New(function(){bV[0].$==1?bV[0].$0.Dispose():null;return b1.Dispose();});};return h.New(bT);},Default:$.Field(function(){return o.New();}),Drop:function(b3,b4){var b5;b5=function(b6){var b7;b7=[0];return i.subscribeTo(b3,function(b8){l.incr(b7);return b7[0]>b4?b6.OnNext(b8):null;});};return h.New(b5);},Heat:function(b9){var b_;b_=d.New1();i.subscribeTo(b9,function(b$){return b_.Trigger(b$);});return b_;},Merge:function(ca,cb){var cc;cc=function(cd){var ce,cf,cg,ci,ck,cl,cm,co,cq,cr;ce=[false];cf=[false];cg=function(ch){return cd.OnNext(ch);};ci=function(){ce[0]=true;return(ce[0]?cf[0]:false)?cd.OnCompleted():null;};ck=g.New(cg,ci);cl=ca.Subscribe(ck);cm=function(cn){return cd.OnNext(cn);};co=function(){cf[0]=true;return(ce[0]?cf[0]:false)?cd.OnCompleted():null;};cq=g.New(cm,co);cr=cb.Subscribe(cq);return c.New(function(){cl.Dispose();return cr.Dispose();});};return h.New(cc);},Never:function(){return h.New(function(){return c.New(function(){});});},Range:function(cv,cw){var cx;cx=function(cy){var cz;for(cz=cv;cz<=cv+cw;cz++){cy.OnNext(cz);}return c.New(function(){});};return h.New(cx);},Reactive:$.Class({Aggregate:function(cB,cC,cD){return n.Aggregate(cB,cC,cD);},Choose:function(cE,cF){return n.Choose(cE,cF);},CollectLatest:function(cG){return n.CollectLatest(cG);},CombineLatest:function(cH,cI,cJ){return n.CombineLatest(cH,cI,cJ);},Concat:function(cK,cL){return n.Concat(cK,cL);},Drop:function(cM,cN){return n.Drop(cM,cN);},Heat:function(cO){return n.Heat(cO);},Merge:function(cP,cQ){return n.Merge(cP,cQ);},Never:function(){return n.Never();},Return:function(cR){return n.Return(cR);},Select:function(cS,cT){return n.Select(cS,cT);},SelectMany:function(cU){return n.SelectMany(cU);},Sequence:function(cV){return n.Sequence(cV);},Switch:function(cW){return n.Switch(cW);},Where:function(cX,cY){return n.Where(cX,cY);}},{New:function(){return $.New(this,{});}}),Return:function(cZ){var c0;c0=function(c1){c1.OnNext(cZ);c1.OnCompleted();return c.New(function(){});};return h.New(c0);},Select:function(c3,c4){return h.New(function(c5){return i.subscribeTo(c3,function(c6){return c5.OnNext(c4(c6));});});},SelectMany:function(c7){return h.New(function(c8){var c9,c$;c9=[function(){}];c$=i.subscribeTo(c7,function(da){var db;db=i.subscribeTo(da,function(dc){return c8.OnNext(dc);});c9[0]=function(){c9[0].call(null,null);return db.Dispose();};return;});return c.New(function(){c9[0].call(null,null);return c$.Dispose();});});},Sequence:function(df){var dg;dg=function(dh){var di,dj,dk,dl;if(dh.$==1){dj=dh.$1;dk=dh.$0;dl=dg(dj);di=n.CombineLatest(dk,dl,function(dm){return function(dn){return $.New(q,{$:1,$0:dm,$1:dn});};});}else{di=n.Return($.New(q,{$:0}));}return di;};return n.Select(dg(p.ofSeq(df)),function(_do){return _do;});},Switch:function(dp){return h.New(function(dq){var dr,ds,dt;dr=[0];ds=[{$:0}];dt=i.subscribeTo(dp,function(du){var dv,dw,dy;l.incr(dr);ds[0].$==1?ds[0].$0.Dispose():null;dv=dr[0];dw=i.subscribeTo(du,function(dx){return dv===dr[0]?dq.OnNext(dx):null;});dy={$:1,$0:dw};ds[0]=dy;return;});return dt;});},Where:function(dz,dA){var dB;dB=function(dC){return i.subscribeTo(dz,function(dD){return dA(dD)?dC.OnNext(dD):null;});};return h.New(dB);}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory);b=$.Safe(a.Reactive);c=$.Safe(b.Disposable);d=$.Safe(b.HotStream);e=$.Safe($$.WebSharper.Control);f=$.Safe(e.FSharpEvent);g=$.Safe(b.Observer);h=$.Safe(b.Observable);i=$.Safe($$.WebSharper.Util);j=$.Safe($$.WebSharper.Collections);k=$.Safe(j.Dictionary);l=$.Safe($$.WebSharper.Ref);m=$.Safe($$.WebSharper.Seq);n=$.Safe(b.Reactive);o=$.Safe(n.Reactive);p=$.Safe($$.WebSharper.List);return q=$.Safe(p.T);});$.OnLoad(function(){n.Default();return;});}());
